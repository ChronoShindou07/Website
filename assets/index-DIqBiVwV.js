(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=t(a);fetch(a.href,u)}})();var dh={exports:{}},sa={},fh={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function F_(){if(Xp)return Te;Xp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.iterator;function j(b){return b===null||typeof b!="object"?null:(b=P&&b[P]||b["@@iterator"],typeof b=="function"?b:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,J={};function W(b,B,le){this.props=b,this.context=B,this.refs=J,this.updater=le||z}W.prototype.isReactComponent={},W.prototype.setState=function(b,B){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,B,"setState")},W.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function we(){}we.prototype=W.prototype;function me(b,B,le){this.props=b,this.context=B,this.refs=J,this.updater=le||z}var _e=me.prototype=new we;_e.constructor=me,Y(_e,W.prototype),_e.isPureReactComponent=!0;var ye=Array.isArray,Ge=Object.prototype.hasOwnProperty,Se={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(b,B,le){var Ee,Ie={},ke=null,Ve=null;if(B!=null)for(Ee in B.ref!==void 0&&(Ve=B.ref),B.key!==void 0&&(ke=""+B.key),B)Ge.call(B,Ee)&&!N.hasOwnProperty(Ee)&&(Ie[Ee]=B[Ee]);var Oe=arguments.length-2;if(Oe===1)Ie.children=le;else if(1<Oe){for(var Be=Array(Oe),mt=0;mt<Oe;mt++)Be[mt]=arguments[mt+2];Ie.children=Be}if(b&&b.defaultProps)for(Ee in Oe=b.defaultProps,Oe)Ie[Ee]===void 0&&(Ie[Ee]=Oe[Ee]);return{$$typeof:i,type:b,key:ke,ref:Ve,props:Ie,_owner:Se.current}}function A(b,B){return{$$typeof:i,type:b.type,key:B,ref:b.ref,props:b.props,_owner:b._owner}}function C(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function D(b){var B={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(le){return B[le]})}var V=/\/+/g;function x(b,B){return typeof b=="object"&&b!==null&&b.key!=null?D(""+b.key):B.toString(36)}function tt(b,B,le,Ee,Ie){var ke=typeof b;(ke==="undefined"||ke==="boolean")&&(b=null);var Ve=!1;if(b===null)Ve=!0;else switch(ke){case"string":case"number":Ve=!0;break;case"object":switch(b.$$typeof){case i:case e:Ve=!0}}if(Ve)return Ve=b,Ie=Ie(Ve),b=Ee===""?"."+x(Ve,0):Ee,ye(Ie)?(le="",b!=null&&(le=b.replace(V,"$&/")+"/"),tt(Ie,B,le,"",function(mt){return mt})):Ie!=null&&(C(Ie)&&(Ie=A(Ie,le+(!Ie.key||Ve&&Ve.key===Ie.key?"":(""+Ie.key).replace(V,"$&/")+"/")+b)),B.push(Ie)),1;if(Ve=0,Ee=Ee===""?".":Ee+":",ye(b))for(var Oe=0;Oe<b.length;Oe++){ke=b[Oe];var Be=Ee+x(ke,Oe);Ve+=tt(ke,B,le,Be,Ie)}else if(Be=j(b),typeof Be=="function")for(b=Be.call(b),Oe=0;!(ke=b.next()).done;)ke=ke.value,Be=Ee+x(ke,Oe++),Ve+=tt(ke,B,le,Be,Ie);else if(ke==="object")throw B=String(b),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Rt(b,B,le){if(b==null)return b;var Ee=[],Ie=0;return tt(b,Ee,"","",function(ke){return B.call(le,ke,Ie++)}),Ee}function Pt(b){if(b._status===-1){var B=b._result;B=B(),B.then(function(le){(b._status===0||b._status===-1)&&(b._status=1,b._result=le)},function(le){(b._status===0||b._status===-1)&&(b._status=2,b._result=le)}),b._status===-1&&(b._status=0,b._result=B)}if(b._status===1)return b._result.default;throw b._result}var Fe={current:null},Z={transition:null},ue={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:Se};function te(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:Rt,forEach:function(b,B,le){Rt(b,function(){B.apply(this,arguments)},le)},count:function(b){var B=0;return Rt(b,function(){B++}),B},toArray:function(b){return Rt(b,function(B){return B})||[]},only:function(b){if(!C(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Te.Component=W,Te.Fragment=t,Te.Profiler=a,Te.PureComponent=me,Te.StrictMode=s,Te.Suspense=y,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Te.act=te,Te.cloneElement=function(b,B,le){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Ee=Y({},b.props),Ie=b.key,ke=b.ref,Ve=b._owner;if(B!=null){if(B.ref!==void 0&&(ke=B.ref,Ve=Se.current),B.key!==void 0&&(Ie=""+B.key),b.type&&b.type.defaultProps)var Oe=b.type.defaultProps;for(Be in B)Ge.call(B,Be)&&!N.hasOwnProperty(Be)&&(Ee[Be]=B[Be]===void 0&&Oe!==void 0?Oe[Be]:B[Be])}var Be=arguments.length-2;if(Be===1)Ee.children=le;else if(1<Be){Oe=Array(Be);for(var mt=0;mt<Be;mt++)Oe[mt]=arguments[mt+2];Ee.children=Oe}return{$$typeof:i,type:b.type,key:Ie,ref:ke,props:Ee,_owner:Ve}},Te.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},Te.createElement=S,Te.createFactory=function(b){var B=S.bind(null,b);return B.type=b,B},Te.createRef=function(){return{current:null}},Te.forwardRef=function(b){return{$$typeof:m,render:b}},Te.isValidElement=C,Te.lazy=function(b){return{$$typeof:I,_payload:{_status:-1,_result:b},_init:Pt}},Te.memo=function(b,B){return{$$typeof:_,type:b,compare:B===void 0?null:B}},Te.startTransition=function(b){var B=Z.transition;Z.transition={};try{b()}finally{Z.transition=B}},Te.unstable_act=te,Te.useCallback=function(b,B){return Fe.current.useCallback(b,B)},Te.useContext=function(b){return Fe.current.useContext(b)},Te.useDebugValue=function(){},Te.useDeferredValue=function(b){return Fe.current.useDeferredValue(b)},Te.useEffect=function(b,B){return Fe.current.useEffect(b,B)},Te.useId=function(){return Fe.current.useId()},Te.useImperativeHandle=function(b,B,le){return Fe.current.useImperativeHandle(b,B,le)},Te.useInsertionEffect=function(b,B){return Fe.current.useInsertionEffect(b,B)},Te.useLayoutEffect=function(b,B){return Fe.current.useLayoutEffect(b,B)},Te.useMemo=function(b,B){return Fe.current.useMemo(b,B)},Te.useReducer=function(b,B,le){return Fe.current.useReducer(b,B,le)},Te.useRef=function(b){return Fe.current.useRef(b)},Te.useState=function(b){return Fe.current.useState(b)},Te.useSyncExternalStore=function(b,B,le){return Fe.current.useSyncExternalStore(b,B,le)},Te.useTransition=function(){return Fe.current.useTransition()},Te.version="18.3.1",Te}var Jp;function td(){return Jp||(Jp=1,fh.exports=F_()),fh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function U_(){if(Zp)return sa;Zp=1;var i=td(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,y,_){var I,P={},j=null,z=null;_!==void 0&&(j=""+_),y.key!==void 0&&(j=""+y.key),y.ref!==void 0&&(z=y.ref);for(I in y)s.call(y,I)&&!u.hasOwnProperty(I)&&(P[I]=y[I]);if(m&&m.defaultProps)for(I in y=m.defaultProps,y)P[I]===void 0&&(P[I]=y[I]);return{$$typeof:e,type:m,key:j,ref:z,props:P,_owner:a.current}}return sa.Fragment=t,sa.jsx=h,sa.jsxs=h,sa}var em;function z_(){return em||(em=1,dh.exports=U_()),dh.exports}var w=z_(),ze=td(),Yl={},ph={exports:{}},Xt={},mh={exports:{}},gh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function B_(){return tm||(tm=1,function(i){function e(Z,ue){var te=Z.length;Z.push(ue);e:for(;0<te;){var b=te-1>>>1,B=Z[b];if(0<a(B,ue))Z[b]=ue,Z[te]=B,te=b;else break e}}function t(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ue=Z[0],te=Z.pop();if(te!==ue){Z[0]=te;e:for(var b=0,B=Z.length,le=B>>>1;b<le;){var Ee=2*(b+1)-1,Ie=Z[Ee],ke=Ee+1,Ve=Z[ke];if(0>a(Ie,te))ke<B&&0>a(Ve,Ie)?(Z[b]=Ve,Z[ke]=te,b=ke):(Z[b]=Ie,Z[Ee]=te,b=Ee);else if(ke<B&&0>a(Ve,te))Z[b]=Ve,Z[ke]=te,b=ke;else break e}}return ue}function a(Z,ue){var te=Z.sortIndex-ue.sortIndex;return te!==0?te:Z.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var y=[],_=[],I=1,P=null,j=3,z=!1,Y=!1,J=!1,W=typeof setTimeout=="function"?setTimeout:null,we=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _e(Z){for(var ue=t(_);ue!==null;){if(ue.callback===null)s(_);else if(ue.startTime<=Z)s(_),ue.sortIndex=ue.expirationTime,e(y,ue);else break;ue=t(_)}}function ye(Z){if(J=!1,_e(Z),!Y)if(t(y)!==null)Y=!0,Pt(Ge);else{var ue=t(_);ue!==null&&Fe(ye,ue.startTime-Z)}}function Ge(Z,ue){Y=!1,J&&(J=!1,we(S),S=-1),z=!0;var te=j;try{for(_e(ue),P=t(y);P!==null&&(!(P.expirationTime>ue)||Z&&!D());){var b=P.callback;if(typeof b=="function"){P.callback=null,j=P.priorityLevel;var B=b(P.expirationTime<=ue);ue=i.unstable_now(),typeof B=="function"?P.callback=B:P===t(y)&&s(y),_e(ue)}else s(y);P=t(y)}if(P!==null)var le=!0;else{var Ee=t(_);Ee!==null&&Fe(ye,Ee.startTime-ue),le=!1}return le}finally{P=null,j=te,z=!1}}var Se=!1,N=null,S=-1,A=5,C=-1;function D(){return!(i.unstable_now()-C<A)}function V(){if(N!==null){var Z=i.unstable_now();C=Z;var ue=!0;try{ue=N(!0,Z)}finally{ue?x():(Se=!1,N=null)}}else Se=!1}var x;if(typeof me=="function")x=function(){me(V)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,Rt=tt.port2;tt.port1.onmessage=V,x=function(){Rt.postMessage(null)}}else x=function(){W(V,0)};function Pt(Z){N=Z,Se||(Se=!0,x())}function Fe(Z,ue){S=W(function(){Z(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_continueExecution=function(){Y||z||(Y=!0,Pt(Ge))},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return j},i.unstable_getFirstCallbackNode=function(){return t(y)},i.unstable_next=function(Z){switch(j){case 1:case 2:case 3:var ue=3;break;default:ue=j}var te=j;j=ue;try{return Z()}finally{j=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var te=j;j=Z;try{return ue()}finally{j=te}},i.unstable_scheduleCallback=function(Z,ue,te){var b=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?b+te:b):te=b,Z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=te+B,Z={id:I++,callback:ue,priorityLevel:Z,startTime:te,expirationTime:B,sortIndex:-1},te>b?(Z.sortIndex=te,e(_,Z),t(y)===null&&Z===t(_)&&(J?(we(S),S=-1):J=!0,Fe(ye,te-b))):(Z.sortIndex=B,e(y,Z),Y||z||(Y=!0,Pt(Ge))),Z},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(Z){var ue=j;return function(){var te=j;j=ue;try{return Z.apply(this,arguments)}finally{j=te}}}}(gh)),gh}var nm;function $_(){return nm||(nm=1,mh.exports=B_()),mh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function q_(){if(rm)return Xt;rm=1;var i=td(),e=$_();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(n,r){h(n,r),h(n+"Capture",r)}function h(n,r){for(a[n]=r,n=0;n<r.length;n++)s.add(r[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},P={};function j(n){return y.call(P,n)?!0:y.call(I,n)?!1:_.test(n)?P[n]=!0:(I[n]=!0,!1)}function z(n,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Y(n,r,o,c){if(r===null||typeof r>"u"||z(n,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function J(n,r,o,c,d,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=n,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){W[n]=new J(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];W[r]=new J(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){W[n]=new J(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){W[n]=new J(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){W[n]=new J(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){W[n]=new J(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){W[n]=new J(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){W[n]=new J(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){W[n]=new J(n,5,!1,n.toLowerCase(),null,!1,!1)});var we=/[\-:]([a-z])/g;function me(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(we,me);W[r]=new J(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(we,me);W[r]=new J(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(we,me);W[r]=new J(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){W[n]=new J(n,1,!1,n.toLowerCase(),null,!1,!1)}),W.xlinkHref=new J("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){W[n]=new J(n,1,!1,n.toLowerCase(),null,!0,!0)});function _e(n,r,o,c){var d=W.hasOwnProperty(r)?W[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Y(r,o,d,c)&&(o=null),c||d===null?j(r)&&(o===null?n.removeAttribute(r):n.setAttribute(r,""+o)):d.mustUseProperty?n[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,c=d.attributeNamespace,o===null?n.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?n.setAttributeNS(c,r,o):n.setAttribute(r,o))))}var ye=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ge=Symbol.for("react.element"),Se=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ue(n){return n===null||typeof n!="object"?null:(n=Z&&n[Z]||n["@@iterator"],typeof n=="function"?n:null)}var te=Object.assign,b;function B(n){if(b===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);b=r&&r[1]||""}return`
`+b+n}var le=!1;function Ee(n,r){if(!n||le)return"";le=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var c=F}Reflect.construct(n,[],r)}else{try{r.call()}catch(F){c=F}n.call(r.prototype)}else{try{throw Error()}catch(F){c=F}n()}}catch(F){if(F&&c&&typeof F.stack=="string"){for(var d=F.stack.split(`
`),p=c.stack.split(`
`),v=d.length-1,T=p.length-1;1<=v&&0<=T&&d[v]!==p[T];)T--;for(;1<=v&&0<=T;v--,T--)if(d[v]!==p[T]){if(v!==1||T!==1)do if(v--,T--,0>T||d[v]!==p[T]){var k=`
`+d[v].replace(" at new "," at ");return n.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",n.displayName)),k}while(1<=v&&0<=T);break}}}finally{le=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?B(n):""}function Ie(n){switch(n.tag){case 5:return B(n.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return n=Ee(n.type,!1),n;case 11:return n=Ee(n.type.render,!1),n;case 1:return n=Ee(n.type,!0),n;default:return""}}function ke(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case Se:return"Portal";case A:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case tt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D:return(n.displayName||"Context")+".Consumer";case C:return(n._context.displayName||"Context")+".Provider";case V:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Rt:return r=n.displayName||null,r!==null?r:ke(n.type)||"Memo";case Pt:r=n._payload,n=n._init;try{return ke(n(r))}catch{}}return null}function Ve(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(r);case 8:return r===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Oe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Be(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mt(n){var r=Be(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,p.call(this,v)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Jn(n){n._valueTracker||(n._valueTracker=mt(n))}function Gi(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return n&&(c=Be(n)?n.checked?"true":"false":n.value),n=c,n!==o?(r.setValue(n),!0):!1}function Ar(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function hi(n,r){var o=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function Qi(n,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=Oe(r.value!=null?r.value:o),n._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function co(n,r){r=r.checked,r!=null&&_e(n,"checked",r,!1)}function ho(n,r){co(n,r);var o=Oe(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?Yi(n,r.type,o):r.hasOwnProperty("defaultValue")&&Yi(n,r.type,Oe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function Oa(n,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,o||r===n.value||(n.value=r),n.defaultValue=r}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function Yi(n,r,o){(r!=="number"||Ar(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var Zn=Array.isArray;function er(n,r,o,c){if(n=n.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=r.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&c&&(n[o].defaultSelected=!0)}else{for(o=""+Oe(o),r=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function fo(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Xi(n,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(t(92));if(Zn(o)){if(1<o.length)throw Error(t(93));o=o[0]}r=o}r==null&&(r=""),o=r}n._wrapperState={initialValue:Oe(o)}}function Ji(n,r){var o=Oe(r.value),c=Oe(r.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),r.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),c!=null&&(n.defaultValue=""+c)}function po(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function ct(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?ct(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var tr,mo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,d){MSApp.execUnsafeLocalFunction(function(){return n(r,o,c,d)})}:n}(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=tr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function kr(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fi=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(n){fi.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),di[r]=di[n]})});function go(n,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||di.hasOwnProperty(n)&&di[n]?(""+r).trim():r+"px"}function yo(n,r){n=n.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=go(o,r[o],c);o==="float"&&(o="cssFloat"),c?n.setProperty(o,d):n[o]=d}}var vo=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(n,r){if(r){if(vo[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function wo(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function Zi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var es=null,ln=null,Vn=null;function ts(n){if(n=qo(n)){if(typeof es!="function")throw Error(t(280));var r=n.stateNode;r&&(r=hl(r),es(n.stateNode,n.type,r))}}function On(n){ln?Vn?Vn.push(n):Vn=[n]:ln=n}function Eo(){if(ln){var n=ln,r=Vn;if(Vn=ln=null,ts(n),r)for(n=0;n<r.length;n++)ts(r[n])}}function mi(n,r){return n(r)}function Io(){}var nr=!1;function To(n,r,o){if(nr)return n(r,o);nr=!0;try{return mi(n,r,o)}finally{nr=!1,(ln!==null||Vn!==null)&&(Io(),Eo())}}function nt(n,r){var o=n.stateNode;if(o===null)return null;var c=hl(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(t(231,r,typeof o));return o}var ns=!1;if(m)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){ns=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{ns=!1}function gi(n,r,o,c,d,p,v,T,k){var F=Array.prototype.slice.call(arguments,3);try{r.apply(o,F)}catch(q){this.onError(q)}}var yi=!1,rs=null,_n=!1,So=null,Uu={onError:function(n){yi=!0,rs=n}};function is(n,r,o,c,d,p,v,T,k){yi=!1,rs=null,gi.apply(Uu,arguments)}function La(n,r,o,c,d,p,v,T,k){if(is.apply(this,arguments),yi){if(yi){var F=rs;yi=!1,rs=null}else throw Error(t(198));_n||(_n=!0,So=F)}}function wn(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function vi(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function En(n){if(wn(n)!==n)throw Error(t(188))}function Ma(n){var r=n.alternate;if(!r){if(r=wn(n),r===null)throw Error(t(188));return r!==n?null:n}for(var o=n,c=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return En(d),n;if(p===c)return En(d),r;p=p.sibling}throw Error(t(188))}if(o.return!==c.return)o=d,c=p;else{for(var v=!1,T=d.child;T;){if(T===o){v=!0,o=d,c=p;break}if(T===c){v=!0,c=d,o=p;break}T=T.sibling}if(!v){for(T=p.child;T;){if(T===o){v=!0,o=p,c=d;break}if(T===c){v=!0,c=p,o=d;break}T=T.sibling}if(!v)throw Error(t(189))}}if(o.alternate!==c)throw Error(t(190))}if(o.tag!==3)throw Error(t(188));return o.stateNode.current===o?n:r}function xo(n){return n=Ma(n),n!==null?ss(n):null}function ss(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=ss(n);if(r!==null)return r;n=n.sibling}return null}var os=e.unstable_scheduleCallback,Ao=e.unstable_cancelCallback,ja=e.unstable_shouldYield,zu=e.unstable_requestPaint,$e=e.unstable_now,Fa=e.unstable_getCurrentPriorityLevel,_i=e.unstable_ImmediatePriority,Cr=e.unstable_UserBlockingPriority,un=e.unstable_NormalPriority,ko=e.unstable_LowPriority,Ua=e.unstable_IdlePriority,wi=null,Jt=null;function za(n){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(wi,n,void 0,(n.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:$a,Co=Math.log,Ba=Math.LN2;function $a(n){return n>>>=0,n===0?32:31-(Co(n)/Ba|0)|0}var as=64,ls=4194304;function Rr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ei(n,r){var o=n.pendingLanes;if(o===0)return 0;var c=0,d=n.suspendedLanes,p=n.pingedLanes,v=o&268435455;if(v!==0){var T=v&~d;T!==0?c=Rr(T):(p&=v,p!==0&&(c=Rr(p)))}else v=o&~d,v!==0?c=Rr(v):p!==0&&(c=Rr(p));if(c===0)return 0;if(r!==0&&r!==c&&(r&d)===0&&(d=c&-c,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if((c&4)!==0&&(c|=o&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)o=31-Ut(r),d=1<<o,c|=n[o],r&=~d;return c}function Bu(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rr(n,r){for(var o=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes;0<p;){var v=31-Ut(p),T=1<<v,k=d[v];k===-1?((T&o)===0||(T&c)!==0)&&(d[v]=Bu(T,r)):k<=r&&(n.expiredLanes|=T),p&=~T}}function Zt(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ii(){var n=as;return as<<=1,(as&4194240)===0&&(as=64),n}function Pr(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Nr(n,r,o){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Ut(r),n[r]=o}function Ue(n,r){var o=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<o;){var d=31-Ut(o),p=1<<d;r[d]=0,c[d]=-1,n[d]=-1,o&=~p}}function Dr(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var c=31-Ut(o),d=1<<c;d&r|n[c]&r&&(n[c]|=r),o&=~d}}var xe=0;function br(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var qa,us,Ha,Wa,Ka,Ro=!1,Ln=[],It=null,In=null,Tn=null,Vr=new Map,cn=new Map,Mn=[],$u="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ga(n,r){switch(n){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Vr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(r.pointerId)}}function qt(n,r,o,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},r!==null&&(r=qo(r),r!==null&&us(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function qu(n,r,o,c,d){switch(r){case"focusin":return It=qt(It,n,r,o,c,d),!0;case"dragenter":return In=qt(In,n,r,o,c,d),!0;case"mouseover":return Tn=qt(Tn,n,r,o,c,d),!0;case"pointerover":var p=d.pointerId;return Vr.set(p,qt(Vr.get(p)||null,n,r,o,c,d)),!0;case"gotpointercapture":return p=d.pointerId,cn.set(p,qt(cn.get(p)||null,n,r,o,c,d)),!0}return!1}function Qa(n){var r=ki(n.target);if(r!==null){var o=wn(r);if(o!==null){if(r=o.tag,r===13){if(r=vi(o),r!==null){n.blockedOn=r,Ka(n.priority,function(){Ha(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ir(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=cs(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);pi=c,o.target.dispatchEvent(c),pi=null}else return r=qo(o),r!==null&&us(r),n.blockedOn=o,!1;r.shift()}return!0}function Ti(n,r,o){ir(n)&&o.delete(r)}function Ya(){Ro=!1,It!==null&&ir(It)&&(It=null),In!==null&&ir(In)&&(In=null),Tn!==null&&ir(Tn)&&(Tn=null),Vr.forEach(Ti),cn.forEach(Ti)}function Sn(n,r){n.blockedOn===r&&(n.blockedOn=null,Ro||(Ro=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ya)))}function xn(n){function r(d){return Sn(d,n)}if(0<Ln.length){Sn(Ln[0],n);for(var o=1;o<Ln.length;o++){var c=Ln[o];c.blockedOn===n&&(c.blockedOn=null)}}for(It!==null&&Sn(It,n),In!==null&&Sn(In,n),Tn!==null&&Sn(Tn,n),Vr.forEach(r),cn.forEach(r),o=0;o<Mn.length;o++)c=Mn[o],c.blockedOn===n&&(c.blockedOn=null);for(;0<Mn.length&&(o=Mn[0],o.blockedOn===null);)Qa(o),o.blockedOn===null&&Mn.shift()}var sr=ye.ReactCurrentBatchConfig,Or=!0;function Qe(n,r,o,c){var d=xe,p=sr.transition;sr.transition=null;try{xe=1,Po(n,r,o,c)}finally{xe=d,sr.transition=p}}function Hu(n,r,o,c){var d=xe,p=sr.transition;sr.transition=null;try{xe=4,Po(n,r,o,c)}finally{xe=d,sr.transition=p}}function Po(n,r,o,c){if(Or){var d=cs(n,r,o,c);if(d===null)nc(n,r,c,Si,o),Ga(n,c);else if(qu(d,n,r,o,c))c.stopPropagation();else if(Ga(n,c),r&4&&-1<$u.indexOf(n)){for(;d!==null;){var p=qo(d);if(p!==null&&qa(p),p=cs(n,r,o,c),p===null&&nc(n,r,c,Si,o),p===d)break;d=p}d!==null&&c.stopPropagation()}else nc(n,r,c,null,o)}}var Si=null;function cs(n,r,o,c){if(Si=null,n=Zi(c),n=ki(n),n!==null)if(r=wn(n),r===null)n=null;else if(o=r.tag,o===13){if(n=vi(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Si=n,null}function No(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fa()){case _i:return 1;case Cr:return 4;case un:case ko:return 16;case Ua:return 536870912;default:return 16}default:return 16}}var en=null,hs=null,Ht=null;function Do(){if(Ht)return Ht;var n,r=hs,o=r.length,c,d="value"in en?en.value:en.textContent,p=d.length;for(n=0;n<o&&r[n]===d[n];n++);var v=o-n;for(c=1;c<=v&&r[o-c]===d[p-c];c++);return Ht=d.slice(n,1<c?1-c:void 0)}function ds(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function jn(){return!0}function bo(){return!1}function Tt(n){function r(o,c,d,p,v){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?jn:bo,this.isPropagationStopped=bo,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),r}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=Tt(An),Fn=te({},An,{view:0,detail:0}),Wu=Tt(Fn),ps,or,Lr,xi=te({},Fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Un,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Lr&&(Lr&&n.type==="mousemove"?(ps=n.screenX-Lr.screenX,or=n.screenY-Lr.screenY):or=ps=0,Lr=n),ps)},movementY:function(n){return"movementY"in n?n.movementY:or}}),ms=Tt(xi),Vo=te({},xi,{dataTransfer:0}),Xa=Tt(Vo),gs=te({},Fn,{relatedTarget:0}),ys=Tt(gs),Ja=te({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),ar=Tt(Ja),Za=te({},An,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),el=Tt(Za),tl=te({},An,{data:0}),Oo=Tt(tl),vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=nl[n])?!!r[n]:!1}function Un(){return rl}var l=te({},Fn,{key:function(n){if(n.key){var r=vs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ds(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Un,charCode:function(n){return n.type==="keypress"?ds(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ds(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),f=Tt(l),g=te({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Tt(g),O=te({},Fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Un}),U=Tt(O),X=te({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=Tt(X),dt=te({},xi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=Tt(dt),gt=[9,13,27,32],ot=m&&"CompositionEvent"in window,hn=null;m&&"documentMode"in document&&(hn=document.documentMode);var tn=m&&"TextEvent"in window&&!hn,Ai=m&&(!ot||hn&&8<hn&&11>=hn),_s=" ",qd=!1;function Hd(n,r){switch(n){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ws=!1;function Lv(n,r){switch(n){case"compositionend":return Wd(r);case"keypress":return r.which!==32?null:(qd=!0,_s);case"textInput":return n=r.data,n===_s&&qd?null:n;default:return null}}function Mv(n,r){if(ws)return n==="compositionend"||!ot&&Hd(n,r)?(n=Do(),Ht=hs=en=null,ws=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ai&&r.locale!=="ko"?null:r.data;default:return null}}var jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!jv[n.type]:r==="textarea"}function Gd(n,r,o,c){On(c),r=ll(r,"onChange"),0<r.length&&(o=new fs("onChange","change",null,o,c),n.push({event:o,listeners:r}))}var Lo=null,Mo=null;function Fv(n){ff(n,0)}function il(n){var r=xs(n);if(Gi(r))return n}function Uv(n,r){if(n==="change")return r}var Qd=!1;if(m){var Ku;if(m){var Gu="oninput"in document;if(!Gu){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),Gu=typeof Yd.oninput=="function"}Ku=Gu}else Ku=!1;Qd=Ku&&(!document.documentMode||9<document.documentMode)}function Xd(){Lo&&(Lo.detachEvent("onpropertychange",Jd),Mo=Lo=null)}function Jd(n){if(n.propertyName==="value"&&il(Mo)){var r=[];Gd(r,Mo,n,Zi(n)),To(Fv,r)}}function zv(n,r,o){n==="focusin"?(Xd(),Lo=r,Mo=o,Lo.attachEvent("onpropertychange",Jd)):n==="focusout"&&Xd()}function Bv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return il(Mo)}function $v(n,r){if(n==="click")return il(r)}function qv(n,r){if(n==="input"||n==="change")return il(r)}function Hv(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var kn=typeof Object.is=="function"?Object.is:Hv;function jo(n,r){if(kn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!y.call(r,d)||!kn(n[d],r[d]))return!1}return!0}function Zd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ef(n,r){var o=Zd(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=r&&c>=r)return{node:o,offset:r-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Zd(o)}}function tf(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?tf(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function nf(){for(var n=window,r=Ar();r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=Ar(n.document)}return r}function Qu(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Wv(n){var r=nf(),o=n.focusedElem,c=n.selectionRange;if(r!==o&&o&&o.ownerDocument&&tf(o.ownerDocument.documentElement,o)){if(c!==null&&Qu(o)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(n,o.value.length);else if(n=(r=o.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var d=o.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!n.extend&&p>c&&(d=c,c=p,p=d),d=ef(o,p);var v=ef(o,c);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),n.removeAllRanges(),p>c?(n.addRange(r),n.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),n.addRange(r)))}}for(r=[],n=o;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)n=r[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Kv=m&&"documentMode"in document&&11>=document.documentMode,Es=null,Yu=null,Fo=null,Xu=!1;function rf(n,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xu||Es==null||Es!==Ar(c)||(c=Es,"selectionStart"in c&&Qu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Fo&&jo(Fo,c)||(Fo=c,c=ll(Yu,"onSelect"),0<c.length&&(r=new fs("onSelect","select",null,r,o),n.push({event:r,listeners:c}),r.target=Es)))}function sl(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Is={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},Ju={},sf={};m&&(sf=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function ol(n){if(Ju[n])return Ju[n];if(!Is[n])return n;var r=Is[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in sf)return Ju[n]=r[o];return n}var of=ol("animationend"),af=ol("animationiteration"),lf=ol("animationstart"),uf=ol("transitionend"),cf=new Map,hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(n,r){cf.set(n,r),u(r,[n])}for(var Zu=0;Zu<hf.length;Zu++){var ec=hf[Zu],Gv=ec.toLowerCase(),Qv=ec[0].toUpperCase()+ec.slice(1);Mr(Gv,"on"+Qv)}Mr(of,"onAnimationEnd"),Mr(af,"onAnimationIteration"),Mr(lf,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(uf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function df(n,r,o){var c=n.type||"unknown-event";n.currentTarget=o,La(c,r,void 0,n),n.currentTarget=null}function ff(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],d=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var v=c.length-1;0<=v;v--){var T=c[v],k=T.instance,F=T.currentTarget;if(T=T.listener,k!==p&&d.isPropagationStopped())break e;df(d,T,F),p=k}else for(v=0;v<c.length;v++){if(T=c[v],k=T.instance,F=T.currentTarget,T=T.listener,k!==p&&d.isPropagationStopped())break e;df(d,T,F),p=k}}}if(_n)throw n=So,_n=!1,So=null,n}function He(n,r){var o=r[lc];o===void 0&&(o=r[lc]=new Set);var c=n+"__bubble";o.has(c)||(pf(r,n,2,!1),o.add(c))}function tc(n,r,o){var c=0;r&&(c|=4),pf(o,n,c,r)}var al="_reactListening"+Math.random().toString(36).slice(2);function zo(n){if(!n[al]){n[al]=!0,s.forEach(function(o){o!=="selectionchange"&&(Yv.has(o)||tc(o,!1,n),tc(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[al]||(r[al]=!0,tc("selectionchange",!1,r))}}function pf(n,r,o,c){switch(No(r)){case 1:var d=Qe;break;case 4:d=Hu;break;default:d=Po}o=d.bind(null,r,o,n),d=void 0,!ns||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(r,o,{capture:!0,passive:d}):n.addEventListener(r,o,!0):d!==void 0?n.addEventListener(r,o,{passive:d}):n.addEventListener(r,o,!1)}function nc(n,r,o,c,d){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var T=c.stateNode.containerInfo;if(T===d||T.nodeType===8&&T.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var k=v.tag;if((k===3||k===4)&&(k=v.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;v=v.return}for(;T!==null;){if(v=ki(T),v===null)return;if(k=v.tag,k===5||k===6){c=p=v;continue e}T=T.parentNode}}c=c.return}To(function(){var F=p,q=Zi(o),K=[];e:{var $=cf.get(n);if($!==void 0){var ee=fs,re=n;switch(n){case"keypress":if(ds(o)===0)break e;case"keydown":case"keyup":ee=f;break;case"focusin":re="focus",ee=ys;break;case"focusout":re="blur",ee=ys;break;case"beforeblur":case"afterblur":ee=ys;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Xa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=U;break;case of:case af:case lf:ee=ar;break;case uf:ee=je;break;case"scroll":ee=Wu;break;case"wheel":ee=Ce;break;case"copy":case"cut":case"paste":ee=el;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=E}var ie=(r&4)!==0,rt=!ie&&n==="scroll",L=ie?$!==null?$+"Capture":null:$;ie=[];for(var R=F,M;R!==null;){M=R;var G=M.stateNode;if(M.tag===5&&G!==null&&(M=G,L!==null&&(G=nt(R,L),G!=null&&ie.push(Bo(R,G,M)))),rt)break;R=R.return}0<ie.length&&($=new ee($,re,null,o,q),K.push({event:$,listeners:ie}))}}if((r&7)===0){e:{if($=n==="mouseover"||n==="pointerover",ee=n==="mouseout"||n==="pointerout",$&&o!==pi&&(re=o.relatedTarget||o.fromElement)&&(ki(re)||re[lr]))break e;if((ee||$)&&($=q.window===q?q:($=q.ownerDocument)?$.defaultView||$.parentWindow:window,ee?(re=o.relatedTarget||o.toElement,ee=F,re=re?ki(re):null,re!==null&&(rt=wn(re),re!==rt||re.tag!==5&&re.tag!==6)&&(re=null)):(ee=null,re=F),ee!==re)){if(ie=ms,G="onMouseLeave",L="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(ie=E,G="onPointerLeave",L="onPointerEnter",R="pointer"),rt=ee==null?$:xs(ee),M=re==null?$:xs(re),$=new ie(G,R+"leave",ee,o,q),$.target=rt,$.relatedTarget=M,G=null,ki(q)===F&&(ie=new ie(L,R+"enter",re,o,q),ie.target=M,ie.relatedTarget=rt,G=ie),rt=G,ee&&re)t:{for(ie=ee,L=re,R=0,M=ie;M;M=Ts(M))R++;for(M=0,G=L;G;G=Ts(G))M++;for(;0<R-M;)ie=Ts(ie),R--;for(;0<M-R;)L=Ts(L),M--;for(;R--;){if(ie===L||L!==null&&ie===L.alternate)break t;ie=Ts(ie),L=Ts(L)}ie=null}else ie=null;ee!==null&&mf(K,$,ee,ie,!1),re!==null&&rt!==null&&mf(K,rt,re,ie,!0)}}e:{if($=F?xs(F):window,ee=$.nodeName&&$.nodeName.toLowerCase(),ee==="select"||ee==="input"&&$.type==="file")var ae=Uv;else if(Kd($))if(Qd)ae=qv;else{ae=Bv;var he=zv}else(ee=$.nodeName)&&ee.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ae=$v);if(ae&&(ae=ae(n,F))){Gd(K,ae,o,q);break e}he&&he(n,$,F),n==="focusout"&&(he=$._wrapperState)&&he.controlled&&$.type==="number"&&Yi($,"number",$.value)}switch(he=F?xs(F):window,n){case"focusin":(Kd(he)||he.contentEditable==="true")&&(Es=he,Yu=F,Fo=null);break;case"focusout":Fo=Yu=Es=null;break;case"mousedown":Xu=!0;break;case"contextmenu":case"mouseup":case"dragend":Xu=!1,rf(K,o,q);break;case"selectionchange":if(Kv)break;case"keydown":case"keyup":rf(K,o,q)}var de;if(ot)e:{switch(n){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else ws?Hd(n,o)&&(fe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(Ai&&o.locale!=="ko"&&(ws||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&ws&&(de=Do()):(en=q,hs="value"in en?en.value:en.textContent,ws=!0)),he=ll(F,fe),0<he.length&&(fe=new Oo(fe,n,null,o,q),K.push({event:fe,listeners:he}),de?fe.data=de:(de=Wd(o),de!==null&&(fe.data=de)))),(de=tn?Lv(n,o):Mv(n,o))&&(F=ll(F,"onBeforeInput"),0<F.length&&(q=new Oo("onBeforeInput","beforeinput",null,o,q),K.push({event:q,listeners:F}),q.data=de))}ff(K,r)})}function Bo(n,r,o){return{instance:n,listener:r,currentTarget:o}}function ll(n,r){for(var o=r+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=nt(n,o),p!=null&&c.unshift(Bo(n,p,d)),p=nt(n,r),p!=null&&c.push(Bo(n,p,d))),n=n.return}return c}function Ts(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function mf(n,r,o,c,d){for(var p=r._reactName,v=[];o!==null&&o!==c;){var T=o,k=T.alternate,F=T.stateNode;if(k!==null&&k===c)break;T.tag===5&&F!==null&&(T=F,d?(k=nt(o,p),k!=null&&v.unshift(Bo(o,k,T))):d||(k=nt(o,p),k!=null&&v.push(Bo(o,k,T)))),o=o.return}v.length!==0&&n.push({event:r,listeners:v})}var Xv=/\r\n?/g,Jv=/\u0000|\uFFFD/g;function gf(n){return(typeof n=="string"?n:""+n).replace(Xv,`
`).replace(Jv,"")}function ul(n,r,o){if(r=gf(r),gf(n)!==r&&o)throw Error(t(425))}function cl(){}var rc=null,ic=null;function sc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var oc=typeof setTimeout=="function"?setTimeout:void 0,Zv=typeof clearTimeout=="function"?clearTimeout:void 0,yf=typeof Promise=="function"?Promise:void 0,e_=typeof queueMicrotask=="function"?queueMicrotask:typeof yf<"u"?function(n){return yf.resolve(null).then(n).catch(t_)}:oc;function t_(n){setTimeout(function(){throw n})}function ac(n,r){var o=r,c=0;do{var d=o.nextSibling;if(n.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){n.removeChild(d),xn(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);xn(r)}function jr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function vf(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),zn="__reactFiber$"+Ss,$o="__reactProps$"+Ss,lr="__reactContainer$"+Ss,lc="__reactEvents$"+Ss,n_="__reactListeners$"+Ss,r_="__reactHandles$"+Ss;function ki(n){var r=n[zn];if(r)return r;for(var o=n.parentNode;o;){if(r=o[lr]||o[zn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=vf(n);n!==null;){if(o=n[zn])return o;n=vf(n)}return r}n=o,o=n.parentNode}return null}function qo(n){return n=n[zn]||n[lr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function xs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function hl(n){return n[$o]||null}var uc=[],As=-1;function Fr(n){return{current:n}}function We(n){0>As||(n.current=uc[As],uc[As]=null,As--)}function qe(n,r){As++,uc[As]=n.current,n.current=r}var Ur={},Nt=Fr(Ur),Wt=Fr(!1),Ci=Ur;function ks(n,r){var o=n.type.contextTypes;if(!o)return Ur;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=r[p];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=d),d}function Kt(n){return n=n.childContextTypes,n!=null}function dl(){We(Wt),We(Nt)}function _f(n,r,o){if(Nt.current!==Ur)throw Error(t(168));qe(Nt,r),qe(Wt,o)}function wf(n,r,o){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(t(108,Ve(n)||"Unknown",d));return te({},o,c)}function fl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ur,Ci=Nt.current,qe(Nt,n),qe(Wt,Wt.current),!0}function Ef(n,r,o){var c=n.stateNode;if(!c)throw Error(t(169));o?(n=wf(n,r,Ci),c.__reactInternalMemoizedMergedChildContext=n,We(Wt),We(Nt),qe(Nt,n)):We(Wt),qe(Wt,o)}var ur=null,pl=!1,cc=!1;function If(n){ur===null?ur=[n]:ur.push(n)}function i_(n){pl=!0,If(n)}function zr(){if(!cc&&ur!==null){cc=!0;var n=0,r=xe;try{var o=ur;for(xe=1;n<o.length;n++){var c=o[n];do c=c(!0);while(c!==null)}ur=null,pl=!1}catch(d){throw ur!==null&&(ur=ur.slice(n+1)),os(_i,zr),d}finally{xe=r,cc=!1}}return null}var Cs=[],Rs=0,ml=null,gl=0,dn=[],fn=0,Ri=null,cr=1,hr="";function Pi(n,r){Cs[Rs++]=gl,Cs[Rs++]=ml,ml=n,gl=r}function Tf(n,r,o){dn[fn++]=cr,dn[fn++]=hr,dn[fn++]=Ri,Ri=n;var c=cr;n=hr;var d=32-Ut(c)-1;c&=~(1<<d),o+=1;var p=32-Ut(r)+d;if(30<p){var v=d-d%5;p=(c&(1<<v)-1).toString(32),c>>=v,d-=v,cr=1<<32-Ut(r)+d|o<<d|c,hr=p+n}else cr=1<<p|o<<d|c,hr=n}function hc(n){n.return!==null&&(Pi(n,1),Tf(n,1,0))}function dc(n){for(;n===ml;)ml=Cs[--Rs],Cs[Rs]=null,gl=Cs[--Rs],Cs[Rs]=null;for(;n===Ri;)Ri=dn[--fn],dn[fn]=null,hr=dn[--fn],dn[fn]=null,cr=dn[--fn],dn[fn]=null}var nn=null,rn=null,Ye=!1,Cn=null;function Sf(n,r){var o=yn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=n,r=n.deletions,r===null?(n.deletions=[o],n.flags|=16):r.push(o)}function xf(n,r){switch(n.tag){case 5:var o=n.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,nn=n,rn=jr(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,nn=n,rn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ri!==null?{id:cr,overflow:hr}:null,n.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=yn(18,null,null,0),o.stateNode=r,o.return=n,n.child=o,nn=n,rn=null,!0):!1;default:return!1}}function fc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function pc(n){if(Ye){var r=rn;if(r){var o=r;if(!xf(n,r)){if(fc(n))throw Error(t(418));r=jr(o.nextSibling);var c=nn;r&&xf(n,r)?Sf(c,o):(n.flags=n.flags&-4097|2,Ye=!1,nn=n)}}else{if(fc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ye=!1,nn=n}}}function Af(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;nn=n}function yl(n){if(n!==nn)return!1;if(!Ye)return Af(n),Ye=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!sc(n.type,n.memoizedProps)),r&&(r=rn)){if(fc(n))throw kf(),Error(t(418));for(;r;)Sf(n,r),r=jr(r.nextSibling)}if(Af(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(r===0){rn=jr(n.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}n=n.nextSibling}rn=null}}else rn=nn?jr(n.stateNode.nextSibling):null;return!0}function kf(){for(var n=rn;n;)n=jr(n.nextSibling)}function Ps(){rn=nn=null,Ye=!1}function mc(n){Cn===null?Cn=[n]:Cn.push(n)}var s_=ye.ReactCurrentBatchConfig;function Ho(n,r,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(t(309));var c=o.stateNode}if(!c)throw Error(t(147,n));var d=c,p=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var T=d.refs;v===null?delete T[p]:T[p]=v},r._stringRef=p,r)}if(typeof n!="string")throw Error(t(284));if(!o._owner)throw Error(t(290,n))}return n}function vl(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Cf(n){var r=n._init;return r(n._payload)}function Rf(n){function r(L,R){if(n){var M=L.deletions;M===null?(L.deletions=[R],L.flags|=16):M.push(R)}}function o(L,R){if(!n)return null;for(;R!==null;)r(L,R),R=R.sibling;return null}function c(L,R){for(L=new Map;R!==null;)R.key!==null?L.set(R.key,R):L.set(R.index,R),R=R.sibling;return L}function d(L,R){return L=Qr(L,R),L.index=0,L.sibling=null,L}function p(L,R,M){return L.index=M,n?(M=L.alternate,M!==null?(M=M.index,M<R?(L.flags|=2,R):M):(L.flags|=2,R)):(L.flags|=1048576,R)}function v(L){return n&&L.alternate===null&&(L.flags|=2),L}function T(L,R,M,G){return R===null||R.tag!==6?(R=oh(M,L.mode,G),R.return=L,R):(R=d(R,M),R.return=L,R)}function k(L,R,M,G){var ae=M.type;return ae===N?q(L,R,M.props.children,G,M.key):R!==null&&(R.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Pt&&Cf(ae)===R.type)?(G=d(R,M.props),G.ref=Ho(L,R,M),G.return=L,G):(G=Bl(M.type,M.key,M.props,null,L.mode,G),G.ref=Ho(L,R,M),G.return=L,G)}function F(L,R,M,G){return R===null||R.tag!==4||R.stateNode.containerInfo!==M.containerInfo||R.stateNode.implementation!==M.implementation?(R=ah(M,L.mode,G),R.return=L,R):(R=d(R,M.children||[]),R.return=L,R)}function q(L,R,M,G,ae){return R===null||R.tag!==7?(R=ji(M,L.mode,G,ae),R.return=L,R):(R=d(R,M),R.return=L,R)}function K(L,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return R=oh(""+R,L.mode,M),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ge:return M=Bl(R.type,R.key,R.props,null,L.mode,M),M.ref=Ho(L,null,R),M.return=L,M;case Se:return R=ah(R,L.mode,M),R.return=L,R;case Pt:var G=R._init;return K(L,G(R._payload),M)}if(Zn(R)||ue(R))return R=ji(R,L.mode,M,null),R.return=L,R;vl(L,R)}return null}function $(L,R,M,G){var ae=R!==null?R.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ae!==null?null:T(L,R,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ge:return M.key===ae?k(L,R,M,G):null;case Se:return M.key===ae?F(L,R,M,G):null;case Pt:return ae=M._init,$(L,R,ae(M._payload),G)}if(Zn(M)||ue(M))return ae!==null?null:q(L,R,M,G,null);vl(L,M)}return null}function ee(L,R,M,G,ae){if(typeof G=="string"&&G!==""||typeof G=="number")return L=L.get(M)||null,T(R,L,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Ge:return L=L.get(G.key===null?M:G.key)||null,k(R,L,G,ae);case Se:return L=L.get(G.key===null?M:G.key)||null,F(R,L,G,ae);case Pt:var he=G._init;return ee(L,R,M,he(G._payload),ae)}if(Zn(G)||ue(G))return L=L.get(M)||null,q(R,L,G,ae,null);vl(R,G)}return null}function re(L,R,M,G){for(var ae=null,he=null,de=R,fe=R=0,_t=null;de!==null&&fe<M.length;fe++){de.index>fe?(_t=de,de=null):_t=de.sibling;var be=$(L,de,M[fe],G);if(be===null){de===null&&(de=_t);break}n&&de&&be.alternate===null&&r(L,de),R=p(be,R,fe),he===null?ae=be:he.sibling=be,he=be,de=_t}if(fe===M.length)return o(L,de),Ye&&Pi(L,fe),ae;if(de===null){for(;fe<M.length;fe++)de=K(L,M[fe],G),de!==null&&(R=p(de,R,fe),he===null?ae=de:he.sibling=de,he=de);return Ye&&Pi(L,fe),ae}for(de=c(L,de);fe<M.length;fe++)_t=ee(de,L,fe,M[fe],G),_t!==null&&(n&&_t.alternate!==null&&de.delete(_t.key===null?fe:_t.key),R=p(_t,R,fe),he===null?ae=_t:he.sibling=_t,he=_t);return n&&de.forEach(function(Yr){return r(L,Yr)}),Ye&&Pi(L,fe),ae}function ie(L,R,M,G){var ae=ue(M);if(typeof ae!="function")throw Error(t(150));if(M=ae.call(M),M==null)throw Error(t(151));for(var he=ae=null,de=R,fe=R=0,_t=null,be=M.next();de!==null&&!be.done;fe++,be=M.next()){de.index>fe?(_t=de,de=null):_t=de.sibling;var Yr=$(L,de,be.value,G);if(Yr===null){de===null&&(de=_t);break}n&&de&&Yr.alternate===null&&r(L,de),R=p(Yr,R,fe),he===null?ae=Yr:he.sibling=Yr,he=Yr,de=_t}if(be.done)return o(L,de),Ye&&Pi(L,fe),ae;if(de===null){for(;!be.done;fe++,be=M.next())be=K(L,be.value,G),be!==null&&(R=p(be,R,fe),he===null?ae=be:he.sibling=be,he=be);return Ye&&Pi(L,fe),ae}for(de=c(L,de);!be.done;fe++,be=M.next())be=ee(de,L,fe,be.value,G),be!==null&&(n&&be.alternate!==null&&de.delete(be.key===null?fe:be.key),R=p(be,R,fe),he===null?ae=be:he.sibling=be,he=be);return n&&de.forEach(function(j_){return r(L,j_)}),Ye&&Pi(L,fe),ae}function rt(L,R,M,G){if(typeof M=="object"&&M!==null&&M.type===N&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Ge:e:{for(var ae=M.key,he=R;he!==null;){if(he.key===ae){if(ae=M.type,ae===N){if(he.tag===7){o(L,he.sibling),R=d(he,M.props.children),R.return=L,L=R;break e}}else if(he.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Pt&&Cf(ae)===he.type){o(L,he.sibling),R=d(he,M.props),R.ref=Ho(L,he,M),R.return=L,L=R;break e}o(L,he);break}else r(L,he);he=he.sibling}M.type===N?(R=ji(M.props.children,L.mode,G,M.key),R.return=L,L=R):(G=Bl(M.type,M.key,M.props,null,L.mode,G),G.ref=Ho(L,R,M),G.return=L,L=G)}return v(L);case Se:e:{for(he=M.key;R!==null;){if(R.key===he)if(R.tag===4&&R.stateNode.containerInfo===M.containerInfo&&R.stateNode.implementation===M.implementation){o(L,R.sibling),R=d(R,M.children||[]),R.return=L,L=R;break e}else{o(L,R);break}else r(L,R);R=R.sibling}R=ah(M,L.mode,G),R.return=L,L=R}return v(L);case Pt:return he=M._init,rt(L,R,he(M._payload),G)}if(Zn(M))return re(L,R,M,G);if(ue(M))return ie(L,R,M,G);vl(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,R!==null&&R.tag===6?(o(L,R.sibling),R=d(R,M),R.return=L,L=R):(o(L,R),R=oh(M,L.mode,G),R.return=L,L=R),v(L)):o(L,R)}return rt}var Ns=Rf(!0),Pf=Rf(!1),_l=Fr(null),wl=null,Ds=null,gc=null;function yc(){gc=Ds=wl=null}function vc(n){var r=_l.current;We(_l),n._currentValue=r}function _c(n,r,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===o)break;n=n.return}}function bs(n,r){wl=n,gc=Ds=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Gt=!0),n.firstContext=null)}function pn(n){var r=n._currentValue;if(gc!==n)if(n={context:n,memoizedValue:r,next:null},Ds===null){if(wl===null)throw Error(t(308));Ds=n,wl.dependencies={lanes:0,firstContext:n}}else Ds=Ds.next=n;return r}var Ni=null;function wc(n){Ni===null?Ni=[n]:Ni.push(n)}function Nf(n,r,o,c){var d=r.interleaved;return d===null?(o.next=o,wc(r)):(o.next=d.next,d.next=o),r.interleaved=o,dr(n,c)}function dr(n,r){n.lanes|=r;var o=n.alternate;for(o!==null&&(o.lanes|=r),o=n,n=n.return;n!==null;)n.childLanes|=r,o=n.alternate,o!==null&&(o.childLanes|=r),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Br=!1;function Ec(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Df(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function fr(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function $r(n,r,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ne&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,dr(n,o)}return d=c.interleaved,d===null?(r.next=r,wc(c)):(r.next=d.next,d.next=r),c.interleaved=r,dr(n,o)}function El(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Dr(n,o)}}function bf(n,r){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}function Il(n,r,o,c){var d=n.updateQueue;Br=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var k=T,F=k.next;k.next=null,v===null?p=F:v.next=F,v=k;var q=n.alternate;q!==null&&(q=q.updateQueue,T=q.lastBaseUpdate,T!==v&&(T===null?q.firstBaseUpdate=F:T.next=F,q.lastBaseUpdate=k))}if(p!==null){var K=d.baseState;v=0,q=F=k=null,T=p;do{var $=T.lane,ee=T.eventTime;if((c&$)===$){q!==null&&(q=q.next={eventTime:ee,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var re=n,ie=T;switch($=r,ee=o,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){K=re.call(ee,K,$);break e}K=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,$=typeof re=="function"?re.call(ee,K,$):re,$==null)break e;K=te({},K,$);break e;case 2:Br=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,$=d.effects,$===null?d.effects=[T]:$.push(T))}else ee={eventTime:ee,lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},q===null?(F=q=ee,k=K):q=q.next=ee,v|=$;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;$=T,T=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);if(q===null&&(k=K),d.baseState=k,d.firstBaseUpdate=F,d.lastBaseUpdate=q,r=d.shared.interleaved,r!==null){d=r;do v|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);Vi|=v,n.lanes=v,n.memoizedState=K}}function Vf(n,r,o){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Wo={},Bn=Fr(Wo),Ko=Fr(Wo),Go=Fr(Wo);function Di(n){if(n===Wo)throw Error(t(174));return n}function Ic(n,r){switch(qe(Go,r),qe(Ko,n),qe(Bn,Wo),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ht(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=ht(r,n)}We(Bn),qe(Bn,r)}function Vs(){We(Bn),We(Ko),We(Go)}function Of(n){Di(Go.current);var r=Di(Bn.current),o=ht(r,n.type);r!==o&&(qe(Ko,n),qe(Bn,o))}function Tc(n){Ko.current===n&&(We(Bn),We(Ko))}var Xe=Fr(0);function Tl(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Sc=[];function xc(){for(var n=0;n<Sc.length;n++)Sc[n]._workInProgressVersionPrimary=null;Sc.length=0}var Sl=ye.ReactCurrentDispatcher,Ac=ye.ReactCurrentBatchConfig,bi=0,Je=null,ft=null,yt=null,xl=!1,Qo=!1,Yo=0,o_=0;function Dt(){throw Error(t(321))}function kc(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!kn(n[o],r[o]))return!1;return!0}function Cc(n,r,o,c,d,p){if(bi=p,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Sl.current=n===null||n.memoizedState===null?c_:h_,n=o(c,d),Qo){p=0;do{if(Qo=!1,Yo=0,25<=p)throw Error(t(301));p+=1,yt=ft=null,r.updateQueue=null,Sl.current=d_,n=o(c,d)}while(Qo)}if(Sl.current=Cl,r=ft!==null&&ft.next!==null,bi=0,yt=ft=Je=null,xl=!1,r)throw Error(t(300));return n}function Rc(){var n=Yo!==0;return Yo=0,n}function $n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Je.memoizedState=yt=n:yt=yt.next=n,yt}function mn(){if(ft===null){var n=Je.alternate;n=n!==null?n.memoizedState:null}else n=ft.next;var r=yt===null?Je.memoizedState:yt.next;if(r!==null)yt=r,ft=n;else{if(n===null)throw Error(t(310));ft=n,n={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},yt===null?Je.memoizedState=yt=n:yt=yt.next=n}return yt}function Xo(n,r){return typeof r=="function"?r(n):r}function Pc(n){var r=mn(),o=r.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var c=ft,d=c.baseQueue,p=o.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}c.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,c=c.baseState;var T=v=null,k=null,F=p;do{var q=F.lane;if((bi&q)===q)k!==null&&(k=k.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),c=F.hasEagerState?F.eagerState:n(c,F.action);else{var K={lane:q,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};k===null?(T=k=K,v=c):k=k.next=K,Je.lanes|=q,Vi|=q}F=F.next}while(F!==null&&F!==p);k===null?v=c:k.next=T,kn(c,r.memoizedState)||(Gt=!0),r.memoizedState=c,r.baseState=v,r.baseQueue=k,o.lastRenderedState=c}if(n=o.interleaved,n!==null){d=n;do p=d.lane,Je.lanes|=p,Vi|=p,d=d.next;while(d!==n)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Nc(n){var r=mn(),o=r.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var c=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var v=d=d.next;do p=n(p,v.action),v=v.next;while(v!==d);kn(p,r.memoizedState)||(Gt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function Lf(){}function Mf(n,r){var o=Je,c=mn(),d=r(),p=!kn(c.memoizedState,d);if(p&&(c.memoizedState=d,Gt=!0),c=c.queue,Dc(Uf.bind(null,o,c,n),[n]),c.getSnapshot!==r||p||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,Jo(9,Ff.bind(null,o,c,d,r),void 0,null),vt===null)throw Error(t(349));(bi&30)!==0||jf(o,r,d)}return d}function jf(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function Ff(n,r,o,c){r.value=o,r.getSnapshot=c,zf(r)&&Bf(n)}function Uf(n,r,o){return o(function(){zf(r)&&Bf(n)})}function zf(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!kn(n,o)}catch{return!0}}function Bf(n){var r=dr(n,1);r!==null&&Dn(r,n,1,-1)}function $f(n){var r=$n();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:n},r.queue=n,n=n.dispatch=u_.bind(null,Je,n),[r.memoizedState,n]}function Jo(n,r,o,c){return n={tag:n,create:r,destroy:o,deps:c,next:null},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.lastEffect=n.next=n):(o=r.lastEffect,o===null?r.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,r.lastEffect=n)),n}function qf(){return mn().memoizedState}function Al(n,r,o,c){var d=$n();Je.flags|=n,d.memoizedState=Jo(1|r,o,void 0,c===void 0?null:c)}function kl(n,r,o,c){var d=mn();c=c===void 0?null:c;var p=void 0;if(ft!==null){var v=ft.memoizedState;if(p=v.destroy,c!==null&&kc(c,v.deps)){d.memoizedState=Jo(r,o,p,c);return}}Je.flags|=n,d.memoizedState=Jo(1|r,o,p,c)}function Hf(n,r){return Al(8390656,8,n,r)}function Dc(n,r){return kl(2048,8,n,r)}function Wf(n,r){return kl(4,2,n,r)}function Kf(n,r){return kl(4,4,n,r)}function Gf(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Qf(n,r,o){return o=o!=null?o.concat([n]):null,kl(4,4,Gf.bind(null,r,n),o)}function bc(){}function Yf(n,r){var o=mn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&kc(r,c[1])?c[0]:(o.memoizedState=[n,r],n)}function Xf(n,r){var o=mn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&kc(r,c[1])?c[0]:(n=n(),o.memoizedState=[n,r],n)}function Jf(n,r,o){return(bi&21)===0?(n.baseState&&(n.baseState=!1,Gt=!0),n.memoizedState=o):(kn(o,r)||(o=Ii(),Je.lanes|=o,Vi|=o,n.baseState=!0),r)}function a_(n,r){var o=xe;xe=o!==0&&4>o?o:4,n(!0);var c=Ac.transition;Ac.transition={};try{n(!1),r()}finally{xe=o,Ac.transition=c}}function Zf(){return mn().memoizedState}function l_(n,r,o){var c=Kr(n);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},ep(n))tp(r,o);else if(o=Nf(n,r,o,c),o!==null){var d=$t();Dn(o,n,c,d),np(o,r,c)}}function u_(n,r,o){var c=Kr(n),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(ep(n))tp(r,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,T=p(v,o);if(d.hasEagerState=!0,d.eagerState=T,kn(T,v)){var k=r.interleaved;k===null?(d.next=d,wc(r)):(d.next=k.next,k.next=d),r.interleaved=d;return}}catch{}finally{}o=Nf(n,r,d,c),o!==null&&(d=$t(),Dn(o,n,c,d),np(o,r,c))}}function ep(n){var r=n.alternate;return n===Je||r!==null&&r===Je}function tp(n,r){Qo=xl=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function np(n,r,o){if((o&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Dr(n,o)}}var Cl={readContext:pn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},c_={readContext:pn,useCallback:function(n,r){return $n().memoizedState=[n,r===void 0?null:r],n},useContext:pn,useEffect:Hf,useImperativeHandle:function(n,r,o){return o=o!=null?o.concat([n]):null,Al(4194308,4,Gf.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Al(4194308,4,n,r)},useInsertionEffect:function(n,r){return Al(4,2,n,r)},useMemo:function(n,r){var o=$n();return r=r===void 0?null:r,n=n(),o.memoizedState=[n,r],n},useReducer:function(n,r,o){var c=$n();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=l_.bind(null,Je,n),[c.memoizedState,n]},useRef:function(n){var r=$n();return n={current:n},r.memoizedState=n},useState:$f,useDebugValue:bc,useDeferredValue:function(n){return $n().memoizedState=n},useTransition:function(){var n=$f(!1),r=n[0];return n=a_.bind(null,n[1]),$n().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,o){var c=Je,d=$n();if(Ye){if(o===void 0)throw Error(t(407));o=o()}else{if(o=r(),vt===null)throw Error(t(349));(bi&30)!==0||jf(c,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,Hf(Uf.bind(null,c,p,n),[n]),c.flags|=2048,Jo(9,Ff.bind(null,c,p,o,r),void 0,null),o},useId:function(){var n=$n(),r=vt.identifierPrefix;if(Ye){var o=hr,c=cr;o=(c&~(1<<32-Ut(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Yo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=o_++,r=":"+r+"r"+o.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},h_={readContext:pn,useCallback:Yf,useContext:pn,useEffect:Dc,useImperativeHandle:Qf,useInsertionEffect:Wf,useLayoutEffect:Kf,useMemo:Xf,useReducer:Pc,useRef:qf,useState:function(){return Pc(Xo)},useDebugValue:bc,useDeferredValue:function(n){var r=mn();return Jf(r,ft.memoizedState,n)},useTransition:function(){var n=Pc(Xo)[0],r=mn().memoizedState;return[n,r]},useMutableSource:Lf,useSyncExternalStore:Mf,useId:Zf,unstable_isNewReconciler:!1},d_={readContext:pn,useCallback:Yf,useContext:pn,useEffect:Dc,useImperativeHandle:Qf,useInsertionEffect:Wf,useLayoutEffect:Kf,useMemo:Xf,useReducer:Nc,useRef:qf,useState:function(){return Nc(Xo)},useDebugValue:bc,useDeferredValue:function(n){var r=mn();return ft===null?r.memoizedState=n:Jf(r,ft.memoizedState,n)},useTransition:function(){var n=Nc(Xo)[0],r=mn().memoizedState;return[n,r]},useMutableSource:Lf,useSyncExternalStore:Mf,useId:Zf,unstable_isNewReconciler:!1};function Rn(n,r){if(n&&n.defaultProps){r=te({},r),n=n.defaultProps;for(var o in n)r[o]===void 0&&(r[o]=n[o]);return r}return r}function Vc(n,r,o,c){r=n.memoizedState,o=o(c,r),o=o==null?r:te({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Rl={isMounted:function(n){return(n=n._reactInternals)?wn(n)===n:!1},enqueueSetState:function(n,r,o){n=n._reactInternals;var c=$t(),d=Kr(n),p=fr(c,d);p.payload=r,o!=null&&(p.callback=o),r=$r(n,p,d),r!==null&&(Dn(r,n,d,c),El(r,n,d))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var c=$t(),d=Kr(n),p=fr(c,d);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=$r(n,p,d),r!==null&&(Dn(r,n,d,c),El(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=$t(),c=Kr(n),d=fr(o,c);d.tag=2,r!=null&&(d.callback=r),r=$r(n,d,c),r!==null&&(Dn(r,n,c,o),El(r,n,c))}};function rp(n,r,o,c,d,p,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,v):r.prototype&&r.prototype.isPureReactComponent?!jo(o,c)||!jo(d,p):!0}function ip(n,r,o){var c=!1,d=Ur,p=r.contextType;return typeof p=="object"&&p!==null?p=pn(p):(d=Kt(r)?Ci:Nt.current,c=r.contextTypes,p=(c=c!=null)?ks(n,d):Ur),r=new r(o,p),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Rl,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=p),r}function sp(n,r,o,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==n&&Rl.enqueueReplaceState(r,r.state,null)}function Oc(n,r,o,c){var d=n.stateNode;d.props=o,d.state=n.memoizedState,d.refs={},Ec(n);var p=r.contextType;typeof p=="object"&&p!==null?d.context=pn(p):(p=Kt(r)?Ci:Nt.current,d.context=ks(n,p)),d.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Vc(n,r,p,o),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Rl.enqueueReplaceState(d,d.state,null),Il(n,o,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Os(n,r){try{var o="",c=r;do o+=Ie(c),c=c.return;while(c);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:r,stack:d,digest:null}}function Lc(n,r,o){return{value:n,source:null,stack:o??null,digest:r??null}}function Mc(n,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var f_=typeof WeakMap=="function"?WeakMap:Map;function op(n,r,o){o=fr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Ll||(Ll=!0,Jc=c),Mc(n,r)},o}function ap(n,r,o){o=fr(-1,o),o.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;o.payload=function(){return c(d)},o.callback=function(){Mc(n,r)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Mc(n,r),typeof c!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function lp(n,r,o){var c=n.pingCache;if(c===null){c=n.pingCache=new f_;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(d.add(o),n=k_.bind(null,n,r,o),r.then(n,n))}function up(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function cp(n,r,o,c,d){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=fr(-1,1),r.tag=2,$r(o,r,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var p_=ye.ReactCurrentOwner,Gt=!1;function Bt(n,r,o,c){r.child=n===null?Pf(r,null,o,c):Ns(r,n.child,o,c)}function hp(n,r,o,c,d){o=o.render;var p=r.ref;return bs(r,d),c=Cc(n,r,o,c,p,d),o=Rc(),n!==null&&!Gt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,pr(n,r,d)):(Ye&&o&&hc(r),r.flags|=1,Bt(n,r,c,d),r.child)}function dp(n,r,o,c,d){if(n===null){var p=o.type;return typeof p=="function"&&!sh(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,fp(n,r,p,c,d)):(n=Bl(o.type,null,c,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,(n.lanes&d)===0){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:jo,o(v,c)&&n.ref===r.ref)return pr(n,r,d)}return r.flags|=1,n=Qr(p,c),n.ref=r.ref,n.return=r,r.child=n}function fp(n,r,o,c,d){if(n!==null){var p=n.memoizedProps;if(jo(p,c)&&n.ref===r.ref)if(Gt=!1,r.pendingProps=c=p,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Gt=!0);else return r.lanes=n.lanes,pr(n,r,d)}return jc(n,r,o,c,d)}function pp(n,r,o){var c=r.pendingProps,d=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ms,sn),sn|=o;else{if((o&1073741824)===0)return n=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,qe(Ms,sn),sn|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,qe(Ms,sn),sn|=c}else p!==null?(c=p.baseLanes|o,r.memoizedState=null):c=o,qe(Ms,sn),sn|=c;return Bt(n,r,d,o),r.child}function mp(n,r){var o=r.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function jc(n,r,o,c,d){var p=Kt(o)?Ci:Nt.current;return p=ks(r,p),bs(r,d),o=Cc(n,r,o,c,p,d),c=Rc(),n!==null&&!Gt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,pr(n,r,d)):(Ye&&c&&hc(r),r.flags|=1,Bt(n,r,o,d),r.child)}function gp(n,r,o,c,d){if(Kt(o)){var p=!0;fl(r)}else p=!1;if(bs(r,d),r.stateNode===null)Nl(n,r),ip(r,o,c),Oc(r,o,c,d),c=!0;else if(n===null){var v=r.stateNode,T=r.memoizedProps;v.props=T;var k=v.context,F=o.contextType;typeof F=="object"&&F!==null?F=pn(F):(F=Kt(o)?Ci:Nt.current,F=ks(r,F));var q=o.getDerivedStateFromProps,K=typeof q=="function"||typeof v.getSnapshotBeforeUpdate=="function";K||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==c||k!==F)&&sp(r,v,c,F),Br=!1;var $=r.memoizedState;v.state=$,Il(r,c,v,d),k=r.memoizedState,T!==c||$!==k||Wt.current||Br?(typeof q=="function"&&(Vc(r,o,q,c),k=r.memoizedState),(T=Br||rp(r,o,T,c,$,k,F))?(K||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=k),v.props=c,v.state=k,v.context=F,c=T):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{v=r.stateNode,Df(n,r),T=r.memoizedProps,F=r.type===r.elementType?T:Rn(r.type,T),v.props=F,K=r.pendingProps,$=v.context,k=o.contextType,typeof k=="object"&&k!==null?k=pn(k):(k=Kt(o)?Ci:Nt.current,k=ks(r,k));var ee=o.getDerivedStateFromProps;(q=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==K||$!==k)&&sp(r,v,c,k),Br=!1,$=r.memoizedState,v.state=$,Il(r,c,v,d);var re=r.memoizedState;T!==K||$!==re||Wt.current||Br?(typeof ee=="function"&&(Vc(r,o,ee,c),re=r.memoizedState),(F=Br||rp(r,o,F,c,$,re,k)||!1)?(q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,re,k),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,re,k)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=re),v.props=c,v.state=re,v.context=k,c=F):(typeof v.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),c=!1)}return Fc(n,r,o,c,p,d)}function Fc(n,r,o,c,d,p){mp(n,r);var v=(r.flags&128)!==0;if(!c&&!v)return d&&Ef(r,o,!1),pr(n,r,p);c=r.stateNode,p_.current=r;var T=v&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&v?(r.child=Ns(r,n.child,null,p),r.child=Ns(r,null,T,p)):Bt(n,r,T,p),r.memoizedState=c.state,d&&Ef(r,o,!0),r.child}function yp(n){var r=n.stateNode;r.pendingContext?_f(n,r.pendingContext,r.pendingContext!==r.context):r.context&&_f(n,r.context,!1),Ic(n,r.containerInfo)}function vp(n,r,o,c,d){return Ps(),mc(d),r.flags|=256,Bt(n,r,o,c),r.child}var Uc={dehydrated:null,treeContext:null,retryLane:0};function zc(n){return{baseLanes:n,cachePool:null,transitions:null}}function _p(n,r,o){var c=r.pendingProps,d=Xe.current,p=!1,v=(r.flags&128)!==0,T;if((T=v)||(T=n!==null&&n.memoizedState===null?!1:(d&2)!==0),T?(p=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),qe(Xe,d&1),n===null)return pc(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=c.children,n=c.fallback,p?(c=r.mode,p=r.child,v={mode:"hidden",children:v},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=$l(v,c,0,null),n=ji(n,c,o,null),p.return=r,n.return=r,p.sibling=n,r.child=p,r.child.memoizedState=zc(o),r.memoizedState=Uc,n):Bc(r,v));if(d=n.memoizedState,d!==null&&(T=d.dehydrated,T!==null))return m_(n,r,v,c,T,d,o);if(p){p=c.fallback,v=r.mode,d=n.child,T=d.sibling;var k={mode:"hidden",children:c.children};return(v&1)===0&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=k,r.deletions=null):(c=Qr(d,k),c.subtreeFlags=d.subtreeFlags&14680064),T!==null?p=Qr(T,p):(p=ji(p,v,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,v=n.child.memoizedState,v=v===null?zc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=n.childLanes&~o,r.memoizedState=Uc,c}return p=n.child,n=p.sibling,c=Qr(p,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=o),c.return=r,c.sibling=null,n!==null&&(o=r.deletions,o===null?(r.deletions=[n],r.flags|=16):o.push(n)),r.child=c,r.memoizedState=null,c}function Bc(n,r){return r=$l({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Pl(n,r,o,c){return c!==null&&mc(c),Ns(r,n.child,null,o),n=Bc(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function m_(n,r,o,c,d,p,v){if(o)return r.flags&256?(r.flags&=-257,c=Lc(Error(t(422))),Pl(n,r,v,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(p=c.fallback,d=r.mode,c=$l({mode:"visible",children:c.children},d,0,null),p=ji(p,d,v,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,(r.mode&1)!==0&&Ns(r,n.child,null,v),r.child.memoizedState=zc(v),r.memoizedState=Uc,p);if((r.mode&1)===0)return Pl(n,r,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var T=c.dgst;return c=T,p=Error(t(419)),c=Lc(p,c,void 0),Pl(n,r,v,c)}if(T=(v&n.childLanes)!==0,Gt||T){if(c=vt,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,dr(n,d),Dn(c,n,d,-1))}return ih(),c=Lc(Error(t(421))),Pl(n,r,v,c)}return d.data==="$?"?(r.flags|=128,r.child=n.child,r=C_.bind(null,n),d._reactRetry=r,null):(n=p.treeContext,rn=jr(d.nextSibling),nn=r,Ye=!0,Cn=null,n!==null&&(dn[fn++]=cr,dn[fn++]=hr,dn[fn++]=Ri,cr=n.id,hr=n.overflow,Ri=r),r=Bc(r,c.children),r.flags|=4096,r)}function wp(n,r,o){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),_c(n.return,r,o)}function $c(n,r,o,c,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=d)}function Ep(n,r,o){var c=r.pendingProps,d=c.revealOrder,p=c.tail;if(Bt(n,r,c.children,o),c=Xe.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&wp(n,o,r);else if(n.tag===19)wp(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(qe(Xe,c),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)n=o.alternate,n!==null&&Tl(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),$c(r,!1,d,o,p);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Tl(n)===null){r.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}$c(r,!0,o,null,p);break;case"together":$c(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Nl(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function pr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Vi|=r.lanes,(o&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,o=Qr(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=Qr(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function g_(n,r,o){switch(r.tag){case 3:yp(r),Ps();break;case 5:Of(r);break;case 1:Kt(r.type)&&fl(r);break;case 4:Ic(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;qe(_l,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(qe(Xe,Xe.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?_p(n,r,o):(qe(Xe,Xe.current&1),n=pr(n,r,o),n!==null?n.sibling:null);qe(Xe,Xe.current&1);break;case 19:if(c=(o&r.childLanes)!==0,(n.flags&128)!==0){if(c)return Ep(n,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Xe,Xe.current),c)break;return null;case 22:case 23:return r.lanes=0,pp(n,r,o)}return pr(n,r,o)}var Ip,qc,Tp,Sp;Ip=function(n,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},qc=function(){},Tp=function(n,r,o,c){var d=n.memoizedProps;if(d!==c){n=r.stateNode,Di(Bn.current);var p=null;switch(o){case"input":d=hi(n,d),c=hi(n,c),p=[];break;case"select":d=te({},d,{value:void 0}),c=te({},c,{value:void 0}),p=[];break;case"textarea":d=fo(n,d),c=fo(n,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=cl)}_o(o,c);var v;o=null;for(F in d)if(!c.hasOwnProperty(F)&&d.hasOwnProperty(F)&&d[F]!=null)if(F==="style"){var T=d[F];for(v in T)T.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?p||(p=[]):(p=p||[]).push(F,null));for(F in c){var k=c[F];if(T=d?.[F],c.hasOwnProperty(F)&&k!==T&&(k!=null||T!=null))if(F==="style")if(T){for(v in T)!T.hasOwnProperty(v)||k&&k.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in k)k.hasOwnProperty(v)&&T[v]!==k[v]&&(o||(o={}),o[v]=k[v])}else o||(p||(p=[]),p.push(F,o)),o=k;else F==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,T=T?T.__html:void 0,k!=null&&T!==k&&(p=p||[]).push(F,k)):F==="children"?typeof k!="string"&&typeof k!="number"||(p=p||[]).push(F,""+k):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(k!=null&&F==="onScroll"&&He("scroll",n),p||T===k||(p=[])):(p=p||[]).push(F,k))}o&&(p=p||[]).push("style",o);var F=p;(r.updateQueue=F)&&(r.flags|=4)}},Sp=function(n,r,o,c){o!==c&&(r.flags|=4)};function Zo(n,r){if(!Ye)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function bt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(r)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=o,r}function y_(n,r,o){var c=r.pendingProps;switch(dc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(r),null;case 1:return Kt(r.type)&&dl(),bt(r),null;case 3:return c=r.stateNode,Vs(),We(Wt),We(Nt),xc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(yl(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cn!==null&&(th(Cn),Cn=null))),qc(n,r),bt(r),null;case 5:Tc(r);var d=Di(Go.current);if(o=r.type,n!==null&&r.stateNode!=null)Tp(n,r,o,c,d),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(t(166));return bt(r),null}if(n=Di(Bn.current),yl(r)){c=r.stateNode,o=r.type;var p=r.memoizedProps;switch(c[zn]=r,c[$o]=p,n=(r.mode&1)!==0,o){case"dialog":He("cancel",c),He("close",c);break;case"iframe":case"object":case"embed":He("load",c);break;case"video":case"audio":for(d=0;d<Uo.length;d++)He(Uo[d],c);break;case"source":He("error",c);break;case"img":case"image":case"link":He("error",c),He("load",c);break;case"details":He("toggle",c);break;case"input":Qi(c,p),He("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},He("invalid",c);break;case"textarea":Xi(c,p),He("invalid",c)}_o(o,p),d=null;for(var v in p)if(p.hasOwnProperty(v)){var T=p[v];v==="children"?typeof T=="string"?c.textContent!==T&&(p.suppressHydrationWarning!==!0&&ul(c.textContent,T,n),d=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&ul(c.textContent,T,n),d=["children",""+T]):a.hasOwnProperty(v)&&T!=null&&v==="onScroll"&&He("scroll",c)}switch(o){case"input":Jn(c),Oa(c,p,!0);break;case"textarea":Jn(c),po(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=cl)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ct(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(o,{is:c.is}):(n=v.createElement(o),o==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,o),n[zn]=r,n[$o]=c,Ip(n,r,!1,!1),r.stateNode=n;e:{switch(v=wo(o,c),o){case"dialog":He("cancel",n),He("close",n),d=c;break;case"iframe":case"object":case"embed":He("load",n),d=c;break;case"video":case"audio":for(d=0;d<Uo.length;d++)He(Uo[d],n);d=c;break;case"source":He("error",n),d=c;break;case"img":case"image":case"link":He("error",n),He("load",n),d=c;break;case"details":He("toggle",n),d=c;break;case"input":Qi(n,c),d=hi(n,c),He("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=te({},c,{value:void 0}),He("invalid",n);break;case"textarea":Xi(n,c),d=fo(n,c),He("invalid",n);break;default:d=c}_o(o,d),T=d;for(p in T)if(T.hasOwnProperty(p)){var k=T[p];p==="style"?yo(n,k):p==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&mo(n,k)):p==="children"?typeof k=="string"?(o!=="textarea"||k!=="")&&kr(n,k):typeof k=="number"&&kr(n,""+k):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?k!=null&&p==="onScroll"&&He("scroll",n):k!=null&&_e(n,p,k,v))}switch(o){case"input":Jn(n),Oa(n,c,!1);break;case"textarea":Jn(n),po(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Oe(c.value));break;case"select":n.multiple=!!c.multiple,p=c.value,p!=null?er(n,!!c.multiple,p,!1):c.defaultValue!=null&&er(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=cl)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return bt(r),null;case 6:if(n&&r.stateNode!=null)Sp(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(t(166));if(o=Di(Go.current),Di(Bn.current),yl(r)){if(c=r.stateNode,o=r.memoizedProps,c[zn]=r,(p=c.nodeValue!==o)&&(n=nn,n!==null))switch(n.tag){case 3:ul(c.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ul(c.nodeValue,o,(n.mode&1)!==0)}p&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[zn]=r,r.stateNode=c}return bt(r),null;case 13:if(We(Xe),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ye&&rn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)kf(),Ps(),r.flags|=98560,p=!1;else if(p=yl(r),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[zn]=r}else Ps(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),p=!1}else Cn!==null&&(th(Cn),Cn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Xe.current&1)!==0?pt===0&&(pt=3):ih())),r.updateQueue!==null&&(r.flags|=4),bt(r),null);case 4:return Vs(),qc(n,r),n===null&&zo(r.stateNode.containerInfo),bt(r),null;case 10:return vc(r.type._context),bt(r),null;case 17:return Kt(r.type)&&dl(),bt(r),null;case 19:if(We(Xe),p=r.memoizedState,p===null)return bt(r),null;if(c=(r.flags&128)!==0,v=p.rendering,v===null)if(c)Zo(p,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(v=Tl(n),v!==null){for(r.flags|=128,Zo(p,!1),c=v.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)p=o,n=c,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,n=v.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return qe(Xe,Xe.current&1|2),r.child}n=n.sibling}p.tail!==null&&$e()>js&&(r.flags|=128,c=!0,Zo(p,!1),r.lanes=4194304)}else{if(!c)if(n=Tl(v),n!==null){if(r.flags|=128,c=!0,o=n.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Zo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ye)return bt(r),null}else 2*$e()-p.renderingStartTime>js&&o!==1073741824&&(r.flags|=128,c=!0,Zo(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,o=Xe.current,qe(Xe,c?o&1|2:o&1),r):(bt(r),null);case 22:case 23:return rh(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(sn&1073741824)!==0&&(bt(r),r.subtreeFlags&6&&(r.flags|=8192)):bt(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function v_(n,r){switch(dc(r),r.tag){case 1:return Kt(r.type)&&dl(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Vs(),We(Wt),We(Nt),xc(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Tc(r),null;case 13:if(We(Xe),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));Ps()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return We(Xe),null;case 4:return Vs(),null;case 10:return vc(r.type._context),null;case 22:case 23:return rh(),null;case 24:return null;default:return null}}var Dl=!1,Vt=!1,__=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ls(n,r){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){Ze(n,r,c)}else o.current=null}function Hc(n,r,o){try{o()}catch(c){Ze(n,r,c)}}var xp=!1;function w_(n,r){if(rc=Or,n=nf(),Qu(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,T=-1,k=-1,F=0,q=0,K=n,$=null;t:for(;;){for(var ee;K!==o||d!==0&&K.nodeType!==3||(T=v+d),K!==p||c!==0&&K.nodeType!==3||(k=v+c),K.nodeType===3&&(v+=K.nodeValue.length),(ee=K.firstChild)!==null;)$=K,K=ee;for(;;){if(K===n)break t;if($===o&&++F===d&&(T=v),$===p&&++q===c&&(k=v),(ee=K.nextSibling)!==null)break;K=$,$=K.parentNode}K=ee}o=T===-1||k===-1?null:{start:T,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(ic={focusedElem:n,selectionRange:o},Or=!1,ne=r;ne!==null;)if(r=ne,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,ne=n;else for(;ne!==null;){r=ne;try{var re=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,rt=re.memoizedState,L=r.stateNode,R=L.getSnapshotBeforeUpdate(r.elementType===r.type?ie:Rn(r.type,ie),rt);L.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var M=r.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(G){Ze(r,r.return,G)}if(n=r.sibling,n!==null){n.return=r.return,ne=n;break}ne=r.return}return re=xp,xp=!1,re}function ea(n,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var p=d.destroy;d.destroy=void 0,p!==void 0&&Hc(r,o,p)}d=d.next}while(d!==c)}}function bl(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function Wc(n){var r=n.ref;if(r!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof r=="function"?r(n):r.current=n}}function Ap(n){var r=n.alternate;r!==null&&(n.alternate=null,Ap(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[zn],delete r[$o],delete r[lc],delete r[n_],delete r[r_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function kp(n){return n.tag===5||n.tag===3||n.tag===4}function Cp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Kc(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(n,r):o.insertBefore(n,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(n,o)):(r=o,r.appendChild(n)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=cl));else if(c!==4&&(n=n.child,n!==null))for(Kc(n,r,o),n=n.sibling;n!==null;)Kc(n,r,o),n=n.sibling}function Gc(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Gc(n,r,o),n=n.sibling;n!==null;)Gc(n,r,o),n=n.sibling}var St=null,Pn=!1;function qr(n,r,o){for(o=o.child;o!==null;)Rp(n,r,o),o=o.sibling}function Rp(n,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(wi,o)}catch{}switch(o.tag){case 5:Vt||Ls(o,r);case 6:var c=St,d=Pn;St=null,qr(n,r,o),St=c,Pn=d,St!==null&&(Pn?(n=St,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(Pn?(n=St,o=o.stateNode,n.nodeType===8?ac(n.parentNode,o):n.nodeType===1&&ac(n,o),xn(n)):ac(St,o.stateNode));break;case 4:c=St,d=Pn,St=o.stateNode.containerInfo,Pn=!0,qr(n,r,o),St=c,Pn=d;break;case 0:case 11:case 14:case 15:if(!Vt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&Hc(o,r,v),d=d.next}while(d!==c)}qr(n,r,o);break;case 1:if(!Vt&&(Ls(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(T){Ze(o,r,T)}qr(n,r,o);break;case 21:qr(n,r,o);break;case 22:o.mode&1?(Vt=(c=Vt)||o.memoizedState!==null,qr(n,r,o),Vt=c):qr(n,r,o);break;default:qr(n,r,o)}}function Pp(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new __),r.forEach(function(c){var d=R_.bind(null,n,c);o.has(c)||(o.add(c),c.then(d,d))})}}function Nn(n,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var p=n,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 5:St=T.stateNode,Pn=!1;break e;case 3:St=T.stateNode.containerInfo,Pn=!0;break e;case 4:St=T.stateNode.containerInfo,Pn=!0;break e}T=T.return}if(St===null)throw Error(t(160));Rp(p,v,d),St=null,Pn=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(F){Ze(d,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Np(r,n),r=r.sibling}function Np(n,r){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Nn(r,n),qn(n),c&4){try{ea(3,n,n.return),bl(3,n)}catch(ie){Ze(n,n.return,ie)}try{ea(5,n,n.return)}catch(ie){Ze(n,n.return,ie)}}break;case 1:Nn(r,n),qn(n),c&512&&o!==null&&Ls(o,o.return);break;case 5:if(Nn(r,n),qn(n),c&512&&o!==null&&Ls(o,o.return),n.flags&32){var d=n.stateNode;try{kr(d,"")}catch(ie){Ze(n,n.return,ie)}}if(c&4&&(d=n.stateNode,d!=null)){var p=n.memoizedProps,v=o!==null?o.memoizedProps:p,T=n.type,k=n.updateQueue;if(n.updateQueue=null,k!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&co(d,p),wo(T,v);var F=wo(T,p);for(v=0;v<k.length;v+=2){var q=k[v],K=k[v+1];q==="style"?yo(d,K):q==="dangerouslySetInnerHTML"?mo(d,K):q==="children"?kr(d,K):_e(d,q,K,F)}switch(T){case"input":ho(d,p);break;case"textarea":Ji(d,p);break;case"select":var $=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var ee=p.value;ee!=null?er(d,!!p.multiple,ee,!1):$!==!!p.multiple&&(p.defaultValue!=null?er(d,!!p.multiple,p.defaultValue,!0):er(d,!!p.multiple,p.multiple?[]:"",!1))}d[$o]=p}catch(ie){Ze(n,n.return,ie)}}break;case 6:if(Nn(r,n),qn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,p=n.memoizedProps;try{d.nodeValue=p}catch(ie){Ze(n,n.return,ie)}}break;case 3:if(Nn(r,n),qn(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{xn(r.containerInfo)}catch(ie){Ze(n,n.return,ie)}break;case 4:Nn(r,n),qn(n);break;case 13:Nn(r,n),qn(n),d=n.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Xc=$e())),c&4&&Pp(n);break;case 22:if(q=o!==null&&o.memoizedState!==null,n.mode&1?(Vt=(F=Vt)||q,Nn(r,n),Vt=F):Nn(r,n),qn(n),c&8192){if(F=n.memoizedState!==null,(n.stateNode.isHidden=F)&&!q&&(n.mode&1)!==0)for(ne=n,q=n.child;q!==null;){for(K=ne=q;ne!==null;){switch($=ne,ee=$.child,$.tag){case 0:case 11:case 14:case 15:ea(4,$,$.return);break;case 1:Ls($,$.return);var re=$.stateNode;if(typeof re.componentWillUnmount=="function"){c=$,o=$.return;try{r=c,re.props=r.memoizedProps,re.state=r.memoizedState,re.componentWillUnmount()}catch(ie){Ze(c,o,ie)}}break;case 5:Ls($,$.return);break;case 22:if($.memoizedState!==null){Vp(K);continue}}ee!==null?(ee.return=$,ne=ee):Vp(K)}q=q.sibling}e:for(q=null,K=n;;){if(K.tag===5){if(q===null){q=K;try{d=K.stateNode,F?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=K.stateNode,k=K.memoizedProps.style,v=k!=null&&k.hasOwnProperty("display")?k.display:null,T.style.display=go("display",v))}catch(ie){Ze(n,n.return,ie)}}}else if(K.tag===6){if(q===null)try{K.stateNode.nodeValue=F?"":K.memoizedProps}catch(ie){Ze(n,n.return,ie)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===n)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===n)break e;for(;K.sibling===null;){if(K.return===null||K.return===n)break e;q===K&&(q=null),K=K.return}q===K&&(q=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:Nn(r,n),qn(n),c&4&&Pp(n);break;case 21:break;default:Nn(r,n),qn(n)}}function qn(n){var r=n.flags;if(r&2){try{e:{for(var o=n.return;o!==null;){if(kp(o)){var c=o;break e}o=o.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(kr(d,""),c.flags&=-33);var p=Cp(n);Gc(n,p,d);break;case 3:case 4:var v=c.stateNode.containerInfo,T=Cp(n);Kc(n,T,v);break;default:throw Error(t(161))}}catch(k){Ze(n,n.return,k)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function E_(n,r,o){ne=n,Dp(n)}function Dp(n,r,o){for(var c=(n.mode&1)!==0;ne!==null;){var d=ne,p=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||Dl;if(!v){var T=d.alternate,k=T!==null&&T.memoizedState!==null||Vt;T=Dl;var F=Vt;if(Dl=v,(Vt=k)&&!F)for(ne=d;ne!==null;)v=ne,k=v.child,v.tag===22&&v.memoizedState!==null?Op(d):k!==null?(k.return=v,ne=k):Op(d);for(;p!==null;)ne=p,Dp(p),p=p.sibling;ne=d,Dl=T,Vt=F}bp(n)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,ne=p):bp(n)}}function bp(n){for(;ne!==null;){var r=ne;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Vt||bl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Vt)if(o===null)c.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:Rn(r.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Vf(r,p,c);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Vf(r,v,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var k=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var q=F.memoizedState;if(q!==null){var K=q.dehydrated;K!==null&&xn(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Vt||r.flags&512&&Wc(r)}catch($){Ze(r,r.return,$)}}if(r===n){ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Vp(n){for(;ne!==null;){var r=ne;if(r===n){ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Op(n){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{bl(4,r)}catch(k){Ze(r,o,k)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(k){Ze(r,d,k)}}var p=r.return;try{Wc(r)}catch(k){Ze(r,p,k)}break;case 5:var v=r.return;try{Wc(r)}catch(k){Ze(r,v,k)}}}catch(k){Ze(r,r.return,k)}if(r===n){ne=null;break}var T=r.sibling;if(T!==null){T.return=r.return,ne=T;break}ne=r.return}}var I_=Math.ceil,Vl=ye.ReactCurrentDispatcher,Qc=ye.ReactCurrentOwner,gn=ye.ReactCurrentBatchConfig,Ne=0,vt=null,at=null,xt=0,sn=0,Ms=Fr(0),pt=0,ta=null,Vi=0,Ol=0,Yc=0,na=null,Qt=null,Xc=0,js=1/0,mr=null,Ll=!1,Jc=null,Hr=null,Ml=!1,Wr=null,jl=0,ra=0,Zc=null,Fl=-1,Ul=0;function $t(){return(Ne&6)!==0?$e():Fl!==-1?Fl:Fl=$e()}function Kr(n){return(n.mode&1)===0?1:(Ne&2)!==0&&xt!==0?xt&-xt:s_.transition!==null?(Ul===0&&(Ul=Ii()),Ul):(n=xe,n!==0||(n=window.event,n=n===void 0?16:No(n.type)),n)}function Dn(n,r,o,c){if(50<ra)throw ra=0,Zc=null,Error(t(185));Nr(n,o,c),((Ne&2)===0||n!==vt)&&(n===vt&&((Ne&2)===0&&(Ol|=o),pt===4&&Gr(n,xt)),Yt(n,c),o===1&&Ne===0&&(r.mode&1)===0&&(js=$e()+500,pl&&zr()))}function Yt(n,r){var o=n.callbackNode;rr(n,r);var c=Ei(n,n===vt?xt:0);if(c===0)o!==null&&Ao(o),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(o!=null&&Ao(o),r===1)n.tag===0?i_(Mp.bind(null,n)):If(Mp.bind(null,n)),e_(function(){(Ne&6)===0&&zr()}),o=null;else{switch(br(c)){case 1:o=_i;break;case 4:o=Cr;break;case 16:o=un;break;case 536870912:o=Ua;break;default:o=un}o=Hp(o,Lp.bind(null,n))}n.callbackPriority=r,n.callbackNode=o}}function Lp(n,r){if(Fl=-1,Ul=0,(Ne&6)!==0)throw Error(t(327));var o=n.callbackNode;if(Fs()&&n.callbackNode!==o)return null;var c=Ei(n,n===vt?xt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=zl(n,c);else{r=c;var d=Ne;Ne|=2;var p=Fp();(vt!==n||xt!==r)&&(mr=null,js=$e()+500,Li(n,r));do try{x_();break}catch(T){jp(n,T)}while(!0);yc(),Vl.current=p,Ne=d,at!==null?r=0:(vt=null,xt=0,r=pt)}if(r!==0){if(r===2&&(d=Zt(n),d!==0&&(c=d,r=eh(n,d))),r===1)throw o=ta,Li(n,0),Gr(n,c),Yt(n,$e()),o;if(r===6)Gr(n,c);else{if(d=n.current.alternate,(c&30)===0&&!T_(d)&&(r=zl(n,c),r===2&&(p=Zt(n),p!==0&&(c=p,r=eh(n,p))),r===1))throw o=ta,Li(n,0),Gr(n,c),Yt(n,$e()),o;switch(n.finishedWork=d,n.finishedLanes=c,r){case 0:case 1:throw Error(t(345));case 2:Mi(n,Qt,mr);break;case 3:if(Gr(n,c),(c&130023424)===c&&(r=Xc+500-$e(),10<r)){if(Ei(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){$t(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=oc(Mi.bind(null,n,Qt,mr),r);break}Mi(n,Qt,mr);break;case 4:if(Gr(n,c),(c&4194240)===c)break;for(r=n.eventTimes,d=-1;0<c;){var v=31-Ut(c);p=1<<v,v=r[v],v>d&&(d=v),c&=~p}if(c=d,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*I_(c/1960))-c,10<c){n.timeoutHandle=oc(Mi.bind(null,n,Qt,mr),c);break}Mi(n,Qt,mr);break;case 5:Mi(n,Qt,mr);break;default:throw Error(t(329))}}}return Yt(n,$e()),n.callbackNode===o?Lp.bind(null,n):null}function eh(n,r){var o=na;return n.current.memoizedState.isDehydrated&&(Li(n,r).flags|=256),n=zl(n,r),n!==2&&(r=Qt,Qt=o,r!==null&&th(r)),n}function th(n){Qt===null?Qt=n:Qt.push.apply(Qt,n)}function T_(n){for(var r=n;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],p=d.getSnapshot;d=d.value;try{if(!kn(p(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gr(n,r){for(r&=~Yc,r&=~Ol,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var o=31-Ut(r),c=1<<o;n[o]=-1,r&=~c}}function Mp(n){if((Ne&6)!==0)throw Error(t(327));Fs();var r=Ei(n,0);if((r&1)===0)return Yt(n,$e()),null;var o=zl(n,r);if(n.tag!==0&&o===2){var c=Zt(n);c!==0&&(r=c,o=eh(n,c))}if(o===1)throw o=ta,Li(n,0),Gr(n,r),Yt(n,$e()),o;if(o===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Mi(n,Qt,mr),Yt(n,$e()),null}function nh(n,r){var o=Ne;Ne|=1;try{return n(r)}finally{Ne=o,Ne===0&&(js=$e()+500,pl&&zr())}}function Oi(n){Wr!==null&&Wr.tag===0&&(Ne&6)===0&&Fs();var r=Ne;Ne|=1;var o=gn.transition,c=xe;try{if(gn.transition=null,xe=1,n)return n()}finally{xe=c,gn.transition=o,Ne=r,(Ne&6)===0&&zr()}}function rh(){sn=Ms.current,We(Ms)}function Li(n,r){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,Zv(o)),at!==null)for(o=at.return;o!==null;){var c=o;switch(dc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&dl();break;case 3:Vs(),We(Wt),We(Nt),xc();break;case 5:Tc(c);break;case 4:Vs();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:vc(c.type._context);break;case 22:case 23:rh()}o=o.return}if(vt=n,at=n=Qr(n.current,null),xt=sn=r,pt=0,ta=null,Yc=Ol=Vi=0,Qt=na=null,Ni!==null){for(r=0;r<Ni.length;r++)if(o=Ni[r],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,p=o.pending;if(p!==null){var v=p.next;p.next=d,c.next=v}o.pending=c}Ni=null}return n}function jp(n,r){do{var o=at;try{if(yc(),Sl.current=Cl,xl){for(var c=Je.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}xl=!1}if(bi=0,yt=ft=Je=null,Qo=!1,Yo=0,Qc.current=null,o===null||o.return===null){pt=1,ta=r,at=null;break}e:{var p=n,v=o.return,T=o,k=r;if(r=xt,T.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var F=k,q=T,K=q.tag;if((q.mode&1)===0&&(K===0||K===11||K===15)){var $=q.alternate;$?(q.updateQueue=$.updateQueue,q.memoizedState=$.memoizedState,q.lanes=$.lanes):(q.updateQueue=null,q.memoizedState=null)}var ee=up(v);if(ee!==null){ee.flags&=-257,cp(ee,v,T,p,r),ee.mode&1&&lp(p,F,r),r=ee,k=F;var re=r.updateQueue;if(re===null){var ie=new Set;ie.add(k),r.updateQueue=ie}else re.add(k);break e}else{if((r&1)===0){lp(p,F,r),ih();break e}k=Error(t(426))}}else if(Ye&&T.mode&1){var rt=up(v);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),cp(rt,v,T,p,r),mc(Os(k,T));break e}}p=k=Os(k,T),pt!==4&&(pt=2),na===null?na=[p]:na.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var L=op(p,k,r);bf(p,L);break e;case 1:T=k;var R=p.type,M=p.stateNode;if((p.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Hr===null||!Hr.has(M)))){p.flags|=65536,r&=-r,p.lanes|=r;var G=ap(p,T,r);bf(p,G);break e}}p=p.return}while(p!==null)}zp(o)}catch(ae){r=ae,at===o&&o!==null&&(at=o=o.return);continue}break}while(!0)}function Fp(){var n=Vl.current;return Vl.current=Cl,n===null?Cl:n}function ih(){(pt===0||pt===3||pt===2)&&(pt=4),vt===null||(Vi&268435455)===0&&(Ol&268435455)===0||Gr(vt,xt)}function zl(n,r){var o=Ne;Ne|=2;var c=Fp();(vt!==n||xt!==r)&&(mr=null,Li(n,r));do try{S_();break}catch(d){jp(n,d)}while(!0);if(yc(),Ne=o,Vl.current=c,at!==null)throw Error(t(261));return vt=null,xt=0,pt}function S_(){for(;at!==null;)Up(at)}function x_(){for(;at!==null&&!ja();)Up(at)}function Up(n){var r=qp(n.alternate,n,sn);n.memoizedProps=n.pendingProps,r===null?zp(n):at=r,Qc.current=null}function zp(n){var r=n;do{var o=r.alternate;if(n=r.return,(r.flags&32768)===0){if(o=y_(o,r,sn),o!==null){at=o;return}}else{if(o=v_(o,r),o!==null){o.flags&=32767,at=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{pt=6,at=null;return}}if(r=r.sibling,r!==null){at=r;return}at=r=n}while(r!==null);pt===0&&(pt=5)}function Mi(n,r,o){var c=xe,d=gn.transition;try{gn.transition=null,xe=1,A_(n,r,o,c)}finally{gn.transition=d,xe=c}return null}function A_(n,r,o,c){do Fs();while(Wr!==null);if((Ne&6)!==0)throw Error(t(327));o=n.finishedWork;var d=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=o.lanes|o.childLanes;if(Ue(n,p),n===vt&&(at=vt=null,xt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Ml||(Ml=!0,Hp(un,function(){return Fs(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=gn.transition,gn.transition=null;var v=xe;xe=1;var T=Ne;Ne|=4,Qc.current=null,w_(n,o),Np(o,n),Wv(ic),Or=!!rc,ic=rc=null,n.current=o,E_(o),zu(),Ne=T,xe=v,gn.transition=p}else n.current=o;if(Ml&&(Ml=!1,Wr=n,jl=d),p=n.pendingLanes,p===0&&(Hr=null),za(o.stateNode),Yt(n,$e()),r!==null)for(c=n.onRecoverableError,o=0;o<r.length;o++)d=r[o],c(d.value,{componentStack:d.stack,digest:d.digest});if(Ll)throw Ll=!1,n=Jc,Jc=null,n;return(jl&1)!==0&&n.tag!==0&&Fs(),p=n.pendingLanes,(p&1)!==0?n===Zc?ra++:(ra=0,Zc=n):ra=0,zr(),null}function Fs(){if(Wr!==null){var n=br(jl),r=gn.transition,o=xe;try{if(gn.transition=null,xe=16>n?16:n,Wr===null)var c=!1;else{if(n=Wr,Wr=null,jl=0,(Ne&6)!==0)throw Error(t(331));var d=Ne;for(Ne|=4,ne=n.current;ne!==null;){var p=ne,v=p.child;if((ne.flags&16)!==0){var T=p.deletions;if(T!==null){for(var k=0;k<T.length;k++){var F=T[k];for(ne=F;ne!==null;){var q=ne;switch(q.tag){case 0:case 11:case 15:ea(8,q,p)}var K=q.child;if(K!==null)K.return=q,ne=K;else for(;ne!==null;){q=ne;var $=q.sibling,ee=q.return;if(Ap(q),q===F){ne=null;break}if($!==null){$.return=ee,ne=$;break}ne=ee}}}var re=p.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var rt=ie.sibling;ie.sibling=null,ie=rt}while(ie!==null)}}ne=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,ne=v;else e:for(;ne!==null;){if(p=ne,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ea(9,p,p.return)}var L=p.sibling;if(L!==null){L.return=p.return,ne=L;break e}ne=p.return}}var R=n.current;for(ne=R;ne!==null;){v=ne;var M=v.child;if((v.subtreeFlags&2064)!==0&&M!==null)M.return=v,ne=M;else e:for(v=R;ne!==null;){if(T=ne,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:bl(9,T)}}catch(ae){Ze(T,T.return,ae)}if(T===v){ne=null;break e}var G=T.sibling;if(G!==null){G.return=T.return,ne=G;break e}ne=T.return}}if(Ne=d,zr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(wi,n)}catch{}c=!0}return c}finally{xe=o,gn.transition=r}}return!1}function Bp(n,r,o){r=Os(o,r),r=op(n,r,1),n=$r(n,r,1),r=$t(),n!==null&&(Nr(n,1,r),Yt(n,r))}function Ze(n,r,o){if(n.tag===3)Bp(n,n,o);else for(;r!==null;){if(r.tag===3){Bp(r,n,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Hr===null||!Hr.has(c))){n=Os(o,n),n=ap(r,n,1),r=$r(r,n,1),n=$t(),r!==null&&(Nr(r,1,n),Yt(r,n));break}}r=r.return}}function k_(n,r,o){var c=n.pingCache;c!==null&&c.delete(r),r=$t(),n.pingedLanes|=n.suspendedLanes&o,vt===n&&(xt&o)===o&&(pt===4||pt===3&&(xt&130023424)===xt&&500>$e()-Xc?Li(n,0):Yc|=o),Yt(n,r)}function $p(n,r){r===0&&((n.mode&1)===0?r=1:(r=ls,ls<<=1,(ls&130023424)===0&&(ls=4194304)));var o=$t();n=dr(n,r),n!==null&&(Nr(n,r,o),Yt(n,o))}function C_(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),$p(n,o)}function R_(n,r){var o=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(r),$p(n,o)}var qp;qp=function(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps||Wt.current)Gt=!0;else{if((n.lanes&o)===0&&(r.flags&128)===0)return Gt=!1,g_(n,r,o);Gt=(n.flags&131072)!==0}else Gt=!1,Ye&&(r.flags&1048576)!==0&&Tf(r,gl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Nl(n,r),n=r.pendingProps;var d=ks(r,Nt.current);bs(r,o),d=Cc(null,r,c,n,d,o);var p=Rc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Kt(c)?(p=!0,fl(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ec(r),d.updater=Rl,r.stateNode=d,d._reactInternals=r,Oc(r,c,n,o),r=Fc(null,r,c,!0,p,o)):(r.tag=0,Ye&&p&&hc(r),Bt(null,r,d,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Nl(n,r),n=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=N_(c),n=Rn(c,n),d){case 0:r=jc(null,r,c,n,o);break e;case 1:r=gp(null,r,c,n,o);break e;case 11:r=hp(null,r,c,n,o);break e;case 14:r=dp(null,r,c,Rn(c.type,n),o);break e}throw Error(t(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Rn(c,d),jc(n,r,c,d,o);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Rn(c,d),gp(n,r,c,d,o);case 3:e:{if(yp(r),n===null)throw Error(t(387));c=r.pendingProps,p=r.memoizedState,d=p.element,Df(n,r),Il(r,c,null,o);var v=r.memoizedState;if(c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=Os(Error(t(423)),r),r=vp(n,r,c,o,d);break e}else if(c!==d){d=Os(Error(t(424)),r),r=vp(n,r,c,o,d);break e}else for(rn=jr(r.stateNode.containerInfo.firstChild),nn=r,Ye=!0,Cn=null,o=Pf(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ps(),c===d){r=pr(n,r,o);break e}Bt(n,r,c,o)}r=r.child}return r;case 5:return Of(r),n===null&&pc(r),c=r.type,d=r.pendingProps,p=n!==null?n.memoizedProps:null,v=d.children,sc(c,d)?v=null:p!==null&&sc(c,p)&&(r.flags|=32),mp(n,r),Bt(n,r,v,o),r.child;case 6:return n===null&&pc(r),null;case 13:return _p(n,r,o);case 4:return Ic(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Ns(r,null,c,o):Bt(n,r,c,o),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Rn(c,d),hp(n,r,c,d,o);case 7:return Bt(n,r,r.pendingProps,o),r.child;case 8:return Bt(n,r,r.pendingProps.children,o),r.child;case 12:return Bt(n,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,p=r.memoizedProps,v=d.value,qe(_l,c._currentValue),c._currentValue=v,p!==null)if(kn(p.value,v)){if(p.children===d.children&&!Wt.current){r=pr(n,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var T=p.dependencies;if(T!==null){v=p.child;for(var k=T.firstContext;k!==null;){if(k.context===c){if(p.tag===1){k=fr(-1,o&-o),k.tag=2;var F=p.updateQueue;if(F!==null){F=F.shared;var q=F.pending;q===null?k.next=k:(k.next=q.next,q.next=k),F.pending=k}}p.lanes|=o,k=p.alternate,k!==null&&(k.lanes|=o),_c(p.return,o,r),T.lanes|=o;break}k=k.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(t(341));v.lanes|=o,T=v.alternate,T!==null&&(T.lanes|=o),_c(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Bt(n,r,d.children,o),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,bs(r,o),d=pn(d),c=c(d),r.flags|=1,Bt(n,r,c,o),r.child;case 14:return c=r.type,d=Rn(c,r.pendingProps),d=Rn(c.type,d),dp(n,r,c,d,o);case 15:return fp(n,r,r.type,r.pendingProps,o);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Rn(c,d),Nl(n,r),r.tag=1,Kt(c)?(n=!0,fl(r)):n=!1,bs(r,o),ip(r,c,d),Oc(r,c,d,o),Fc(null,r,c,!0,n,o);case 19:return Ep(n,r,o);case 22:return pp(n,r,o)}throw Error(t(156,r.tag))};function Hp(n,r){return os(n,r)}function P_(n,r,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(n,r,o,c){return new P_(n,r,o,c)}function sh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function N_(n){if(typeof n=="function")return sh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===V)return 11;if(n===Rt)return 14}return 2}function Qr(n,r){var o=n.alternate;return o===null?(o=yn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function Bl(n,r,o,c,d,p){var v=2;if(c=n,typeof n=="function")sh(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case N:return ji(o.children,d,p,r);case S:v=8,d|=8;break;case A:return n=yn(12,o,r,d|2),n.elementType=A,n.lanes=p,n;case x:return n=yn(13,o,r,d),n.elementType=x,n.lanes=p,n;case tt:return n=yn(19,o,r,d),n.elementType=tt,n.lanes=p,n;case Fe:return $l(o,d,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:v=10;break e;case D:v=9;break e;case V:v=11;break e;case Rt:v=14;break e;case Pt:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=yn(v,o,r,d),r.elementType=n,r.type=c,r.lanes=p,r}function ji(n,r,o,c){return n=yn(7,n,c,r),n.lanes=o,n}function $l(n,r,o,c){return n=yn(22,n,c,r),n.elementType=Fe,n.lanes=o,n.stateNode={isHidden:!1},n}function oh(n,r,o){return n=yn(6,n,null,r),n.lanes=o,n}function ah(n,r,o){return r=yn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function D_(n,r,o,c,d){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pr(0),this.expirationTimes=Pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function lh(n,r,o,c,d,p,v,T,k){return n=new D_(n,r,o,T,k),r===1?(r=1,p===!0&&(r|=8)):r=0,p=yn(3,null,null,r),n.current=p,p.stateNode=n,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ec(p),n}function b_(n,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:c==null?null:""+c,children:n,containerInfo:r,implementation:o}}function Wp(n){if(!n)return Ur;n=n._reactInternals;e:{if(wn(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Kt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var o=n.type;if(Kt(o))return wf(n,o,r)}return r}function Kp(n,r,o,c,d,p,v,T,k){return n=lh(o,c,!0,n,d,p,v,T,k),n.context=Wp(null),o=n.current,c=$t(),d=Kr(o),p=fr(c,d),p.callback=r??null,$r(o,p,d),n.current.lanes=d,Nr(n,d,c),Yt(n,c),n}function ql(n,r,o,c){var d=r.current,p=$t(),v=Kr(d);return o=Wp(o),r.context===null?r.context=o:r.pendingContext=o,r=fr(p,v),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=$r(d,r,v),n!==null&&(Dn(n,d,v,p),El(n,d,v)),v}function Hl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Gp(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function uh(n,r){Gp(n,r),(n=n.alternate)&&Gp(n,r)}function V_(){return null}var Qp=typeof reportError=="function"?reportError:function(n){console.error(n)};function ch(n){this._internalRoot=n}Wl.prototype.render=ch.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));ql(n,r,null,null)},Wl.prototype.unmount=ch.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Oi(function(){ql(null,n,null,null)}),r[lr]=null}};function Wl(n){this._internalRoot=n}Wl.prototype.unstable_scheduleHydration=function(n){if(n){var r=Wa();n={blockedOn:null,target:n,priority:r};for(var o=0;o<Mn.length&&r!==0&&r<Mn[o].priority;o++);Mn.splice(o,0,n),o===0&&Qa(n)}};function hh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Kl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Yp(){}function O_(n,r,o,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var F=Hl(v);p.call(F)}}var v=Kp(r,c,n,0,null,!1,!1,"",Yp);return n._reactRootContainer=v,n[lr]=v.current,zo(n.nodeType===8?n.parentNode:n),Oi(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var T=c;c=function(){var F=Hl(k);T.call(F)}}var k=lh(n,0,!1,null,null,!1,!1,"",Yp);return n._reactRootContainer=k,n[lr]=k.current,zo(n.nodeType===8?n.parentNode:n),Oi(function(){ql(r,k,o,c)}),k}function Gl(n,r,o,c,d){var p=o._reactRootContainer;if(p){var v=p;if(typeof d=="function"){var T=d;d=function(){var k=Hl(v);T.call(k)}}ql(r,v,n,d)}else v=O_(o,r,n,d,c);return Hl(v)}qa=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var o=Rr(r.pendingLanes);o!==0&&(Dr(r,o|1),Yt(r,$e()),(Ne&6)===0&&(js=$e()+500,zr()))}break;case 13:Oi(function(){var c=dr(n,1);if(c!==null){var d=$t();Dn(c,n,1,d)}}),uh(n,1)}},us=function(n){if(n.tag===13){var r=dr(n,134217728);if(r!==null){var o=$t();Dn(r,n,134217728,o)}uh(n,134217728)}},Ha=function(n){if(n.tag===13){var r=Kr(n),o=dr(n,r);if(o!==null){var c=$t();Dn(o,n,r,c)}uh(n,r)}},Wa=function(){return xe},Ka=function(n,r){var o=xe;try{return xe=n,r()}finally{xe=o}},es=function(n,r,o){switch(r){case"input":if(ho(n,o),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==n&&c.form===n.form){var d=hl(c);if(!d)throw Error(t(90));Gi(c),ho(c,d)}}}break;case"textarea":Ji(n,o);break;case"select":r=o.value,r!=null&&er(n,!!o.multiple,r,!1)}},mi=nh,Io=Oi;var L_={usingClientEntryPoint:!1,Events:[qo,xs,hl,On,Eo,nh]},ia={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M_={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=xo(n),n===null?null:n.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||V_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{wi=Ql.inject(M_),Jt=Ql}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L_,Xt.createPortal=function(n,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hh(r))throw Error(t(200));return b_(n,r,null,o)},Xt.createRoot=function(n,r){if(!hh(n))throw Error(t(299));var o=!1,c="",d=Qp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=lh(n,1,!1,null,null,o,!1,c,d),n[lr]=r.current,zo(n.nodeType===8?n.parentNode:n),new ch(r)},Xt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=xo(r),n=n===null?null:n.stateNode,n},Xt.flushSync=function(n){return Oi(n)},Xt.hydrate=function(n,r,o){if(!Kl(r))throw Error(t(200));return Gl(null,n,r,!0,o)},Xt.hydrateRoot=function(n,r,o){if(!hh(n))throw Error(t(405));var c=o!=null&&o.hydratedSources||null,d=!1,p="",v=Qp;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=Kp(r,null,n,1,o??null,d,!1,p,v),n[lr]=r.current,zo(n),c)for(n=0;n<c.length;n++)o=c[n],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new Wl(r)},Xt.render=function(n,r,o){if(!Kl(r))throw Error(t(200));return Gl(null,n,r,!1,o)},Xt.unmountComponentAtNode=function(n){if(!Kl(n))throw Error(t(40));return n._reactRootContainer?(Oi(function(){Gl(null,null,n,!1,function(){n._reactRootContainer=null,n[lr]=null})}),!0):!1},Xt.unstable_batchedUpdates=nh,Xt.unstable_renderSubtreeIntoContainer=function(n,r,o,c){if(!Kl(o))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Gl(n,r,o,!1,c)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var im;function H_(){if(im)return ph.exports;im=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ph.exports=q_(),ph.exports}var sm;function W_(){if(sm)return Yl;sm=1;var i=H_();return Yl.createRoot=i.createRoot,Yl.hydrateRoot=i.hydrateRoot,Yl}var K_=W_(),om={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},G_=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const a=i[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[t++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[t++],h=i[t++],m=i[t++],y=((a&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Dg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,m=h?i[a+1]:0,y=a+2<i.length,_=y?i[a+2]:0,I=u>>2,P=(u&3)<<4|m>>4;let j=(m&15)<<2|_>>6,z=_&63;y||(z=64,h||(j=64)),s.push(t[I],t[P],t[j],t[z])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Ng(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):G_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=t[i.charAt(a++)],m=a<i.length?t[i.charAt(a)]:0;++a;const _=a<i.length?t[i.charAt(a)]:64;++a;const P=a<i.length?t[i.charAt(a)]:64;if(++a,u==null||m==null||_==null||P==null)throw new Q_;const j=u<<2|m>>4;if(s.push(j),_!==64){const z=m<<4&240|_>>2;if(s.push(z),P!==64){const Y=_<<6&192|P;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Q_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y_=function(i){const e=Ng(i);return Dg.encodeByteArray(e,!0)},hu=function(i){return Y_(i).replace(/\./g,"")},bg=function(i){try{return Dg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=()=>X_().__FIREBASE_DEFAULTS__,Z_=()=>{if(typeof process>"u"||typeof om>"u")return;const i=om.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},e0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&bg(i[1]);return e&&JSON.parse(e)},ku=()=>{try{return J_()||Z_()||e0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Vg=i=>{var e,t;return(t=(e=ku())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},t0=i=>{const e=Vg(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Og=()=>{var i;return(i=ku())===null||i===void 0?void 0:i.config},Lg=i=>{var e;return(e=ku())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[hu(JSON.stringify(t)),hu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function s0(){var i;const e=(i=ku())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function l0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u0(){const i=Ft();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function c0(){return!s0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h0(){try{return typeof indexedDB=="object"}catch{return!1}}function d0(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="FirebaseError";class xr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=f0,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ia.prototype.create)}}class Ia{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?p0(u,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new xr(a,m,s)}}function p0(i,e){return i.replace(m0,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const m0=/\{\$([^}]+)}/g;function g0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function du(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(am(u)&&am(h)){if(!du(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function am(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function y0(i,e){const t=new v0(i,e);return t.subscribe.bind(t)}class v0{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");_0(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=yh),a.error===void 0&&(a.error=yh),a.complete===void 0&&(a.complete=yh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _0(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function yh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(i){return i&&i._delegate?i._delegate:i}class $i{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new n0;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I0(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:E0(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E0(i){return i===Fi?void 0:i}function I0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new w0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ae||(Ae={}));const S0={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},x0=Ae.INFO,A0={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},k0=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=A0[e];if(a)console[a](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nd{constructor(e){this.name=e,this._logLevel=x0,this._logHandler=k0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const C0=(i,e)=>e.some(t=>i instanceof t);let lm,um;function R0(){return lm||(lm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P0(){return um||(um=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mg=new WeakMap,Rh=new WeakMap,jg=new WeakMap,vh=new WeakMap,rd=new WeakMap;function N0(i){const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(ii(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Mg.set(t,i)}).catch(()=>{}),rd.set(e,i),e}function D0(i){if(Rh.has(i))return;const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Rh.set(i,e)}let Ph={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Rh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||jg.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ii(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function b0(i){Ph=i(Ph)}function V0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(_h(this),e,...t);return jg.set(s,e.sort?e.sort():[e]),ii(s)}:P0().includes(i)?function(...e){return i.apply(_h(this),e),ii(Mg.get(this))}:function(...e){return ii(i.apply(_h(this),e))}}function O0(i){return typeof i=="function"?V0(i):(i instanceof IDBTransaction&&D0(i),C0(i,R0())?new Proxy(i,Ph):i)}function ii(i){if(i instanceof IDBRequest)return N0(i);if(vh.has(i))return vh.get(i);const e=O0(i);return e!==i&&(vh.set(i,e),rd.set(e,i)),e}const _h=i=>rd.get(i);function L0(i,e,{blocked:t,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),m=ii(h);return s&&h.addEventListener("upgradeneeded",y=>{s(ii(h.result),y.oldVersion,y.newVersion,ii(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),a&&y.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const M0=["get","getKey","getAll","getAllKeys","count"],j0=["put","add","delete","clear"],wh=new Map;function cm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(wh.get(e))return wh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=j0.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||M0.includes(t)))return;const u=async function(h,...m){const y=this.transaction(h,a?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[t](...m),a&&y.done]))[0]};return wh.set(e,u),u}b0(i=>({...i,get:(e,t,s)=>cm(e,t)||i.get(e,t,s),has:(e,t)=>!!cm(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(U0(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function U0(i){const e=i.getComponent();return e?.type==="VERSION"}const Nh="@firebase/app",hm="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new nd("@firebase/app"),z0="@firebase/app-compat",B0="@firebase/analytics-compat",$0="@firebase/analytics",q0="@firebase/app-check-compat",H0="@firebase/app-check",W0="@firebase/auth",K0="@firebase/auth-compat",G0="@firebase/database",Q0="@firebase/data-connect",Y0="@firebase/database-compat",X0="@firebase/functions",J0="@firebase/functions-compat",Z0="@firebase/installations",ew="@firebase/installations-compat",tw="@firebase/messaging",nw="@firebase/messaging-compat",rw="@firebase/performance",iw="@firebase/performance-compat",sw="@firebase/remote-config",ow="@firebase/remote-config-compat",aw="@firebase/storage",lw="@firebase/storage-compat",uw="@firebase/firestore",cw="@firebase/vertexai-preview",hw="@firebase/firestore-compat",dw="firebase",fw="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="[DEFAULT]",pw={[Nh]:"fire-core",[z0]:"fire-core-compat",[$0]:"fire-analytics",[B0]:"fire-analytics-compat",[H0]:"fire-app-check",[q0]:"fire-app-check-compat",[W0]:"fire-auth",[K0]:"fire-auth-compat",[G0]:"fire-rtdb",[Q0]:"fire-data-connect",[Y0]:"fire-rtdb-compat",[X0]:"fire-fn",[J0]:"fire-fn-compat",[Z0]:"fire-iid",[ew]:"fire-iid-compat",[tw]:"fire-fcm",[nw]:"fire-fcm-compat",[rw]:"fire-perf",[iw]:"fire-perf-compat",[sw]:"fire-rc",[ow]:"fire-rc-compat",[aw]:"fire-gcs",[lw]:"fire-gcs-compat",[uw]:"fire-fst",[hw]:"fire-fst-compat",[cw]:"fire-vertex","fire-js":"fire-js",[dw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new Map,mw=new Map,bh=new Map;function dm(i,e){try{i.container.addComponent(e)}catch(t){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ys(i){const e=i.name;if(bh.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;bh.set(e,i);for(const t of fu.values())dm(t,i);for(const t of mw.values())dm(t,i);return!0}function id(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Kn(i){return i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new Ia("app","Firebase",gw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=fw;function Fg(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Dh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw si.create("bad-app-name",{appName:String(a)});if(t||(t=Og()),!t)throw si.create("no-options");const u=fu.get(a);if(u){if(du(t,u.options)&&du(s,u.config))return u;throw si.create("duplicate-app",{appName:a})}const h=new T0(a);for(const y of bh.values())h.addComponent(y);const m=new yw(t,s,h);return fu.set(a,m),m}function Ug(i=Dh){const e=fu.get(i);if(!e&&i===Dh&&Og())return Fg();if(!e)throw si.create("no-app",{appName:i});return e}function oi(i,e,t){var s;let a=(s=pw[i])!==null&&s!==void 0?s:i;t&&(a+=`-${t}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${a}" with version "${e}":`];u&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(m.join(" "));return}Ys(new $i(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="firebase-heartbeat-database",_w=1,ga="firebase-heartbeat-store";let Eh=null;function zg(){return Eh||(Eh=L0(vw,_w,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ga)}catch(t){console.warn(t)}}}}).catch(i=>{throw si.create("idb-open",{originalErrorMessage:i.message})})),Eh}async function ww(i){try{const t=(await zg()).transaction(ga),s=await t.objectStore(ga).get(Bg(i));return await t.done,s}catch(e){if(e instanceof xr)wr.warn(e.message);else{const t=si.create("idb-get",{originalErrorMessage:e?.message});wr.warn(t.message)}}}async function fm(i,e){try{const s=(await zg()).transaction(ga,"readwrite");await s.objectStore(ga).put(e,Bg(i)),await s.done}catch(t){if(t instanceof xr)wr.warn(t.message);else{const s=si.create("idb-set",{originalErrorMessage:t?.message});wr.warn(s.message)}}}function Bg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=1024,Iw=30*24*60*60*1e3;class Tw{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xw(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=pm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=Iw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){wr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pm(),{heartbeatsToSend:s,unsentEntries:a}=Sw(this._heartbeatsCache.heartbeats),u=hu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return wr.warn(t),""}}}function pm(){return new Date().toISOString().substring(0,10)}function Sw(i,e=Ew){const t=[];let s=i.slice();for(const a of i){const u=t.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),mm(t)>e){u.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),mm(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class xw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h0()?d0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ww(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return fm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return fm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function mm(i){return hu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(i){Ys(new $i("platform-logger",e=>new F0(e),"PRIVATE")),Ys(new $i("heartbeat",e=>new Tw(e),"PRIVATE")),oi(Nh,hm,i),oi(Nh,hm,"esm2017"),oi("fire-js","")}Aw("");var kw="firebase",Cw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(kw,Cw,"app");function sd(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(i);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(i,s[a])&&(t[s[a]]=i[s[a]]);return t}function $g(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rw=$g,qg=new Ia("auth","Firebase",$g());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new nd("@firebase/auth");function Pw(i,...e){pu.logLevel<=Ae.WARN&&pu.warn(`Auth (${io}): ${i}`,...e)}function nu(i,...e){pu.logLevel<=Ae.ERROR&&pu.error(`Auth (${io}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(i,...e){throw od(i,...e)}function Gn(i,...e){return od(i,...e)}function Hg(i,e,t){const s=Object.assign(Object.assign({},Rw()),{[e]:t});return new Ia("auth","Firebase",s).create(e,{appName:i.name})}function _r(i){return Hg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function od(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return qg.create(i,...e)}function pe(i,e,...t){if(!i)throw od(e,...t)}function gr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw nu(e),new Error(e)}function Ir(i,e){i||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Nw(){return gm()==="http:"||gm()==="https:"}function gm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nw()||a0()||"connection"in navigator)?navigator.onLine:!0}function bw(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ir(t>e,"Short delay should be less than long delay!"),this.isMobile=i0()||l0()}get(){return Dw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(i,e){Ir(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Sa(3e4,6e4);function xa(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function so(i,e,t,s,a={}){return Kg(i,a,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Ta(Object.assign({key:i.config.apiKey},h)).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const _=Object.assign({method:e,headers:y},u);return o0()||(_.referrerPolicy="no-referrer"),Wg.fetch()(Gg(i,i.config.apiHost,t,m),_)})}async function Kg(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},Vw),e);try{const a=new Lw(i),u=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Xl(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[y,_]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xl(i,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw Xl(i,"email-already-in-use",h);if(y==="USER_DISABLED")throw Xl(i,"user-disabled",h);const I=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Hg(i,I,_);Er(i,I)}}catch(a){if(a instanceof xr)throw a;Er(i,"network-request-failed",{message:String(a)})}}async function ld(i,e,t,s,a={}){const u=await so(i,e,t,s,a);return"mfaPendingCredential"in u&&Er(i,"multi-factor-auth-required",{_serverResponse:u}),u}function Gg(i,e,t,s){const a=`${e}${t}?${s}`;return i.config.emulator?ad(i.config,a):`${i.config.apiScheme}://${a}`}class Lw{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Gn(this.auth,"network-request-failed")),Ow.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xl(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Gn(i,e,s);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(i,e){return so(i,"POST","/v1/accounts:delete",e)}async function Qg(i,e){return so(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jw(i,e=!1){const t=an(i),s=await t.getIdToken(e),a=ud(s);pe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,h=u?.sign_in_provider;return{claims:a,token:s,authTime:ha(Ih(a.auth_time)),issuedAtTime:ha(Ih(a.iat)),expirationTime:ha(Ih(a.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ih(i){return Number(i)*1e3}function ud(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{const a=bg(t);return a?JSON.parse(a):(nu("Failed to decode base64 JWT payload"),null)}catch(a){return nu("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ym(i){const e=ud(i);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof xr&&Fw(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Fw({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ha(this.lastLoginAt),this.creationTime=ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(i){var e;const t=i.auth,s=await i.getIdToken(),a=await ya(i,Qg(t,{idToken:s}));pe(a?.users.length,t,"internal-error");const u=a.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Yg(u.providerUserInfo):[],m=Bw(i.providerData,h),y=i.isAnonymous,_=!(i.email&&u.passwordHash)&&!m?.length,I=y?_:!1,P={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Oh(u.createdAt,u.lastLoginAt),isAnonymous:I};Object.assign(i,P)}async function zw(i){const e=an(i);await mu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bw(i,e){return[...i.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function Yg(i){return i.map(e=>{var{providerId:t}=e,s=sd(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(i,e){const t=await Kg(i,{},async()=>{const s=Ta({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=i.config,h=Gg(i,a,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Wg.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qw(i,e){return so(i,"POST","/v2/accounts:revokeToken",xa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ym(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const t=ym(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:u}=await $w(e,t);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:u}=t,h=new qs;return s&&(pe(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),a&&(pe(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),u&&(pe(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qs,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(i,e){pe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,u=sd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Uw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Oh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await ya(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jw(this,e)}reload(){return zw(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await mu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await ya(this,Mw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,u,h,m,y,_,I;const P=(s=t.displayName)!==null&&s!==void 0?s:void 0,j=(a=t.email)!==null&&a!==void 0?a:void 0,z=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,Y=(h=t.photoURL)!==null&&h!==void 0?h:void 0,J=(m=t.tenantId)!==null&&m!==void 0?m:void 0,W=(y=t._redirectEventId)!==null&&y!==void 0?y:void 0,we=(_=t.createdAt)!==null&&_!==void 0?_:void 0,me=(I=t.lastLoginAt)!==null&&I!==void 0?I:void 0,{uid:_e,emailVerified:ye,isAnonymous:Ge,providerData:Se,stsTokenManager:N}=t;pe(_e&&N,e,"internal-error");const S=qs.fromJSON(this.name,N);pe(typeof _e=="string",e,"internal-error"),Xr(P,e.name),Xr(j,e.name),pe(typeof ye=="boolean",e,"internal-error"),pe(typeof Ge=="boolean",e,"internal-error"),Xr(z,e.name),Xr(Y,e.name),Xr(J,e.name),Xr(W,e.name),Xr(we,e.name),Xr(me,e.name);const A=new yr({uid:_e,auth:e,email:j,emailVerified:ye,displayName:P,isAnonymous:Ge,photoURL:Y,phoneNumber:z,tenantId:J,stsTokenManager:S,createdAt:we,lastLoginAt:me});return Se&&Array.isArray(Se)&&(A.providerData=Se.map(C=>Object.assign({},C))),W&&(A._redirectEventId=W),A}static async _fromIdTokenResponse(e,t,s=!1){const a=new qs;a.updateFromServerResponse(t);const u=new yr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await mu(u),u}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];pe(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?Yg(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!u?.length,m=new qs;m.updateFromIdToken(s);const y=new yr({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:h}),_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Oh(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!u?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new Map;function vr(i){Ir(i instanceof Function,"Expected a class definition");let e=vm.get(i);return e?(Ir(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,vm.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Xg.type="NONE";const _m=Xg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(i,e,t){return`firebase:${i}:${e}:${t}`}class Hs{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=ru(this.userKey,a.apiKey,u),this.fullPersistenceKey=ru("persistence",a.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Hs(vr(_m),e,s);const a=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=a[0]||vr(_m);const h=ru(s,e.config.apiKey,e.name);let m=null;for(const _ of t)try{const I=await _._get(h);if(I){const P=yr._fromJSON(e,I);_!==u&&(m=P),u=_;break}}catch{}const y=a.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Hs(u,e,s):(u=y[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async _=>{if(_!==u)try{await _._remove(h)}catch{}})),new Hs(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ty(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jg(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ry(e))return"Blackberry";if(iy(e))return"Webos";if(Zg(e))return"Safari";if((e.includes("chrome/")||ey(e))&&!e.includes("edge/"))return"Chrome";if(ny(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function Jg(i=Ft()){return/firefox\//i.test(i)}function Zg(i=Ft()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ey(i=Ft()){return/crios\//i.test(i)}function ty(i=Ft()){return/iemobile/i.test(i)}function ny(i=Ft()){return/android/i.test(i)}function ry(i=Ft()){return/blackberry/i.test(i)}function iy(i=Ft()){return/webos/i.test(i)}function cd(i=Ft()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Hw(i=Ft()){var e;return cd(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ww(){return u0()&&document.documentMode===10}function sy(i=Ft()){return cd(i)||ny(i)||iy(i)||ry(i)||/windows phone/i.test(i)||ty(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(i,e=[]){let t;switch(i){case"Browser":t=wm(Ft());break;case"Worker":t=`${wm(Ft())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const y=e(u);h(y)}catch(y){m(y)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(i,e={}){return so(i,"GET","/v2/passwordPolicy",xa(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=6;class Yw{constructor(e){var t,s,a,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:Qw,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,u,h,m;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(t=y.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),y.isValid&&(y.isValid=(s=y.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),y.isValid&&(y.isValid=(a=y.containsLowercaseLetter)!==null&&a!==void 0?a:!0),y.isValid&&(y.isValid=(u=y.containsUppercaseLetter)!==null&&u!==void 0?u:!0),y.isValid&&(y.isValid=(h=y.containsNumericCharacter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(m=y.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),y}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Em(this),this.idTokenSubscription=new Em(this),this.beforeStateQueue=new Kw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vr(t)),this._initializationPromise=this.queue(async()=>{var s,a;if(!this._deleted&&(this.persistenceManager=await Hs.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Qg(this,{idToken:e}),s=await yr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!h||h===m)&&y?.user&&(a=y.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(_r(this));const t=e?an(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gw(this),t=new Yw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ia("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await qw(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vr(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=await Hs.create(this,[vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,s,a);return()=>{h=!0,y()}}else{const y=e.addObserver(t);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Pw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Aa(i){return an(i)}class Em{constructor(e){this.auth=e,this.observer=null,this.addObserver=y0(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jw(i){hd=i}function Zw(i){return hd.loadJS(i)}function eE(){return hd.gapiScript}function tE(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(i,e){const t=id(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),u=t.getOptions();if(du(u,e??{}))return a;Er(a,"already-initialized")}return t.initialize({options:e})}function rE(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(vr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function iE(i,e,t){const s=Aa(i);pe(s._canInitEmulator,s,"emulator-config-failed"),pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,u=ay(e),{host:h,port:m}=sE(e),y=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${h}${y}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})}),oE()}function ay(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function sE(i){const e=ay(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const u=a[1];return{host:u,port:Im(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Im(h)}}}function Im(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function oE(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,t){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(i,e){return ld(i,"POST","/v1/accounts:signInWithIdp",xa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="http://localhost";class qi extends ly{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,u=sd(t,["providerId","signInMethod"]);if(!s||!a)return null;const h=new qi(s,a);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ws(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ws(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ws(e,t)}buildRequest(){const e={requestUri:aE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ta(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends uy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends ka{constructor(){super("facebook.com")}static credential(e){return qi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends ka{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Zr.credential(t,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends ka{constructor(){super("github.com")}static credential(e){return qi._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.GITHUB_SIGN_IN_METHOD="github.com";ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends ka{constructor(){super("twitter.com")}static credential(e,t){return qi._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ti.credential(t,s)}catch{return null}}}ti.TWITTER_SIGN_IN_METHOD="twitter.com";ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lE(i,e){return ld(i,"POST","/v1/accounts:signUp",xa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const u=await yr._fromIdTokenResponse(e,s,a),h=Tm(s);return new Tr({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=Tm(s);return new Tr({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function Tm(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(i){var e;if(Kn(i.app))return Promise.reject(_r(i));const t=Aa(i);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Tr({user:t.currentUser,providerId:null,operationType:"signIn"});const s=await lE(t,{returnSecureToken:!0}),a=await Tr._fromIdTokenResponse(t,"signIn",s,!0);return await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends xr{constructor(e,t,s,a){var u;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,gu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new gu(e,t,s,a)}}function cy(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gu._fromErrorAndOperation(i,u,e,s):u})}async function uE(i,e,t=!1){const s=await ya(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Tr._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cE(i,e,t=!1){const{auth:s}=i;if(Kn(s.app))return Promise.reject(_r(s));const a="reauthenticate";try{const u=await ya(i,cy(s,a,e,i),t);pe(u.idToken,s,"internal-error");const h=ud(u.idToken);pe(h,s,"internal-error");const{sub:m}=h;return pe(i.uid===m,s,"user-mismatch"),Tr._forOperation(i,a,u)}catch(u){throw u?.code==="auth/user-not-found"&&Er(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hE(i,e,t=!1){if(Kn(i.app))return Promise.reject(_r(i));const s="signIn",a=await cy(i,s,e),u=await Tr._fromIdTokenResponse(i,s,a);return t||await i._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dE(i,e){return ld(i,"POST","/v1/accounts:signInWithCustomToken",xa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fE(i,e){if(Kn(i.app))return Promise.reject(_r(i));const t=Aa(i),s=await dE(t,{token:e,returnSecureToken:!0}),a=await Tr._fromIdTokenResponse(t,"signIn",s);return await t._updateCurrentUser(a.user),a}function pE(i,e,t,s){return an(i).onIdTokenChanged(e,t,s)}function mE(i,e,t){return an(i).beforeAuthStateChanged(e,t)}function gE(i,e,t,s){return an(i).onAuthStateChanged(e,t,s)}const yu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yu,"1"),this.storage.removeItem(yu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=1e3,vE=10;class dy extends hy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);Ww()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,vE):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},yE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dy.type="LOCAL";const _E=dy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy extends hy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fy.type="SESSION";const py=fy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Cu(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:u}=t.data,h=this.handlersMap[a];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const m=Array.from(h).map(async _=>_(t.origin,u)),y=await wE(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,h;return new Promise((m,y)=>{const _=dd("",20);a.port1.start();const I=setTimeout(()=>{y(new Error("unsupported_event"))},s);h={messageChannel:a,onMessage(P){const j=P;if(j.data.eventId===_)switch(j.data.status){case"ack":clearTimeout(I),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(j.data.response);break;default:clearTimeout(I),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return window}function IE(i){Qn().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(){return typeof Qn().WorkerGlobalScope<"u"&&typeof Qn().importScripts=="function"}async function TE(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SE(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function xE(){return my()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="firebaseLocalStorageDb",AE=1,vu="firebaseLocalStorage",yy="fbase_key";class Ca{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ru(i,e){return i.transaction([vu],e?"readwrite":"readonly").objectStore(vu)}function kE(){const i=indexedDB.deleteDatabase(gy);return new Ca(i).toPromise()}function Lh(){const i=indexedDB.open(gy,AE);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(vu,{keyPath:yy})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(vu)?e(s):(s.close(),await kE(),e(await Lh()))})})}async function xm(i,e,t){const s=Ru(i,!0).put({[yy]:e,value:t});return new Ca(s).toPromise()}async function CE(i,e){const t=Ru(i,!1).get(e),s=await new Ca(t).toPromise();return s===void 0?null:s.value}function Am(i,e){const t=Ru(i,!0).delete(e);return new Ca(t).toPromise()}const RE=800,PE=3;class vy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lh(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>PE)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return my()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cu._getInstance(xE()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await TE(),!this.activeServiceWorker)return;this.sender=new EE(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lh();return await xm(e,yu,"1"),await Am(e,yu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>xm(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>CE(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Am(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=Ru(a,!1).getAll();return new Ca(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vy.type="LOCAL";const NE=vy;new Sa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(i,e){return e?vr(e):(pe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends ly{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ws(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ws(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bE(i){return hE(i.auth,new fd(i),i.bypassAuthState)}function VE(i){const{auth:e,user:t}=i;return pe(t,e,"internal-error"),cE(t,new fd(i),i.bypassAuthState)}async function OE(i){const{auth:e,user:t}=i;return pe(t,e,"internal-error"),uE(t,new fd(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t,s,a,u=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bE;case"linkViaPopup":case"linkViaRedirect":return OE;case"reauthViaPopup":case"reauthViaRedirect":return VE;default:Er(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Sa(2e3,1e4);class $s extends _y{constructor(e,t,s,a,u){super(e,t,a,u),this.provider=s,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=dd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LE.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="pendingRedirect",iu=new Map;class jE extends _y{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=iu.get(this.auth._key());if(!e){try{const s=await FE(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}iu.set(this.auth._key(),e)}return this.bypassAuthState||iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FE(i,e){const t=BE(e),s=zE(i);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function UE(i,e){iu.set(i._key(),e)}function zE(i){return vr(i._redirectPersistence)}function BE(i){return ru(ME,i.config.apiKey,i.name)}async function $E(i,e,t=!1){if(Kn(i.app))return Promise.reject(_r(i));const s=Aa(i),a=DE(s,e),h=await new jE(s,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=10*60*1e3;class HE{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WE(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!wy(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Gn(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qE&&this.cachedEventUids.clear(),this.cachedEventUids.has(km(e))}saveEventToCache(e){this.cachedEventUids.add(km(e)),this.lastProcessedEventTime=Date.now()}}function km(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function wy({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function WE(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wy(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KE(i,e={}){return so(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QE=/^https?/;async function YE(i){if(i.config.emulator)return;const{authorizedDomains:e}=await KE(i);for(const t of e)try{if(XE(t))return}catch{}Er(i,"unauthorized-domain")}function XE(i){const e=Vh(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!QE.test(t))return!1;if(GE.test(i))return s===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Sa(3e4,6e4);function Cm(){const i=Qn().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function ZE(i){return new Promise((e,t)=>{var s,a,u;function h(){Cm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cm(),t(Gn(i,"network-request-failed"))},timeout:JE.get()})}if(!((a=(s=Qn().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((u=Qn().gapi)===null||u===void 0)&&u.load)h();else{const m=tE("iframefcb");return Qn()[m]=()=>{gapi.load?h():t(Gn(i,"network-request-failed"))},Zw(`${eE()}?onload=${m}`).catch(y=>t(y))}}).catch(e=>{throw su=null,e})}let su=null;function eI(i){return su=su||ZE(i),su}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new Sa(5e3,15e3),nI="__/auth/iframe",rI="emulator/auth/iframe",iI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oI(i){const e=i.config;pe(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?ad(e,rI):`https://${i.config.authDomain}/${nI}`,s={apiKey:e.apiKey,appName:i.name,v:io},a=sI.get(i.config.apiHost);a&&(s.eid=a);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Ta(s).slice(1)}`}async function aI(i){const e=await eI(i),t=Qn().gapi;return pe(t,i,"internal-error"),e.open({where:document.body,url:oI(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iI,dontclear:!0},s=>new Promise(async(a,u)=>{await s.restyle({setHideOnLeave:!1});const h=Gn(i,"network-request-failed"),m=Qn().setTimeout(()=>{u(h)},tI.get());function y(){Qn().clearTimeout(m),a(s)}s.ping(y).then(y,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uI=500,cI=600,hI="_blank",dI="http://localhost";class Rm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fI(i,e,t,s=uI,a=cI){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y=Object.assign(Object.assign({},lI),{width:s.toString(),height:a.toString(),top:u,left:h}),_=Ft().toLowerCase();t&&(m=ey(_)?hI:t),Jg(_)&&(e=e||dI,y.scrollbars="yes");const I=Object.entries(y).reduce((j,[z,Y])=>`${j}${z}=${Y},`,"");if(Hw(_)&&m!=="_self")return pI(e||"",m),new Rm(null);const P=window.open(e||"",m,I);pe(P,i,"popup-blocked");try{P.focus()}catch{}return new Rm(P)}function pI(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="__/auth/handler",gI="emulator/auth/handler",yI=encodeURIComponent("fac");async function Pm(i,e,t,s,a,u){pe(i.config.authDomain,i,"auth-domain-config-required"),pe(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:io,eventId:a};if(e instanceof uy){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",g0(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[I,P]of Object.entries({}))h[I]=P}if(e instanceof ka){const I=e.getScopes().filter(P=>P!=="");I.length>0&&(h.scopes=I.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const I of Object.keys(m))m[I]===void 0&&delete m[I];const y=await i._getAppCheckToken(),_=y?`#${yI}=${encodeURIComponent(y)}`:"";return`${vI(i)}?${Ta(m).slice(1)}${_}`}function vI({config:i}){return i.emulator?ad(i,gI):`https://${i.authDomain}/${mI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="webStorageSupport";class _I{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=py,this._completeRedirectFn=$E,this._overrideRedirectResult=UE}async _openPopup(e,t,s,a){var u;Ir((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await Pm(e,t,s,Vh(),a);return fI(e,h,dd())}async _openRedirect(e,t,s,a){await this._originValidation(e);const u=await Pm(e,t,s,Vh(),a);return IE(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:u}=this.eventManagers[t];return a?Promise.resolve(a):(Ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await aI(e),s=new HE(e);return t.register("authEvent",a=>(pe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Th,{type:Th},a=>{var u;const h=(u=a?.[0])===null||u===void 0?void 0:u[Th];h!==void 0&&t(!!h),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YE(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sy()||Zg()||cd()}}const wI=_I;var Nm="@firebase/auth",Dm="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TI(i){Ys(new $i("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;pe(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oy(i)},_=new Xw(s,a,u,y);return rE(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ys(new $i("auth-internal",e=>{const t=Aa(e.getProvider("auth").getImmediate());return(s=>new EI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(Nm,Dm,II(i)),oi(Nm,Dm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=5*60,xI=Lg("authIdTokenMaxAge")||SI;let bm=null;const AI=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>xI)return;const a=t?.token;bm!==a&&(bm=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function kI(i=Ug()){const e=id(i,"auth");if(e.isInitialized())return e.getImmediate();const t=nE(i,{popupRedirectResolver:wI,persistence:[NE,_E,py]}),s=Lg("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=AI(u.toString());mE(t,h,()=>h(t.currentUser)),pE(t,m=>h(m))}}const a=Vg("auth");return a&&iE(t,`http://${a}`),t}function CI(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}Jw({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=a=>{const u=Gn("internal-error");u.customData=a,t(u)},s.type="text/javascript",s.charset="UTF-8",CI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TI("Browser");var Vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zi,Ey;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function A(){}A.prototype=S.prototype,N.D=S.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(C,D,V){for(var x=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)x[tt-2]=arguments[tt];return S.prototype[D].apply(C,x)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,S,A){A||(A=0);var C=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)C[D]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(D=0;16>D;++D)C[D]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=N.g[0],A=N.g[1],D=N.g[2];var V=N.g[3],x=S+(V^A&(D^V))+C[0]+3614090360&4294967295;S=A+(x<<7&4294967295|x>>>25),x=V+(D^S&(A^D))+C[1]+3905402710&4294967295,V=S+(x<<12&4294967295|x>>>20),x=D+(A^V&(S^A))+C[2]+606105819&4294967295,D=V+(x<<17&4294967295|x>>>15),x=A+(S^D&(V^S))+C[3]+3250441966&4294967295,A=D+(x<<22&4294967295|x>>>10),x=S+(V^A&(D^V))+C[4]+4118548399&4294967295,S=A+(x<<7&4294967295|x>>>25),x=V+(D^S&(A^D))+C[5]+1200080426&4294967295,V=S+(x<<12&4294967295|x>>>20),x=D+(A^V&(S^A))+C[6]+2821735955&4294967295,D=V+(x<<17&4294967295|x>>>15),x=A+(S^D&(V^S))+C[7]+4249261313&4294967295,A=D+(x<<22&4294967295|x>>>10),x=S+(V^A&(D^V))+C[8]+1770035416&4294967295,S=A+(x<<7&4294967295|x>>>25),x=V+(D^S&(A^D))+C[9]+2336552879&4294967295,V=S+(x<<12&4294967295|x>>>20),x=D+(A^V&(S^A))+C[10]+4294925233&4294967295,D=V+(x<<17&4294967295|x>>>15),x=A+(S^D&(V^S))+C[11]+2304563134&4294967295,A=D+(x<<22&4294967295|x>>>10),x=S+(V^A&(D^V))+C[12]+1804603682&4294967295,S=A+(x<<7&4294967295|x>>>25),x=V+(D^S&(A^D))+C[13]+4254626195&4294967295,V=S+(x<<12&4294967295|x>>>20),x=D+(A^V&(S^A))+C[14]+2792965006&4294967295,D=V+(x<<17&4294967295|x>>>15),x=A+(S^D&(V^S))+C[15]+1236535329&4294967295,A=D+(x<<22&4294967295|x>>>10),x=S+(D^V&(A^D))+C[1]+4129170786&4294967295,S=A+(x<<5&4294967295|x>>>27),x=V+(A^D&(S^A))+C[6]+3225465664&4294967295,V=S+(x<<9&4294967295|x>>>23),x=D+(S^A&(V^S))+C[11]+643717713&4294967295,D=V+(x<<14&4294967295|x>>>18),x=A+(V^S&(D^V))+C[0]+3921069994&4294967295,A=D+(x<<20&4294967295|x>>>12),x=S+(D^V&(A^D))+C[5]+3593408605&4294967295,S=A+(x<<5&4294967295|x>>>27),x=V+(A^D&(S^A))+C[10]+38016083&4294967295,V=S+(x<<9&4294967295|x>>>23),x=D+(S^A&(V^S))+C[15]+3634488961&4294967295,D=V+(x<<14&4294967295|x>>>18),x=A+(V^S&(D^V))+C[4]+3889429448&4294967295,A=D+(x<<20&4294967295|x>>>12),x=S+(D^V&(A^D))+C[9]+568446438&4294967295,S=A+(x<<5&4294967295|x>>>27),x=V+(A^D&(S^A))+C[14]+3275163606&4294967295,V=S+(x<<9&4294967295|x>>>23),x=D+(S^A&(V^S))+C[3]+4107603335&4294967295,D=V+(x<<14&4294967295|x>>>18),x=A+(V^S&(D^V))+C[8]+1163531501&4294967295,A=D+(x<<20&4294967295|x>>>12),x=S+(D^V&(A^D))+C[13]+2850285829&4294967295,S=A+(x<<5&4294967295|x>>>27),x=V+(A^D&(S^A))+C[2]+4243563512&4294967295,V=S+(x<<9&4294967295|x>>>23),x=D+(S^A&(V^S))+C[7]+1735328473&4294967295,D=V+(x<<14&4294967295|x>>>18),x=A+(V^S&(D^V))+C[12]+2368359562&4294967295,A=D+(x<<20&4294967295|x>>>12),x=S+(A^D^V)+C[5]+4294588738&4294967295,S=A+(x<<4&4294967295|x>>>28),x=V+(S^A^D)+C[8]+2272392833&4294967295,V=S+(x<<11&4294967295|x>>>21),x=D+(V^S^A)+C[11]+1839030562&4294967295,D=V+(x<<16&4294967295|x>>>16),x=A+(D^V^S)+C[14]+4259657740&4294967295,A=D+(x<<23&4294967295|x>>>9),x=S+(A^D^V)+C[1]+2763975236&4294967295,S=A+(x<<4&4294967295|x>>>28),x=V+(S^A^D)+C[4]+1272893353&4294967295,V=S+(x<<11&4294967295|x>>>21),x=D+(V^S^A)+C[7]+4139469664&4294967295,D=V+(x<<16&4294967295|x>>>16),x=A+(D^V^S)+C[10]+3200236656&4294967295,A=D+(x<<23&4294967295|x>>>9),x=S+(A^D^V)+C[13]+681279174&4294967295,S=A+(x<<4&4294967295|x>>>28),x=V+(S^A^D)+C[0]+3936430074&4294967295,V=S+(x<<11&4294967295|x>>>21),x=D+(V^S^A)+C[3]+3572445317&4294967295,D=V+(x<<16&4294967295|x>>>16),x=A+(D^V^S)+C[6]+76029189&4294967295,A=D+(x<<23&4294967295|x>>>9),x=S+(A^D^V)+C[9]+3654602809&4294967295,S=A+(x<<4&4294967295|x>>>28),x=V+(S^A^D)+C[12]+3873151461&4294967295,V=S+(x<<11&4294967295|x>>>21),x=D+(V^S^A)+C[15]+530742520&4294967295,D=V+(x<<16&4294967295|x>>>16),x=A+(D^V^S)+C[2]+3299628645&4294967295,A=D+(x<<23&4294967295|x>>>9),x=S+(D^(A|~V))+C[0]+4096336452&4294967295,S=A+(x<<6&4294967295|x>>>26),x=V+(A^(S|~D))+C[7]+1126891415&4294967295,V=S+(x<<10&4294967295|x>>>22),x=D+(S^(V|~A))+C[14]+2878612391&4294967295,D=V+(x<<15&4294967295|x>>>17),x=A+(V^(D|~S))+C[5]+4237533241&4294967295,A=D+(x<<21&4294967295|x>>>11),x=S+(D^(A|~V))+C[12]+1700485571&4294967295,S=A+(x<<6&4294967295|x>>>26),x=V+(A^(S|~D))+C[3]+2399980690&4294967295,V=S+(x<<10&4294967295|x>>>22),x=D+(S^(V|~A))+C[10]+4293915773&4294967295,D=V+(x<<15&4294967295|x>>>17),x=A+(V^(D|~S))+C[1]+2240044497&4294967295,A=D+(x<<21&4294967295|x>>>11),x=S+(D^(A|~V))+C[8]+1873313359&4294967295,S=A+(x<<6&4294967295|x>>>26),x=V+(A^(S|~D))+C[15]+4264355552&4294967295,V=S+(x<<10&4294967295|x>>>22),x=D+(S^(V|~A))+C[6]+2734768916&4294967295,D=V+(x<<15&4294967295|x>>>17),x=A+(V^(D|~S))+C[13]+1309151649&4294967295,A=D+(x<<21&4294967295|x>>>11),x=S+(D^(A|~V))+C[4]+4149444226&4294967295,S=A+(x<<6&4294967295|x>>>26),x=V+(A^(S|~D))+C[11]+3174756917&4294967295,V=S+(x<<10&4294967295|x>>>22),x=D+(S^(V|~A))+C[2]+718787259&4294967295,D=V+(x<<15&4294967295|x>>>17),x=A+(V^(D|~S))+C[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+V&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var A=S-this.blockSize,C=this.B,D=this.h,V=0;V<S;){if(D==0)for(;V<=A;)a(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<S;)if(C[D++]=N.charCodeAt(V++),D==this.blockSize){a(this,C),D=0;break}}else for(;V<S;)if(C[D++]=N[V++],D==this.blockSize){a(this,C),D=0;break}}this.h=D,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var A=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=A&255,A/=256;for(this.u(N),N=Array(16),S=A=0;4>S;++S)for(var C=0;32>C;C+=8)N[A++]=this.g[S]>>>C&255;return N};function u(N,S){var A=m;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=S(N)}function h(N,S){this.h=S;for(var A=[],C=!0,D=N.length-1;0<=D;D--){var V=N[D]|0;C&&V==S||(A[D]=V,C=!1)}this.g=A}var m={};function y(N){return-128<=N&&128>N?u(N,function(S){return new h([S|0],0>S?-1:0)}):new h([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return P;if(0>N)return W(_(-N));for(var S=[],A=1,C=0;N>=A;C++)S[C]=N/A|0,A*=4294967296;return new h(S,0)}function I(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return W(I(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(S,8)),C=P,D=0;D<N.length;D+=8){var V=Math.min(8,N.length-D),x=parseInt(N.substring(D,D+V),S);8>V?(V=_(Math.pow(S,V)),C=C.j(V).add(_(x))):(C=C.j(A),C=C.add(_(x)))}return C}var P=y(0),j=y(1),z=y(16777216);i=h.prototype,i.m=function(){if(J(this))return-W(this).m();for(var N=0,S=1,A=0;A<this.g.length;A++){var C=this.i(A);N+=(0<=C?C:4294967296+C)*S,S*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Y(this))return"0";if(J(this))return"-"+W(this).toString(N);for(var S=_(Math.pow(N,6)),A=this,C="";;){var D=ye(A,S).g;A=we(A,D.j(S));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=D,Y(A))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Y(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function J(N){return N.h==-1}i.l=function(N){return N=we(this,N),J(N)?-1:Y(N)?0:1};function W(N){for(var S=N.g.length,A=[],C=0;C<S;C++)A[C]=~N.g[C];return new h(A,~N.h).add(j)}i.abs=function(){return J(this)?W(this):this},i.add=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],C=0,D=0;D<=S;D++){var V=C+(this.i(D)&65535)+(N.i(D)&65535),x=(V>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);C=x>>>16,V&=65535,x&=65535,A[D]=x<<16|V}return new h(A,A[A.length-1]&-2147483648?-1:0)};function we(N,S){return N.add(W(S))}i.j=function(N){if(Y(this)||Y(N))return P;if(J(this))return J(N)?W(this).j(W(N)):W(W(this).j(N));if(J(N))return W(this.j(W(N)));if(0>this.l(z)&&0>N.l(z))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,A=[],C=0;C<2*S;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<N.g.length;D++){var V=this.i(C)>>>16,x=this.i(C)&65535,tt=N.i(D)>>>16,Rt=N.i(D)&65535;A[2*C+2*D]+=x*Rt,me(A,2*C+2*D),A[2*C+2*D+1]+=V*Rt,me(A,2*C+2*D+1),A[2*C+2*D+1]+=x*tt,me(A,2*C+2*D+1),A[2*C+2*D+2]+=V*tt,me(A,2*C+2*D+2)}for(C=0;C<S;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=S;C<2*S;C++)A[C]=0;return new h(A,0)};function me(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function _e(N,S){this.g=N,this.h=S}function ye(N,S){if(Y(S))throw Error("division by zero");if(Y(N))return new _e(P,P);if(J(N))return S=ye(W(N),S),new _e(W(S.g),W(S.h));if(J(S))return S=ye(N,W(S)),new _e(W(S.g),S.h);if(30<N.g.length){if(J(N)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var A=j,C=S;0>=C.l(N);)A=Ge(A),C=Ge(C);var D=Se(A,1),V=Se(C,1);for(C=Se(C,2),A=Se(A,2);!Y(C);){var x=V.add(C);0>=x.l(N)&&(D=D.add(A),V=x),C=Se(C,1),A=Se(A,1)}return S=we(N,D.j(S)),new _e(D,S)}for(D=P;0<=N.l(S);){for(A=Math.max(1,Math.floor(N.m()/S.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=_(A),x=V.j(S);J(x)||0<x.l(N);)A-=C,V=_(A),x=V.j(S);Y(V)&&(V=j),D=D.add(V),N=we(N,x)}return new _e(D,N)}i.A=function(N){return ye(this,N).h},i.and=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],C=0;C<S;C++)A[C]=this.i(C)&N.i(C);return new h(A,this.h&N.h)},i.or=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],C=0;C<S;C++)A[C]=this.i(C)|N.i(C);return new h(A,this.h|N.h)},i.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],C=0;C<S;C++)A[C]=this.i(C)^N.i(C);return new h(A,this.h^N.h)};function Ge(N){for(var S=N.g.length+1,A=[],C=0;C<S;C++)A[C]=N.i(C)<<1|N.i(C-1)>>>31;return new h(A,N.h)}function Se(N,S){var A=S>>5;S%=32;for(var C=N.g.length-A,D=[],V=0;V<C;V++)D[V]=0<S?N.i(V+A)>>>S|N.i(V+A+1)<<32-S:N.i(V+A);return new h(D,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ey=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=I,zi=h}).apply(typeof Vm<"u"?Vm:typeof self<"u"?self:typeof window<"u"?window:{});var Jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Iy,aa,Ty,ou,Mh,Sy,xy,Ay;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jl=="object"&&Jl];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=t(this);function a(l,f){if(f)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var O=l[E];if(!(O in g))break e;g=g[O]}l=l[l.length-1],E=g[l],f=f(E),f!=E&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function u(l,f){l instanceof String&&(l+="");var g=0,E=!1,O={next:function(){if(!E&&g<l.length){var U=g++;return{value:f(U,l[U]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return u(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function y(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function _(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function I(l,f,g){return l.call.apply(l.bind,arguments)}function P(l,f,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),l.apply(f,O)}}return function(){return l.apply(f,arguments)}}function j(l,f,g){return j=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:P,j.apply(null,arguments)}function z(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function Y(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,O,U){for(var X=Array(arguments.length-2),je=2;je<arguments.length;je++)X[je-2]=arguments[je];return f.prototype[O].apply(E,X)}}function J(l){const f=l.length;if(0<f){const g=Array(f);for(let E=0;E<f;E++)g[E]=l[E];return g}return[]}function W(l,f){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(y(E)){const O=l.length||0,U=E.length||0;l.length=O+U;for(let X=0;X<U;X++)l[O+X]=E[X]}else l.push(E)}}class we{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function me(l){return/^[\s\xa0]*$/.test(l)}function _e(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function ye(l){return ye[" "](l),l}ye[" "]=function(){};var Ge=_e().indexOf("Gecko")!=-1&&!(_e().toLowerCase().indexOf("webkit")!=-1&&_e().indexOf("Edge")==-1)&&!(_e().indexOf("Trident")!=-1||_e().indexOf("MSIE")!=-1)&&_e().indexOf("Edge")==-1;function Se(l,f,g){for(const E in l)f.call(g,l[E],E,l)}function N(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function S(l){const f={};for(const g in l)f[g]=l[g];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,f){let g,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(g in E)l[g]=E[g];for(let U=0;U<A.length;U++)g=A[U],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function D(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function V(l){m.setTimeout(()=>{throw l},0)}function x(){var l=ue;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class tt{constructor(){this.h=this.g=null}add(f,g){const E=Rt.get();E.set(f,g),this.h?this.h.next=E:this.g=E,this.h=E}}var Rt=new we(()=>new Pt,l=>l.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,Z=!1,ue=new tt,te=()=>{const l=m.Promise.resolve(void 0);Fe=()=>{l.then(b)}};var b=()=>{for(var l;l=x();){try{l.h.call(l.g)}catch(g){V(g)}var f=Rt;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}Z=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,f),m.removeEventListener("test",g,f)}catch{}return l}();function Ie(l,f){if(le.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Ge){e:{try{ye(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ke[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ie.aa.h.call(this)}}Y(Ie,le);var ke={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Be(l,f,g,E,O){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!E,this.ha=O,this.key=++Oe,this.da=this.fa=!1}function mt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Jn(l){this.src=l,this.g={},this.h=0}Jn.prototype.add=function(l,f,g,E,O){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var X=Ar(l,f,E,O);return-1<X?(f=l[X],g||(f.fa=!1)):(f=new Be(f,this.src,U,!!E,O),f.fa=g,l.push(f)),f};function Gi(l,f){var g=f.type;if(g in l.g){var E=l.g[g],O=Array.prototype.indexOf.call(E,f,void 0),U;(U=0<=O)&&Array.prototype.splice.call(E,O,1),U&&(mt(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Ar(l,f,g,E){for(var O=0;O<l.length;++O){var U=l[O];if(!U.da&&U.listener==f&&U.capture==!!g&&U.ha==E)return O}return-1}var hi="closure_lm_"+(1e6*Math.random()|0),Qi={};function co(l,f,g,E,O){if(Array.isArray(f)){for(var U=0;U<f.length;U++)co(l,f[U],g,E,O);return null}return g=po(g),l&&l[Ve]?l.K(f,g,_(E)?!!E.capture:!1,O):ho(l,f,g,!1,E,O)}function ho(l,f,g,E,O,U){if(!f)throw Error("Invalid event type");var X=_(O)?!!O.capture:!!O,je=Xi(l);if(je||(l[hi]=je=new Jn(l)),g=je.add(f,g,E,X,U),g.proxy)return g;if(E=Oa(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)Ee||(O=X),O===void 0&&(O=!1),l.addEventListener(f.toString(),E,O);else if(l.attachEvent)l.attachEvent(er(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Oa(){function l(g){return f.call(l.src,l.listener,g)}const f=fo;return l}function Yi(l,f,g,E,O){if(Array.isArray(f))for(var U=0;U<f.length;U++)Yi(l,f[U],g,E,O);else E=_(E)?!!E.capture:!!E,g=po(g),l&&l[Ve]?(l=l.i,f=String(f).toString(),f in l.g&&(U=l.g[f],g=Ar(U,g,E,O),-1<g&&(mt(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete l.g[f],l.h--)))):l&&(l=Xi(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Ar(f,g,E,O)),(g=-1<l?f[l]:null)&&Zn(g))}function Zn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ve])Gi(f.i,l);else{var g=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(g,E,l.capture):f.detachEvent?f.detachEvent(er(g),E):f.addListener&&f.removeListener&&f.removeListener(E),(g=Xi(f))?(Gi(g,l),g.h==0&&(g.src=null,f[hi]=null)):mt(l)}}}function er(l){return l in Qi?Qi[l]:Qi[l]="on"+l}function fo(l,f){if(l.da)l=!0;else{f=new Ie(f,this);var g=l.listener,E=l.ha||l.src;l.fa&&Zn(l),l=g.call(E,f)}return l}function Xi(l){return l=l[hi],l instanceof Jn?l:null}var Ji="__closure_events_fn_"+(1e9*Math.random()>>>0);function po(l){return typeof l=="function"?l:(l[Ji]||(l[Ji]=function(f){return l.handleEvent(f)}),l[Ji])}function ct(){B.call(this),this.i=new Jn(this),this.M=this,this.F=null}Y(ct,B),ct.prototype[Ve]=!0,ct.prototype.removeEventListener=function(l,f,g,E){Yi(this,l,f,g,E)};function ht(l,f){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new le(f,l);else if(f instanceof le)f.target=f.target||l;else{var O=f;f=new le(E,l),C(f,O)}if(O=!0,g)for(var U=g.length-1;0<=U;U--){var X=f.g=g[U];O=tr(X,E,!0,f)&&O}if(X=f.g=l,O=tr(X,E,!0,f)&&O,O=tr(X,E,!1,f)&&O,g)for(U=0;U<g.length;U++)X=f.g=g[U],O=tr(X,E,!1,f)&&O}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],E=0;E<g.length;E++)mt(g[E]);delete l.g[f],l.h--}}this.F=null},ct.prototype.K=function(l,f,g,E){return this.i.add(String(l),f,!1,g,E)},ct.prototype.L=function(l,f,g,E){return this.i.add(String(l),f,!0,g,E)};function tr(l,f,g,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,U=0;U<f.length;++U){var X=f[U];if(X&&!X.da&&X.capture==g){var je=X.listener,dt=X.ha||X.src;X.fa&&Gi(l.i,X),O=je.call(dt,E)!==!1&&O}}return O&&!E.defaultPrevented}function mo(l,f,g){if(typeof l=="function")g&&(l=j(l,g));else if(l&&typeof l.handleEvent=="function")l=j(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function kr(l){l.g=mo(()=>{l.g=null,l.i&&(l.i=!1,kr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class di extends B{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:kr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(l){B.call(this),this.h=l,this.g={}}Y(fi,B);var go=[];function yo(l){Se(l.g,function(f,g){this.g.hasOwnProperty(g)&&Zn(f)},l),l.g={}}fi.prototype.N=function(){fi.aa.N.call(this),yo(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vo=m.JSON.stringify,_o=m.JSON.parse,wo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function pi(){}pi.prototype.h=null;function Zi(l){return l.h||(l.h=l.i())}function es(){}var ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vn(){le.call(this,"d")}Y(Vn,le);function ts(){le.call(this,"c")}Y(ts,le);var On={},Eo=null;function mi(){return Eo=Eo||new ct}On.La="serverreachability";function Io(l){le.call(this,On.La,l)}Y(Io,le);function nr(l){const f=mi();ht(f,new Io(f))}On.STAT_EVENT="statevent";function To(l,f){le.call(this,On.STAT_EVENT,l),this.stat=f}Y(To,le);function nt(l){const f=mi();ht(f,new To(f,l))}On.Ma="timingevent";function ns(l,f){le.call(this,On.Ma,l),this.size=f}Y(ns,le);function vn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function gi(){this.g=!0}gi.prototype.xa=function(){this.g=!1};function yi(l,f,g,E,O,U){l.info(function(){if(l.g)if(U)for(var X="",je=U.split("&"),dt=0;dt<je.length;dt++){var Ce=je[dt].split("=");if(1<Ce.length){var gt=Ce[0];Ce=Ce[1];var ot=gt.split("_");X=2<=ot.length&&ot[1]=="type"?X+(gt+"="+Ce+"&"):X+(gt+"=redacted&")}}else X=null;else X=U;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+f+`
`+g+`
`+X})}function rs(l,f,g,E,O,U,X){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+f+`
`+g+`
`+U+" "+X})}function _n(l,f,g,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Uu(l,g)+(E?" "+E:"")})}function So(l,f){l.info(function(){return"TIMEOUT: "+f})}gi.prototype.info=function(){};function Uu(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var U=O[0];if(U!="noop"&&U!="stop"&&U!="close")for(var X=1;X<O.length;X++)O[X]=""}}}}return vo(g)}catch{return f}}var is={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},La={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wn;function vi(){}Y(vi,pi),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},wn=new vi;function En(l,f,g,E){this.j=l,this.i=f,this.l=g,this.R=E||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ma}function Ma(){this.i=null,this.g="",this.h=!1}var xo={},ss={};function os(l,f,g){l.L=1,l.v=Dr(Zt(f)),l.m=g,l.P=!0,Ao(l,null)}function Ao(l,f){l.F=Date.now(),$e(l),l.A=Zt(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Vr(g.i,"t",E),l.C=0,g=l.j.J,l.h=new Ma,l.g=tl(l.j,g?f:null,!l.m),0<l.O&&(l.M=new di(j(l.Y,l,l.g),l.O)),f=l.U,g=l.g,E=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(go[0]=O.toString()),O=go);for(var U=0;U<O.length;U++){var X=co(g,O[U],E||f.handleEvent,!1,f.h||f);if(!X)break;f.g[X.key]=X}f=l.H?S(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),nr(),yi(l.i,l.u,l.A,l.l,l.R,l.m)}En.prototype.ca=function(l){l=l.target;const f=this.M;f&&Ht(l)==3?f.j():this.Y(l)},En.prototype.Y=function(l){try{if(l==this.g)e:{const ot=Ht(this.g);var f=this.g.Ba();const hn=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||ot!=4||f==7||(f==8||0>=hn?nr(3):nr(2)),_i(this);var g=this.g.Z();this.X=g;t:if(ja(this)){var E=Do(this.g);l="";var O=E.length,U=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),Cr(this);var X="";break t}this.h.i=new m.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(U&&f==O-1)});E.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,rs(this.i,this.u,this.A,this.l,this.R,ot,g),this.o){if(this.T&&!this.K){t:{if(this.g){var je,dt=this.g;if((je=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!me(je)){var Ce=je;break t}}Ce=null}if(g=Ce)_n(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ko(this,g);else{this.o=!1,this.s=3,nt(12),un(this),Cr(this);break e}}if(this.P){g=!0;let tn;for(;!this.J&&this.C<X.length;)if(tn=zu(this,X),tn==ss){ot==4&&(this.s=4,nt(14),g=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==xo){this.s=4,nt(15),_n(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else _n(this.i,this.l,tn,null),ko(this,tn);if(ja(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||X.length!=0||this.h.h||(this.s=1,nt(16),g=!1),this.o=this.o&&g,!g)_n(this.i,this.l,X,"[Invalid Chunked Response]"),un(this),Cr(this);else if(0<X.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Vo(gt),gt.M=!0,nt(11))}}else _n(this.i,this.l,X,null),ko(this,X);ot==4&&un(this),this.o&&!this.J&&(ot==4?ys(this.j,this):(this.o=!1,$e(this)))}else ds(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),un(this),Cr(this)}}}catch{}finally{}};function ja(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function zu(l,f){var g=l.C,E=f.indexOf(`
`,g);return E==-1?ss:(g=Number(f.substring(g,E)),isNaN(g)?xo:(E+=1,E+g>f.length?ss:(f=f.slice(E,E+g),l.C=E+g,f)))}En.prototype.cancel=function(){this.J=!0,un(this)};function $e(l){l.S=Date.now()+l.I,Fa(l,l.I)}function Fa(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=vn(j(l.ba,l),f)}function _i(l){l.B&&(m.clearTimeout(l.B),l.B=null)}En.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(So(this.i,this.A),this.L!=2&&(nr(),nt(17)),un(this),this.s=2,Cr(this)):Fa(this,this.S-l)};function Cr(l){l.j.G==0||l.J||ys(l.j,l)}function un(l){_i(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,yo(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function ko(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Ut(g.h,l))){if(!l.K&&Ut(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)gs(g),An(g);else break e;ms(g),nt(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=vn(j(g.Za,g),6e3));if(1>=za(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ar(g,11)}else if((l.K||g.g==l)&&gs(g),!me(f))for(O=g.Da.g.parse(f),f=0;f<O.length;f++){let Ce=O[f];if(g.T=Ce[0],Ce=Ce[1],g.G==2)if(Ce[0]=="c"){g.K=Ce[1],g.ia=Ce[2];const gt=Ce[3];gt!=null&&(g.la=gt,g.j.info("VER="+g.la));const ot=Ce[4];ot!=null&&(g.Aa=ot,g.j.info("SVER="+g.Aa));const hn=Ce[5];hn!=null&&typeof hn=="number"&&0<hn&&(E=1.5*hn,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const tn=l.g;if(tn){const Ai=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var U=E.h;U.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Co(U,U.h),U.h=null))}if(E.D){const _s=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;_s&&(E.ya=_s,Ue(E.I,E.D,_s))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var X=l;if(E.qa=el(E,E.J?E.ia:null,E.W),X.K){Ba(E.h,X);var je=X,dt=E.L;dt&&(je.I=dt),je.B&&(_i(je),$e(je)),E.g=X}else xi(E);0<g.i.length&&Fn(g)}else Ce[0]!="stop"&&Ce[0]!="close"||ar(g,7);else g.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?ar(g,7):Tt(g):Ce[0]!="noop"&&g.l&&g.l.ta(Ce),g.v=0)}}nr(4)}catch{}}var Ua=class{constructor(l,f){this.g=l,this.map=f}};function wi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function za(l){return l.h?1:l.g?l.g.size:0}function Ut(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Co(l,f){l.g?l.g.add(f):l.h=f}function Ba(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}wi.prototype.cancel=function(){if(this.i=$a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function $a(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return J(l.i)}function as(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var f=[],g=l.length,E=0;E<g;E++)f.push(l[E]);return f}f=[],g=0;for(E in l)f[g++]=l[E];return f}function ls(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const E in l)f[g++]=E;return f}}}function Rr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=ls(l),E=as(l),O=E.length,U=0;U<O;U++)f.call(void 0,E[U],g&&g[U],l)}var Ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bu(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),O=null;if(0<=E){var U=l[g].substring(0,E);O=l[g].substring(E+1)}else U=l[g];f(U,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function rr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof rr){this.h=l.h,Ii(this,l.j),this.o=l.o,this.g=l.g,Pr(this,l.s),this.l=l.l;var f=l.i,g=new Ln;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Nr(this,g),this.m=l.m}else l&&(f=String(l).match(Ei))?(this.h=!1,Ii(this,f[1]||"",!0),this.o=xe(f[2]||""),this.g=xe(f[3]||"",!0),Pr(this,f[4]),this.l=xe(f[5]||"",!0),Nr(this,f[6]||"",!0),this.m=xe(f[7]||"")):(this.h=!1,this.i=new Ln(null,this.h))}rr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(br(f,us,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(br(f,us,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(br(g,g.charAt(0)=="/"?Wa:Ha,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",br(g,Ro)),l.join("")};function Zt(l){return new rr(l)}function Ii(l,f,g){l.j=g?xe(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Pr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Nr(l,f,g){f instanceof Ln?(l.i=f,Mn(l.i,l.h)):(g||(f=br(f,Ka)),l.i=new Ln(f,l.h))}function Ue(l,f,g){l.i.set(f,g)}function Dr(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function xe(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function br(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,qa),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function qa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var us=/[#\/\?@]/g,Ha=/[#\?:]/g,Wa=/[#\?]/g,Ka=/[#\?@]/g,Ro=/#/g;function Ln(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function It(l){l.g||(l.g=new Map,l.h=0,l.i&&Bu(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}i=Ln.prototype,i.add=function(l,f){It(this),this.i=null,l=cn(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function In(l,f){It(l),f=cn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Tn(l,f){return It(l),f=cn(l,f),l.g.has(f)}i.forEach=function(l,f){It(this),this.g.forEach(function(g,E){g.forEach(function(O){l.call(f,O,E,this)},this)},this)},i.na=function(){It(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let E=0;E<f.length;E++){const O=l[E];for(let U=0;U<O.length;U++)g.push(f[E])}return g},i.V=function(l){It(this);let f=[];if(typeof l=="string")Tn(this,l)&&(f=f.concat(this.g.get(cn(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},i.set=function(l,f){return It(this),this.i=null,l=cn(this,l),Tn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Vr(l,f,g){In(l,f),0<g.length&&(l.i=null,l.g.set(cn(l,f),J(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var E=f[g];const U=encodeURIComponent(String(E)),X=this.V(E);for(E=0;E<X.length;E++){var O=U;X[E]!==""&&(O+="="+encodeURIComponent(String(X[E]))),l.push(O)}}return this.i=l.join("&")};function cn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Mn(l,f){f&&!l.j&&(It(l),l.i=null,l.g.forEach(function(g,E){var O=E.toLowerCase();E!=O&&(In(this,E),Vr(this,O,g))},l)),l.j=f}function $u(l,f){const g=new gi;if(m.Image){const E=new Image;E.onload=z(qt,g,"TestLoadImage: loaded",!0,f,E),E.onerror=z(qt,g,"TestLoadImage: error",!1,f,E),E.onabort=z(qt,g,"TestLoadImage: abort",!1,f,E),E.ontimeout=z(qt,g,"TestLoadImage: timeout",!1,f,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function Ga(l,f){const g=new gi,E=new AbortController,O=setTimeout(()=>{E.abort(),qt(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(U=>{clearTimeout(O),U.ok?qt(g,"TestPingServer: ok",!0,f):qt(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),qt(g,"TestPingServer: error",!1,f)})}function qt(l,f,g,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(g)}catch{}}function qu(){this.g=new wo}function Qa(l,f,g){const E=g||"";try{Rr(l,function(O,U){let X=O;_(O)&&(X=vo(O)),f.push(E+U+"="+encodeURIComponent(X))})}catch(O){throw f.push(E+"type="+encodeURIComponent("_badmap")),O}}function ir(l){this.l=l.Ub||null,this.j=l.eb||!1}Y(ir,pi),ir.prototype.g=function(){return new Ti(this.l,this.j)},ir.prototype.i=function(l){return function(){return l}}({});function Ti(l,f){ct.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(Ti,ct),i=Ti.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,xn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,xn(this)),this.g&&(this.readyState=3,xn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ya(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ya(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Sn(this):xn(this),this.readyState==3&&Ya(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,xn(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function xn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function sr(l){let f="";return Se(l,function(g,E){f+=E,f+=":",f+=g,f+=`\r
`}),f}function Or(l,f,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=sr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ue(l,f,g))}function Qe(l){ct.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Qe,ct);var Hu=/^https?$/i,Po=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wn.g(),this.v=this.o?Zi(this.o):Zi(wn),this.g.onreadystatechange=j(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){Si(this,U);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)g.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const U of E.keys())g.set(U,E.get(U));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),O=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Po,f,void 0))||E||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,X]of g)this.g.setRequestHeader(U,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){Si(this,U)}};function Si(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,cs(l),en(l)}function cs(l){l.A||(l.A=!0,ht(l,"complete"),ht(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ht(this,"complete"),ht(this,"abort"),en(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),en(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?No(this):this.bb())},i.bb=function(){No(this)};function No(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Ht(l)!=4||l.Z()!=2)){if(l.u&&Ht(l)==4)mo(l.Ea,0,l);else if(ht(l,"readystatechange"),Ht(l)==4){l.h=!1;try{const X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var E;if(E=X===0){var O=String(l.D).match(Ei)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),E=!Hu.test(O?O.toLowerCase():"")}g=E}if(g)ht(l,"complete"),ht(l,"success");else{l.m=6;try{var U=2<Ht(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",cs(l)}}finally{en(l)}}}}function en(l,f){if(l.g){hs(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ht(l,"ready");try{g.onreadystatechange=E}catch{}}}function hs(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Ht(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),_o(f)}};function Do(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(l){const f={};l=(l.g&&2<=Ht(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(me(l[E]))continue;var g=D(l[E]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=f[O]||[];f[O]=U,U.push(g)}N(f,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jn(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function bo(l){this.Aa=0,this.i=[],this.j=new gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jn("baseRetryDelayMs",5e3,l),this.cb=jn("retryDelaySeedMs",1e4,l),this.Wa=jn("forwardChannelMaxRetries",2,l),this.wa=jn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(l&&l.concurrentRequestLimit),this.Da=new qu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=bo.prototype,i.la=8,i.G=1,i.connect=function(l,f,g,E){nt(0),this.W=l,this.H=f||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=el(this,null,this.W),Fn(this)};function Tt(l){if(fs(l),l.G==3){var f=l.U++,g=Zt(l.I);if(Ue(g,"SID",l.K),Ue(g,"RID",f),Ue(g,"TYPE","terminate"),or(l,g),f=new En(l,l.j,f),f.L=2,f.v=Dr(Zt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=f.v,g=!0),g||(f.g=tl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),$e(f)}Za(l)}function An(l){l.g&&(Vo(l),l.g.cancel(),l.g=null)}function fs(l){An(l),l.u&&(m.clearTimeout(l.u),l.u=null),gs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Fn(l){if(!Jt(l.h)&&!l.s){l.s=!0;var f=l.Ga;Fe||te(),Z||(Fe(),Z=!0),ue.add(f,l),l.B=0}}function Wu(l,f){return za(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=vn(j(l.Ga,l,f),Ja(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new En(this,this.j,l);let U=this.o;if(this.S&&(U?(U=S(U),C(U,this.S)):U=this.S),this.m!==null||this.O||(O.H=U,U=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Lr(this,O,f),g=Zt(this.I),Ue(g,"RID",l),Ue(g,"CVER",22),this.D&&Ue(g,"X-HTTP-Session-Id",this.D),or(this,g),U&&(this.O?f="headers="+encodeURIComponent(String(sr(U)))+"&"+f:this.m&&Or(g,this.m,U)),Co(this.h,O),this.Ua&&Ue(g,"TYPE","init"),this.P?(Ue(g,"$req",f),Ue(g,"SID","null"),O.T=!0,os(O,g,null)):os(O,g,f),this.G=2}}else this.G==3&&(l?ps(this,l):this.i.length==0||Jt(this.h)||ps(this))};function ps(l,f){var g;f?g=f.l:g=l.U++;const E=Zt(l.I);Ue(E,"SID",l.K),Ue(E,"RID",g),Ue(E,"AID",l.T),or(l,E),l.m&&l.o&&Or(E,l.m,l.o),g=new En(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Lr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Co(l.h,g),os(g,E,f)}function or(l,f){l.H&&Se(l.H,function(g,E){Ue(f,E,g)}),l.l&&Rr({},function(g,E){Ue(f,E,g)})}function Lr(l,f,g){g=Math.min(l.i.length,g);var E=l.l?j(l.l.Na,l.l,l):null;e:{var O=l.i;let U=-1;for(;;){const X=["count="+g];U==-1?0<g?(U=O[0].g,X.push("ofs="+U)):U=0:X.push("ofs="+U);let je=!0;for(let dt=0;dt<g;dt++){let Ce=O[dt].g;const gt=O[dt].map;if(Ce-=U,0>Ce)U=Math.max(0,O[dt].g-100),je=!1;else try{Qa(gt,X,"req"+Ce+"_")}catch{E&&E(gt)}}if(je){E=X.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,E}function xi(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Fe||te(),Z||(Fe(),Z=!0),ue.add(f,l),l.v=0}}function ms(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=vn(j(l.Fa,l),Ja(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Xa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=vn(j(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),An(this),Xa(this))};function Vo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Xa(l){l.g=new En(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Zt(l.qa);Ue(f,"RID","rpc"),Ue(f,"SID",l.K),Ue(f,"AID",l.T),Ue(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(f,"TO",l.ja),Ue(f,"TYPE","xmlhttp"),or(l,f),l.m&&l.o&&Or(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Dr(Zt(f)),g.m=null,g.P=!0,Ao(g,l)}i.Za=function(){this.C!=null&&(this.C=null,An(this),ms(this),nt(19))};function gs(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ys(l,f){var g=null;if(l.g==f){gs(l),Vo(l),l.g=null;var E=2}else if(Ut(l.h,f))g=f.D,Ba(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var O=l.B;E=mi(),ht(E,new ns(E,g)),Fn(l)}else xi(l);else if(O=f.s,O==3||O==0&&0<f.X||!(E==1&&Wu(l,f)||E==2&&ms(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),O){case 1:ar(l,5);break;case 4:ar(l,10);break;case 3:ar(l,6);break;default:ar(l,2)}}}function Ja(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function ar(l,f){if(l.j.info("Error code "+f),f==2){var g=j(l.fb,l),E=l.Xa;const O=!E;E=new rr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ii(E,"https"),Dr(E),O?$u(E.toString(),g):Ga(E.toString(),g)}else nt(2);l.G=0,l.l&&l.l.sa(f),Za(l),fs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Za(l){if(l.G=0,l.ka=[],l.l){const f=$a(l.h);(f.length!=0||l.i.length!=0)&&(W(l.ka,f),W(l.ka,l.i),l.h.i.length=0,J(l.i),l.i.length=0),l.l.ra()}}function el(l,f,g){var E=g instanceof rr?Zt(g):new rr(g);if(E.g!="")f&&(E.g=f+"."+E.g),Pr(E,E.s);else{var O=m.location;E=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var U=new rr(null);E&&Ii(U,E),f&&(U.g=f),O&&Pr(U,O),g&&(U.l=g),E=U}return g=l.D,f=l.ya,g&&f&&Ue(E,g,f),Ue(E,"VER",l.la),or(l,E),E}function tl(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Qe(new ir({eb:g})):new Qe(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oo(){}i=Oo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function vs(){}vs.prototype.g=function(l,f){return new zt(l,f)};function zt(l,f){ct.call(this),this.g=new bo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!me(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!me(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Un(this)}Y(zt,ct),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){Tt(this.g)},zt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=vo(l),l=g);f.i.push(new Ua(f.Ya++,l)),f.G==3&&Fn(f)},zt.prototype.N=function(){this.g.l=null,delete this.j,Tt(this.g),delete this.g,zt.aa.N.call(this)};function nl(l){Vn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}Y(nl,Vn);function rl(){ts.call(this),this.status=1}Y(rl,ts);function Un(l){this.g=l}Y(Un,Oo),Un.prototype.ua=function(){ht(this.g,"a")},Un.prototype.ta=function(l){ht(this.g,new nl(l))},Un.prototype.sa=function(l){ht(this.g,new rl)},Un.prototype.ra=function(){ht(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,Ay=function(){return new vs},xy=function(){return mi()},Sy=On,Mh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,ou=is,La.COMPLETE="complete",Ty=La,es.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",ct.prototype.listen=ct.prototype.K,aa=es,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,Iy=Qe}).apply(typeof Jl<"u"?Jl:typeof self<"u"?self:typeof window<"u"?window:{});const Om="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new nd("@firebase/firestore");function oa(){return Hi.logLevel}function se(i,...e){if(Hi.logLevel<=Ae.DEBUG){const t=e.map(pd);Hi.debug(`Firestore (${oo}): ${i}`,...t)}}function Sr(i,...e){if(Hi.logLevel<=Ae.ERROR){const t=e.map(pd);Hi.error(`Firestore (${oo}): ${i}`,...t)}}function Xs(i,...e){if(Hi.logLevel<=Ae.WARN){const t=e.map(pd);Hi.warn(`Firestore (${oo}): ${i}`,...t)}}function pd(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+i;throw Sr(e),new Error(e)}function et(i,e){i||ve()}function Pe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lt.UNAUTHENTICATED))}shutdown(){}}class PI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class NI{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,t(y)):Promise.resolve();let u=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ks,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const y=u;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ks)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string"),new ky(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new Lt(e)}}class DI{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bI{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new DI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){et(this.o===void 0);const s=u=>{u.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,se("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string"),this.R=t.token,new VI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=LI(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<t&&(s+=e.charAt(a[u]%e.length))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function Js(i,e,t){return i.length===e.length&&i.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new oe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Et(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new Et(0,0))}static max(){return new ge(new Et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,s){t===void 0?t=0:t>e.length&&ve(),s===void 0?s=e.length-t:s>e.length-t&&ve(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return va.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof va?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const u=e.get(a),h=t.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ke extends va{construct(e,t,s){return new Ke(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Ke(t)}static emptyPath(){return new Ke([])}}const MI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends va{construct(e,t,s){return new jt(e,t,s)}static isValidIdentifier(e){return MI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const u=()=>{if(s.length===0)throw new oe(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new oe(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new oe(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(u(),a++)}if(u(),h)throw new oe(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Ke.fromString(e))}static fromName(e){return new ce(Ke.fromString(e).popFirst(5))}static empty(){return new ce(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Ke(e.slice()))}}function jI(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=ge.fromTimestamp(s===1e9?new Et(t+1,0):new Et(t,s));return new li(a,ce.empty(),e)}function FI(i){return new li(i.readTime,i.key,-1)}class li{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new li(ge.min(),ce.empty(),-1)}static max(){return new li(ge.max(),ce.empty(),-1)}}function UI(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(i.documentKey,e.documentKey),t!==0?t:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(i){if(i.code!==Q.FAILED_PRECONDITION||i.message!==zI)throw i;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):H.reject(t)}static resolve(e){return new H((t,s)=>{t(e)})}static reject(e){return new H((t,s)=>{s(e)})}static waitFor(e){return new H((t,s)=>{let a=0,u=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++u,h&&u===a&&t()},y=>s(y))}),h=!0,u===a&&t()})}static or(e){let t=H.resolve(!1);for(const s of e)t=t.next(a=>a?H.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,u)=>{s.push(t.call(this,a,u))}),this.waitFor(s)}static mapArray(e,t){return new H((s,a)=>{const u=e.length,h=new Array(u);let m=0;for(let y=0;y<u;y++){const _=y;t(e[_]).next(I=>{h[_]=I,++m,m===u&&s(h)},I=>a(I))}})}static doWhile(e,t){return new H((s,a)=>{const u=()=>{e()===!0?t().next(()=>{u()},a):s()};u()})}}function $I(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ra(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gd.oe=-1;function Pu(i){return i==null}function _u(i){return i===0&&1/i==-1/0}function qI(i){return typeof i=="number"&&Number.isInteger(i)&&!_u(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Pa(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ry(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||At.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zl(this.root,e,this.comparator,!0)}}class Zl{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,t,s,a,u){this.key=e,this.value=t,this.color=s??At.RED,this.left=a??At.EMPTY,this.right=u??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,u){return new At(e??this.key,t??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,s),null):u===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,t,s,a,u){return this}insert(e,t,s){return new At(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mm(this.data.getIterator())}getIteratorFrom(e){return new Mm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class Mm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new ni([])}unionWith(e){let t=new kt(jt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ni(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Py("Invalid base64 string: "+u):u}}(e);return new Ct(t)}static fromUint8Array(e){const t=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new Ct(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const HI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(i){if(et(!!i),typeof i=="string"){let e=0;const t=HI.exec(i);if(et(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Wi(i){return typeof i=="string"?Ct.fromBase64String(i):Ct.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function vd(i){const e=i.mapValue.fields.__previous_value__;return yd(e)?vd(e):e}function _a(i){const e=ui(i.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t,s,a,u,h,m,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_}}class wa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu={mapValue:{}};function Ki(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?yd(i)?4:GI(i)?9007199254740991:KI(i)?10:11:ve()}function Xn(i,e){if(i===e)return!0;const t=Ki(i);if(t!==Ki(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _a(i).isEqual(_a(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=ui(a.timestampValue),m=ui(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,u){return Wi(a.bytesValue).isEqual(Wi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,u){return it(a.geoPointValue.latitude)===it(u.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(u.geoPointValue.longitude)}(i,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return it(a.integerValue)===it(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=it(a.doubleValue),m=it(u.doubleValue);return h===m?_u(h)===_u(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Js(i.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},m=u.mapValue.fields||{};if(Lm(h)!==Lm(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!Xn(h[y],m[y])))return!1;return!0}(i,e);default:return ve()}}function Ea(i,e){return(i.values||[]).find(t=>Xn(t,e))!==void 0}function Zs(i,e){if(i===e)return 0;const t=Ki(i),s=Ki(e);if(t!==s)return Me(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=it(u.integerValue||u.doubleValue),y=it(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return jm(i.timestampValue,e.timestampValue);case 4:return jm(_a(i),_a(e));case 5:return Me(i.stringValue,e.stringValue);case 6:return function(u,h){const m=Wi(u),y=Wi(h);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),y=h.split("/");for(let _=0;_<m.length&&_<y.length;_++){const I=Me(m[_],y[_]);if(I!==0)return I}return Me(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Me(it(u.latitude),it(h.latitude));return m!==0?m:Me(it(u.longitude),it(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Fm(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,y,_,I;const P=u.fields||{},j=h.fields||{},z=(m=P.value)===null||m===void 0?void 0:m.arrayValue,Y=(y=j.value)===null||y===void 0?void 0:y.arrayValue,J=Me(((_=z?.values)===null||_===void 0?void 0:_.length)||0,((I=Y?.values)===null||I===void 0?void 0:I.length)||0);return J!==0?J:Fm(z,Y)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===eu.mapValue&&h===eu.mapValue)return 0;if(u===eu.mapValue)return 1;if(h===eu.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),_=h.fields||{},I=Object.keys(_);y.sort(),I.sort();for(let P=0;P<y.length&&P<I.length;++P){const j=Me(y[P],I[P]);if(j!==0)return j;const z=Zs(m[y[P]],_[I[P]]);if(z!==0)return z}return Me(y.length,I.length)}(i.mapValue,e.mapValue);default:throw ve()}}function jm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const t=ui(i),s=ui(e),a=Me(t.seconds,s.seconds);return a!==0?a:Me(t.nanos,s.nanos)}function Fm(i,e){const t=i.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const u=Zs(t[a],s[a]);if(u)return u}return Me(t.length,s.length)}function eo(i){return jh(i)}function jh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ui(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Wi(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ce.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",a=!0;for(const u of t.values||[])a?a=!1:s+=",",s+=jh(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${jh(t.fields[h])}`;return a+"}"}(i.mapValue):ve()}function Um(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Fh(i){return!!i&&"integerValue"in i}function _d(i){return!!i&&"arrayValue"in i}function zm(i){return!!i&&"nullValue"in i}function Bm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sh(i){return!!i&&"mapValue"in i}function KI(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function da(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Pa(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=da(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=da(i.arrayValue.values[t]);return e}return Object.assign({},i)}function GI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Sh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=da(t)}setAll(e){let t=jt.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,s,a),s={},a=[],t=m.popLast()}h?s[m.lastSegment()]=da(h):a.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,a)}delete(e){const t=this.field(e.popLast());Sh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Sh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Pa(t,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new Wn(da(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,t,s,a,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Mt(e,0,ge.min(),ge.min(),ge.min(),Wn.empty(),0)}static newFoundDocument(e,t,s,a){return new Mt(e,1,t,ge.min(),s,a,0)}static newNoDocument(e,t){return new Mt(e,2,t,ge.min(),ge.min(),Wn.empty(),0)}static newUnknownDocument(e,t){return new Mt(e,3,t,ge.min(),ge.min(),Wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t){this.position=e,this.inclusive=t}}function $m(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=ce.comparator(ce.fromName(h.referenceValue),t.key):s=Zs(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function qm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Xn(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t="asc"){this.field=e,this.dir=t}}function QI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{}class ut extends Ny{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new XI(e,t,s):t==="array-contains"?new eT(e,s):t==="in"?new tT(e,s):t==="not-in"?new nT(e,s):t==="array-contains-any"?new rT(e,s):new ut(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new JI(e,s):new ZI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Zs(t,this.value)):t!==null&&Ki(this.value)===Ki(t)&&this.matchesComparison(Zs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends Ny{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new bn(e,t)}matches(e){return Dy(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Dy(i){return i.op==="and"}function by(i){return YI(i)&&Dy(i)}function YI(i){for(const e of i.filters)if(e instanceof bn)return!1;return!0}function Uh(i){if(i instanceof ut)return i.field.canonicalString()+i.op.toString()+eo(i.value);if(by(i))return i.filters.map(e=>Uh(e)).join(",");{const e=i.filters.map(t=>Uh(t)).join(",");return`${i.op}(${e})`}}function Vy(i,e){return i instanceof ut?function(s,a){return a instanceof ut&&s.op===a.op&&s.field.isEqual(a.field)&&Xn(s.value,a.value)}(i,e):i instanceof bn?function(s,a){return a instanceof bn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,h,m)=>u&&Vy(h,a.filters[m]),!0):!1}(i,e):void ve()}function Oy(i){return i instanceof ut?function(t){return`${t.field.canonicalString()} ${t.op} ${eo(t.value)}`}(i):i instanceof bn?function(t){return t.op.toString()+" {"+t.getFilters().map(Oy).join(" ,")+"}"}(i):"Filter"}class XI extends ut{constructor(e,t,s){super(e,t,s),this.key=ce.fromName(s.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class JI extends ut{constructor(e,t){super(e,"in",t),this.keys=Ly("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ZI extends ut{constructor(e,t){super(e,"not-in",t),this.keys=Ly("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ly(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ce.fromName(s.referenceValue))}class eT extends ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _d(t)&&Ea(t.arrayValue,this.value)}}class tT extends ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ea(this.value.arrayValue,t)}}class nT extends ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ea(this.value.arrayValue,t)}}class rT extends ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_d(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ea(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,t=null,s=[],a=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function Hm(i,e=null,t=[],s=[],a=null,u=null,h=null){return new iT(i,e,t,s,a,u,h)}function wd(i){const e=Pe(i);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Uh(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Pu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>eo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>eo(s)).join(",")),e.ue=t}return e.ue}function Ed(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!QI(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Vy(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!qm(i.startAt,e.startAt)&&qm(i.endAt,e.endAt)}function zh(i){return ce.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t=null,s=[],a=[],u=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function sT(i,e,t,s,a,u,h,m){return new Na(i,e,t,s,a,u,h,m)}function Id(i){return new Na(i)}function Wm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function My(i){return i.collectionGroup!==null}function fa(i){const e=Pe(i);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new kt(jt.comparator);return h.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Eu(u,s))}),t.has(jt.keyField().canonicalString())||e.ce.push(new Eu(jt.keyField(),s))}return e.ce}function Yn(i){const e=Pe(i);return e.le||(e.le=oT(e,fa(i))),e.le}function oT(i,e){if(i.limitType==="F")return Hm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new Eu(a.field,u)});const t=i.endAt?new wu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new wu(i.startAt.position,i.startAt.inclusive):null;return Hm(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Bh(i,e){const t=i.filters.concat([e]);return new Na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function $h(i,e,t){return new Na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Nu(i,e){return Ed(Yn(i),Yn(e))&&i.limitType===e.limitType}function jy(i){return`${wd(Yn(i))}|lt:${i.limitType}`}function Us(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>Oy(a)).join(", ")}]`),Pu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>eo(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>eo(a)).join(",")),`Target(${s})`}(Yn(i))}; limitType=${i.limitType})`}function Du(i,e){return e.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ce.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,a){for(const u of fa(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,m,y){const _=$m(h,m,y);return h.inclusive?_<=0:_<0}(s.startAt,fa(s),a)||s.endAt&&!function(h,m,y){const _=$m(h,m,y);return h.inclusive?_>=0:_>0}(s.endAt,fa(s),a))}(i,e)}function aT(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Fy(i){return(e,t)=>{let s=!1;for(const a of fa(i)){const u=lT(a,e,t);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function lT(i,e,t){const s=i.field.isKeyField()?ce.comparator(e.key,t.key):function(u,h,m){const y=h.data.field(u),_=m.data.field(u);return y!==null&&_!==null?Zs(y,_):ve()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(t,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return Ry(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new st(ce.comparator);function ci(){return uT}const Uy=new st(ce.comparator);function la(...i){let e=Uy;for(const t of i)e=e.insert(t.key,t);return e}function cT(i){let e=Uy;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ui(){return pa()}function zy(){return pa()}function pa(){return new ao(i=>i.toString(),(i,e)=>i.isEqual(e))}const hT=new kt(ce.comparator);function De(...i){let e=hT;for(const t of i)e=e.add(t);return e}const dT=new kt(Me);function fT(){return dT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_u(e)?"-0":e}}function By(i){return{integerValue:""+i}}function pT(i,e){return qI(e)?By(e):Td(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this._=void 0}}function mT(i,e,t){return i instanceof qh?function(a,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&yd(u)&&(u=vd(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):i instanceof Iu?$y(i,e):i instanceof Tu?qy(i,e):function(a,u){const h=yT(a,u),m=Km(h)+Km(a.Pe);return Fh(h)&&Fh(a.Pe)?By(m):Td(a.serializer,m)}(i,e)}function gT(i,e,t){return i instanceof Iu?$y(i,e):i instanceof Tu?qy(i,e):t}function yT(i,e){return i instanceof Hh?function(s){return Fh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class qh extends bu{}class Iu extends bu{constructor(e){super(),this.elements=e}}function $y(i,e){const t=Hy(e);for(const s of i.elements)t.some(a=>Xn(a,s))||t.push(s);return{arrayValue:{values:t}}}class Tu extends bu{constructor(e){super(),this.elements=e}}function qy(i,e){let t=Hy(e);for(const s of i.elements)t=t.filter(a=>!Xn(a,s));return{arrayValue:{values:t}}}class Hh extends bu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Km(i){return it(i.integerValue||i.doubleValue)}function Hy(i){return _d(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function vT(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof Iu&&a instanceof Iu||s instanceof Tu&&a instanceof Tu?Js(s.elements,a.elements,Xn):s instanceof Hh&&a instanceof Hh?Xn(s.Pe,a.Pe):s instanceof qh&&a instanceof qh}(i.transform,e.transform)}class Bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function au(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Sd{}function Wy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new wT(i.key,Bi.none()):new xd(i.key,i.data,Bi.none());{const t=i.data,s=Wn.empty();let a=new kt(jt.comparator);for(let u of e.fields)if(!a.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new Vu(i.key,s,new ni(a.toArray()),Bi.none())}}function _T(i,e,t){i instanceof xd?function(a,u,h){const m=a.value.clone(),y=Qm(a.fieldTransforms,u,h.transformResults);m.setAll(y),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof Vu?function(a,u,h){if(!au(a.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Qm(a.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(Ky(a)),y.setAll(m),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(i,e,t):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ma(i,e,t,s){return i instanceof xd?function(u,h,m,y){if(!au(u.precondition,h))return m;const _=u.value.clone(),I=Ym(u.fieldTransforms,y,h);return _.setAll(I),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(i,e,t,s):i instanceof Vu?function(u,h,m,y){if(!au(u.precondition,h))return m;const _=Ym(u.fieldTransforms,y,h),I=h.data;return I.setAll(Ky(u)),I.setAll(_),h.convertToFoundDocument(h.version,I).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(P=>P.field))}(i,e,t,s):function(u,h,m){return au(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function Gm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Js(s,a,(u,h)=>vT(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class xd extends Sd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Vu extends Sd{constructor(e,t,s,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ky(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Qm(i,e,t){const s=new Map;et(i.length===t.length);for(let a=0;a<t.length;a++){const u=i[a],h=u.transform,m=e.data.field(u.field);s.set(u.field,gT(h,m,t[a]))}return s}function Ym(i,e,t){const s=new Map;for(const a of i){const u=a.transform,h=t.data.field(a.field);s.set(a.field,mT(u,h,e))}return s}class wT extends Sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&_T(u,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ma(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ma(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=zy();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(a.key)?null:m;const y=Wy(h,m);y!==null&&s.set(a.key,y),h.isValidDocument()||h.convertToNoDocument(ge.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(t,s)=>Gm(t,s))&&Js(this.baseMutations,e.baseMutations,(t,s)=>Gm(t,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Re;function Gy(i){if(i===void 0)return Sr("GRPC error has no .code"),Q.UNKNOWN;switch(i){case lt.OK:return Q.OK;case lt.CANCELLED:return Q.CANCELLED;case lt.UNKNOWN:return Q.UNKNOWN;case lt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case lt.INTERNAL:return Q.INTERNAL;case lt.UNAVAILABLE:return Q.UNAVAILABLE;case lt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case lt.NOT_FOUND:return Q.NOT_FOUND;case lt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case lt.ABORTED:return Q.ABORTED;case lt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case lt.DATA_LOSS:return Q.DATA_LOSS;default:return ve()}}(Re=lt||(lt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new zi([4294967295,4294967295],0);function Xm(i){const e=ST().encode(i),t=new Ey;return t.update(e),new Uint8Array(t.digest())}function Jm(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new zi([t,s],0),new zi([a,u],0)]}class Ad{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ua(`Invalid padding: ${t}`);if(s<0)throw new ua(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ua(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ua(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=zi.fromNumber(this.Ie)}Ee(e,t,s){let a=e.add(t.multiply(zi.fromNumber(s)));return a.compare(xT)===1&&(a=new zi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Xm(e),[s,a]=Jm(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Ad(u,a,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ie===0)return;const t=Xm(e),[s,a]=Jm(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t,s,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Da.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ou(ge.min(),a,new st(Me),ci(),De())}}class Da{constructor(e,t,s,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Da(s,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t,s,a){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=a}}class Qy{constructor(e,t){this.targetId=e,this.me=t}}class Yy{constructor(e,t,s=Ct.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Zm{constructor(){this.fe=0,this.ge=tg(),this.pe=Ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),t=De(),s=De();return this.ge.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:ve()}}),new Da(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=tg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class AT{constructor(e){this.Le=e,this.Be=new Map,this.ke=ci(),this.qe=eg(),this.Qe=new st(Me)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,a)=>{this.ze(a)&&t(a)})}He(e){const t=e.targetId,s=e.me.count,a=this.Je(t);if(a){const u=a.target;if(zh(u))if(s===0){const h=new ce(u.path);this.Ue(t,h,Mt.newNoDocument(h,ge.min()))}else et(s===1);else{const h=this.Ye(t);if(h!==s){const m=this.Ze(e),y=m?this.Xe(m,e,h):1;if(y!==0){this.je(t);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,_)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=t;let h,m;try{h=Wi(s).toUint8Array()}catch(y){if(y instanceof Py)return Xs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Ad(h,a,u)}catch(y){return Xs(y instanceof ua?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Ie===0?null:m}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let a=0;return s.forEach(u=>{const h=this.Le.tt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,u,null),a++)}),a}rt(e){const t=new Map;this.Be.forEach((u,h)=>{const m=this.Je(h);if(m){if(u.current&&zh(m.target)){const y=new ce(m.target.path);this.ke.get(y)!==null||this.it(h,y)||this.Ue(h,y,Mt.newNoDocument(y,e))}u.be&&(t.set(h,u.ve()),u.Ce())}});let s=De();this.qe.forEach((u,h)=>{let m=!0;h.forEachWhile(y=>{const _=this.Je(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const a=new Ou(e,t,this.Qe,this.ke,s);return this.ke=ci(),this.qe=eg(),this.Qe=new st(Me),a}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,t)?a.Fe(t,1):a.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Zm,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new kt(Me),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||se("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Zm),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function eg(){return new st(ce.comparator)}function tg(){return new st(ce.comparator)}const kT={asc:"ASCENDING",desc:"DESCENDING"},CT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RT={and:"AND",or:"OR"};class PT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wh(i,e){return i.useProto3Json||Pu(e)?e:{value:e}}function Kh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Gs(i){return et(!!i),ge.fromTimestamp(function(t){const s=ui(t);return new Et(s.seconds,s.nanos)}(i))}function Jy(i,e){return Gh(i,e).canonicalString()}function Gh(i,e){const t=function(a){return new Ke(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?t:t.child(e)}function Zy(i){const e=Ke.fromString(i);return et(iv(e)),e}function xh(i,e){const t=Zy(e);if(t.get(1)!==i.databaseId.projectId)throw new oe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new oe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ce(tv(t))}function ev(i,e){return Jy(i.databaseId,e)}function NT(i){const e=Zy(i);return e.length===4?Ke.emptyPath():tv(e)}function ng(i){return new Ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function tv(i){return et(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function DT(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(_,I){return _.useProto3Json?(et(I===void 0||typeof I=="string"),Ct.fromBase64String(I||"")):(et(I===void 0||I instanceof Buffer||I instanceof Uint8Array),Ct.fromUint8Array(I||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(_){const I=_.code===void 0?Q.UNKNOWN:Gy(_.code);return new oe(I,_.message||"")}(h);t=new Yy(s,a,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=xh(i,s.document.name),u=Gs(s.document.updateTime),h=s.document.createTime?Gs(s.document.createTime):ge.min(),m=new Wn({mapValue:{fields:s.document.fields}}),y=Mt.newFoundDocument(a,u,h,m),_=s.targetIds||[],I=s.removedTargetIds||[];t=new lu(_,I,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=xh(i,s.document),u=s.readTime?Gs(s.readTime):ge.min(),h=Mt.newNoDocument(a,u),m=s.removedTargetIds||[];t=new lu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=xh(i,s.document),u=s.removedTargetIds||[];t=new lu([],u,a,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new TT(a,u),m=s.targetId;t=new Qy(m,h)}}return t}function bT(i,e){return{documents:[ev(i,e.path)]}}function VT(i,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=ev(i,a);const u=function(_){if(_.length!==0)return rv(bn.create(_,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(_){if(_.length!==0)return _.map(I=>function(j){return{field:zs(j.field),direction:MT(j.dir)}}(I))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Wh(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{_t:t,parent:a}}function OT(i){let e=NT(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){et(s===1);const I=t.from[0];I.allDescendants?a=I.collectionId:e=e.child(I.collectionId)}let u=[];t.where&&(u=function(P){const j=nv(P);return j instanceof bn&&by(j)?j.getFilters():[j]}(t.where));let h=[];t.orderBy&&(h=function(P){return P.map(j=>function(Y){return new Eu(Bs(Y.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(j))}(t.orderBy));let m=null;t.limit&&(m=function(P){let j;return j=typeof P=="object"?P.value:P,Pu(j)?null:j}(t.limit));let y=null;t.startAt&&(y=function(P){const j=!!P.before,z=P.values||[];return new wu(z,j)}(t.startAt));let _=null;return t.endAt&&(_=function(P){const j=!P.before,z=P.values||[];return new wu(z,j)}(t.endAt)),sT(e,a,h,u,m,"F",y,_)}function LT(i,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nv(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Bs(t.unaryFilter.field);return ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Bs(t.unaryFilter.field);return ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Bs(t.unaryFilter.field);return ut.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Bs(t.unaryFilter.field);return ut.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(i):i.fieldFilter!==void 0?function(t){return ut.create(Bs(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return bn.create(t.compositeFilter.filters.map(s=>nv(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ve()}}(t.compositeFilter.op))}(i):ve()}function MT(i){return kT[i]}function jT(i){return CT[i]}function FT(i){return RT[i]}function zs(i){return{fieldPath:i.canonicalString()}}function Bs(i){return jt.fromServerFormat(i.fieldPath)}function rv(i){return i instanceof ut?function(t){if(t.op==="=="){if(Bm(t.value))return{unaryFilter:{field:zs(t.field),op:"IS_NAN"}};if(zm(t.value))return{unaryFilter:{field:zs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Bm(t.value))return{unaryFilter:{field:zs(t.field),op:"IS_NOT_NAN"}};if(zm(t.value))return{unaryFilter:{field:zs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(t.field),op:jT(t.op),value:t.value}}}(i):i instanceof bn?function(t){const s=t.getFilters().map(a=>rv(a));return s.length===1?s[0]:{compositeFilter:{op:FT(t.op),filters:s}}}(i):ve()}function iv(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,t,s,a,u=ge.min(),h=ge.min(),m=Ct.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.ct=e}}function zT(i){const e=OT({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?$h(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.un=new $T}addToCollectionParentIndex(e,t){return this.un.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(li.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(li.min())}updateCollectionGroup(e,t,s){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class $T{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new kt(Ke.comparator),u=!a.has(s);return this.index[t]=a.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new kt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new to(0)}static kn(){return new to(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.changes=new ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?H.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&ma(s.mutation,a,ni.empty(),Et.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,De()).next(()=>s))}getLocalViewOfDocuments(e,t,s=De()){const a=Ui();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(u=>{let h=la();return u.forEach((m,y)=>{h=h.insert(m,y.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Ui();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,De()))}populateOverlays(e,t,s){const a=[];return s.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,a){let u=ci();const h=pa(),m=function(){return pa()}();return t.forEach((y,_)=>{const I=s.get(_.key);a.has(_.key)&&(I===void 0||I.mutation instanceof Vu)?u=u.insert(_.key,_):I!==void 0?(h.set(_.key,I.mutation.getFieldMask()),ma(I.mutation,_,I.mutation.getFieldMask(),Et.now())):h.set(_.key,ni.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((_,I)=>h.set(_,I)),t.forEach((_,I)=>{var P;return m.set(_,new HT(I,(P=h.get(_))!==null&&P!==void 0?P:null))}),m))}recalculateAndSaveOverlays(e,t){const s=pa();let a=new st((h,m)=>h-m),u=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(y=>{const _=t.get(y);if(_===null)return;let I=s.get(y)||ni.empty();I=m.applyToLocalView(_,I),s.set(y,I);const P=(a.get(m.batchId)||De()).add(y);a=a.insert(m.batchId,P)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,I=y.value,P=zy();I.forEach(j=>{if(!u.has(j)){const z=Wy(t.get(j),s.get(j));z!==null&&P.set(j,z),u=u.add(j)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,P))}return H.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(h){return ce.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):My(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-u.size):H.resolve(Ui());let m=-1,y=u;return h.next(_=>H.forEach(_,(I,P)=>(m<P.largestBatchId&&(m=P.largestBatchId),u.get(I)?H.resolve():this.remoteDocumentCache.getEntry(e,I).next(j=>{y=y.insert(I,j)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,y,_,De())).next(I=>({batchId:m,changes:cT(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(s=>{let a=la();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const u=t.collectionGroup;let h=la();return this.indexManager.getCollectionParents(e,u).next(m=>H.forEach(m,y=>{const _=function(P,j){return new Na(j,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt)}(t,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(I=>{I.forEach((P,j)=>{h=h.insert(P,j)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,a))).next(h=>{u.forEach((y,_)=>{const I=_.getKey();h.get(I)===null&&(h=h.insert(I,Mt.newInvalidDocument(I)))});let m=la();return h.forEach((y,_)=>{const I=u.get(y);I!==void 0&&ma(I.mutation,_,ni.empty(),Et.now()),Du(t,_)&&(m=m.insert(y,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return H.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Gs(a.createTime)}}(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(a){return{name:a.name,query:zT(a.bundledQuery),readTime:Gs(a.readTime)}}(t)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.overlays=new st(ce.comparator),this.Ir=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ui();return H.forEach(t,a=>this.getOverlay(e,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,u)=>{this.ht(e,t,u)}),H.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Ir.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ir.delete(s)),H.resolve()}getOverlaysForCollection(e,t,s){const a=Ui(),u=t.length+1,h=new ce(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>s&&a.set(y.getKey(),y)}return H.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let u=new st((_,I)=>_-I);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let I=u.get(_.largestBatchId);I===null&&(I=Ui(),u=u.insert(_.largestBatchId,I)),I.set(_.getKey(),_)}}const m=Ui(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,I)=>m.set(_,I)),!(m.size()>=a)););return H.resolve(m)}ht(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Ir.get(a.largestBatchId).delete(s.key);this.Ir.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new IT(t,s));let u=this.Ir.get(t);u===void 0&&(u=De(),this.Ir.set(t,u)),this.Ir.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this.Tr=new kt(wt.Er),this.dr=new kt(wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new wt(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Vr(new wt(e,t))}mr(e,t){e.forEach(s=>this.removeReference(s,t))}gr(e){const t=new ce(new Ke([])),s=new wt(t,e),a=new wt(t,e+1),u=[];return this.dr.forEachInRange([s,a],h=>{this.Vr(h),u.push(h.key)}),u}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ce(new Ke([])),s=new wt(t,e),a=new wt(t,e+1);let u=De();return this.dr.forEachInRange([s,a],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new wt(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ce.comparator(e.key,t.key)||Me(e.wr,t.wr)}static Ar(e,t){return Me(e.wr,t.wr)||ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new kt(wt.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ET(u,t,s,a);this.mutationQueue.push(h);for(const m of a)this.br=this.br.add(new wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return H.resolve(h)}lookupMutationBatch(e,t){return H.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.vr(s),u=a<0?0:a;return H.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new wt(t,0),a=new wt(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,a],h=>{const m=this.Dr(h.wr);u.push(m)}),H.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(Me);return t.forEach(a=>{const u=new wt(a,0),h=new wt(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,h],m=>{s=s.add(m.wr)})}),H.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let u=s;ce.isDocumentKey(u)||(u=u.child(""));const h=new wt(new ce(u),0);let m=new kt(Me);return this.br.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(y.wr)),!0)},h),H.resolve(this.Cr(m))}Cr(e){const t=[];return e.forEach(s=>{const a=this.Dr(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){et(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return H.forEach(t.mutations,a=>{const u=new wt(a.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,t){const s=new wt(t,0),a=this.br.firstAfterOrEqual(s);return H.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.Mr=e,this.docs=function(){return new st(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),u=a?a.size:0,h=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return H.resolve(s?s.document.mutableCopy():Mt.newInvalidDocument(t))}getEntries(e,t){let s=ci();return t.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():Mt.newInvalidDocument(a))}),H.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let u=ci();const h=t.path,m=new ce(h.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:I}}=y.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||UI(FI(I),s)<=0||(a.has(I.key)||Du(t,I))&&(u=u.insert(I.key,I.mutableCopy()))}return H.resolve(u)}getAllFromCollectionGroup(e,t,s,a){ve()}Or(e,t){return H.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new JT(this)}getSize(e){return H.resolve(this.size)}}class JT extends qT{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.cr.addEntry(e,a)):this.cr.removeEntry(s)}),H.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.persistence=e,this.Nr=new ao(t=>wd(t),Ed),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kd,this.targetCount=0,this.kr=to.Bn()}forEachTarget(e,t){return this.Nr.forEach((s,a)=>t(a)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),H.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new to(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.Kn(t),H.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,s){let a=0;const u=[];return this.Nr.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Nr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),H.waitFor(u).next(()=>a)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return H.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),H.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),H.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return H.resolve(s)}containsKey(e,t){return H.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t){this.qr={},this.overlays={},this.Qr=new gd(0),this.Kr=!1,this.Kr=!0,this.$r=new QT,this.referenceDelegate=e(this),this.Ur=new ZT(this),this.indexManager=new BT,this.remoteDocumentCache=function(a){return new XT(a)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new UT(t),this.Gr=new KT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new YT(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){se("MemoryPersistence","Starting transaction:",e);const a=new t1(this.Qr.next());return this.referenceDelegate.zr(),s(a).next(u=>this.referenceDelegate.jr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Hr(e,t){return H.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,t)))}}class t1 extends BI{constructor(e){super(),this.currentSequenceNumber=e}}class Cd{constructor(e){this.persistence=e,this.Jr=new kd,this.Yr=null}static Zr(e){return new Cd(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),H.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),H.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(a=>this.Xr.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Xr.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,s=>{const a=ce.fromPath(s);return this.ei(e,a).next(u=>{u||t.removeEntry(a,ge.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return H.or([()=>H.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=a}static Wi(e,t){let s=De(),a=De();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Rd(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return c0()?8:$I(Ft())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,a){const u={result:null};return this.Yi(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Zi(e,t,a,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new n1;return this.Xi(e,t,h).next(m=>{if(u.result=m,this.zi)return this.es(e,t,h,m.size)})}).next(()=>u.result)}es(e,t,s,a){return s.documentReadCount<this.ji?(oa()<=Ae.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Us(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(oa()<=Ae.DEBUG&&se("QueryEngine","Query:",Us(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Hi*a?(oa()<=Ae.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Us(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(t))):H.resolve())}Yi(e,t){if(Wm(t))return H.resolve(null);let s=Yn(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=$h(t,null,"F"),s=Yn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=De(...u);return this.Ji.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const _=this.ts(t,m);return this.ns(t,_,h,y.readTime)?this.Yi(e,$h(t,null,"F")):this.rs(e,_,t,y)}))})))}Zi(e,t,s,a){return Wm(t)||a.isEqual(ge.min())?H.resolve(null):this.Ji.getDocuments(e,s).next(u=>{const h=this.ts(t,u);return this.ns(t,h,s,a)?H.resolve(null):(oa()<=Ae.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Us(t)),this.rs(e,h,t,jI(a,-1)).next(m=>m))})}ts(e,t){let s=new kt(Fy(e));return t.forEach((a,u)=>{Du(e,u)&&(s=s.add(u))}),s}ns(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Xi(e,t,s){return oa()<=Ae.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Us(t)),this.Ji.getDocumentsMatchingQuery(e,t,li.min(),s)}rs(e,t,s,a){return this.Ji.getDocumentsMatchingQuery(e,s,a).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,t,s,a){this.persistence=e,this.ss=t,this.serializer=a,this.os=new st(Me),this._s=new ao(u=>wd(u),Ed),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WT(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function s1(i,e,t,s){return new i1(i,e,t,s)}async function sv(i,e){const t=Pe(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,t.ls(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let y=De();for(const _ of a){h.push(_.batchId);for(const I of _.mutations)y=y.add(I.key)}for(const _ of u){m.push(_.batchId);for(const I of _.mutations)y=y.add(I.key)}return t.localDocuments.getDocuments(s,y).next(_=>({hs:_,removedBatchIds:h,addedBatchIds:m}))})})}function ov(i){const e=Pe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function o1(i,e){const t=Pe(i),s=e.snapshotVersion;let a=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});a=t.os;const m=[];e.targetChanges.forEach((I,P)=>{const j=a.get(P);if(!j)return;m.push(t.Ur.removeMatchingKeys(u,I.removedDocuments,P).next(()=>t.Ur.addMatchingKeys(u,I.addedDocuments,P)));let z=j.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(P)!==null?z=z.withResumeToken(Ct.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):I.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(I.resumeToken,s)),a=a.insert(P,z),function(J,W,we){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8?!0:we.addedDocuments.size+we.modifiedDocuments.size+we.removedDocuments.size>0}(j,z,I)&&m.push(t.Ur.updateTargetData(u,z))});let y=ci(),_=De();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,I))}),m.push(a1(u,h,e.documentUpdates).next(I=>{y=I.Ps,_=I.Is})),!s.isEqual(ge.min())){const I=t.Ur.getLastRemoteSnapshotVersion(u).next(P=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(I)}return H.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,y,_)).next(()=>y)}).then(u=>(t.os=a,u))}function a1(i,e,t){let s=De(),a=De();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=ci();return t.forEach((m,y)=>{const _=u.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(ge.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):se("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)}),{Ps:h,Is:a}})}function l1(i,e){const t=Pe(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Ur.getTargetData(s,e).next(u=>u?(a=u,H.resolve(a)):t.Ur.allocateTargetId(s).next(h=>(a=new ri(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.os.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s})}async function Qh(i,e,t){const s=Pe(i),a=s.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Ra(h))throw h;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.os=s.os.remove(e),s._s.delete(a.target)}function rg(i,e,t){const s=Pe(i);let a=ge.min(),u=De();return s.persistence.runTransaction("Execute query","readwrite",h=>function(y,_,I){const P=Pe(y),j=P._s.get(I);return j!==void 0?H.resolve(P.os.get(j)):P.Ur.getTargetData(_,I)}(s,h,Yn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(h,m.targetId).next(y=>{u=y})}).next(()=>s.ss.getDocumentsMatchingQuery(h,e,t?a:ge.min(),t?u:De())).next(m=>(u1(s,aT(e),m),{documents:m,Ts:u})))}function u1(i,e,t){let s=i.us.get(e)||ge.min();t.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.us.set(e,s)}class ig{constructor(){this.activeTargetIds=fT()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c1{constructor(){this.so=new ig,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ig,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu=null;function Ah(){return tu===null?tu=function(){return 268435456+Math.round(2147483648*Math.random())}():tu++,"0x"+tu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class p1 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${a}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${u}`}get Fo(){return!1}Mo(t,s,a,u,h){const m=Ah(),y=this.xo(t,s.toUriEncodedString());se("RestConnection",`Sending RPC '${t}' ${m}:`,y,a);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,u,h),this.No(t,y,_,a).then(I=>(se("RestConnection",`Received RPC '${t}' ${m}: `,I),I),I=>{throw Xs("RestConnection",`RPC '${t}' ${m} failed with error: `,I,"url: ",y,"request:",a),I})}Lo(t,s,a,u,h,m){return this.Mo(t,s,a,u,h)}Oo(t,s,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>t[h]=u),a&&a.headers.forEach((u,h)=>t[h]=u)}xo(t,s){const a=d1[t];return`${this.Do}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,a){const u=Ah();return new Promise((h,m)=>{const y=new Iy;y.setWithCredentials(!0),y.listenOnce(Ty.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case ou.NO_ERROR:const I=y.getResponseJson();se(Ot,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(I)),h(I);break;case ou.TIMEOUT:se(Ot,`RPC '${e}' ${u} timed out`),m(new oe(Q.DEADLINE_EXCEEDED,"Request time out"));break;case ou.HTTP_ERROR:const P=y.getStatus();if(se(Ot,`RPC '${e}' ${u} failed with status:`,P,"response text:",y.getResponseText()),P>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const z=j?.error;if(z&&z.status&&z.message){const Y=function(W){const we=W.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(we)>=0?we:Q.UNKNOWN}(z.status);m(new oe(Y,z.message))}else m(new oe(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new oe(Q.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{se(Ot,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(a);se(Ot,`RPC '${e}' ${u} sending request:`,a),y.send(t,"POST",_,s,15)})}Bo(e,t,s){const a=Ah(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ay(),m=xy(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,t,s),y.encodeInitMessageHeaders=!0;const I=u.join("");se(Ot,`Creating RPC '${e}' stream ${a}: ${I}`,y);const P=h.createWebChannel(I,y);let j=!1,z=!1;const Y=new f1({Io:W=>{z?se(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,W):(j||(se(Ot,`Opening RPC '${e}' stream ${a} transport.`),P.open(),j=!0),se(Ot,`RPC '${e}' stream ${a} sending:`,W),P.send(W))},To:()=>P.close()}),J=(W,we,me)=>{W.listen(we,_e=>{try{me(_e)}catch(ye){setTimeout(()=>{throw ye},0)}})};return J(P,aa.EventType.OPEN,()=>{z||(se(Ot,`RPC '${e}' stream ${a} transport opened.`),Y.yo())}),J(P,aa.EventType.CLOSE,()=>{z||(z=!0,se(Ot,`RPC '${e}' stream ${a} transport closed`),Y.So())}),J(P,aa.EventType.ERROR,W=>{z||(z=!0,Xs(Ot,`RPC '${e}' stream ${a} transport errored:`,W),Y.So(new oe(Q.UNAVAILABLE,"The operation could not be completed")))}),J(P,aa.EventType.MESSAGE,W=>{var we;if(!z){const me=W.data[0];et(!!me);const _e=me,ye=_e.error||((we=_e[0])===null||we===void 0?void 0:we.error);if(ye){se(Ot,`RPC '${e}' stream ${a} received error:`,ye);const Ge=ye.status;let Se=function(A){const C=lt[A];if(C!==void 0)return Gy(C)}(Ge),N=ye.message;Se===void 0&&(Se=Q.INTERNAL,N="Unknown error status: "+Ge+" with message "+ye.message),z=!0,Y.So(new oe(Se,N)),P.close()}else se(Ot,`RPC '${e}' stream ${a} received:`,me),Y.bo(me)}}),J(m,Sy.STAT_EVENT,W=>{W.stat===Mh.PROXY?se(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):W.stat===Mh.NOPROXY&&se(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Y.wo()},0),Y}}function kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(i){return new PT(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,t,s=1e3,a=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=a,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),a=Math.max(0,t-s);a>0&&se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t,s,a,u,h,m,y){this.ui=e,this.Ho=s,this.Jo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new av(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(Sr(t.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Yo===t&&this.P_(s,a)},s=>{e(()=>{const a=new oe(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(a)})})}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{s(()=>this.I_(a))}),this.stream.onMessage(a=>{s(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g1 extends m1{constructor(e,t,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,h),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=DT(this.serializer,e),s=function(u){if(!("targetChange"in u))return ge.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ge.min():h.readTime?Gs(h.readTime):ge.min()}(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=ng(this.serializer),t.addTarget=function(u,h){let m;const y=h.target;if(m=zh(y)?{documents:bT(u,y)}:{query:VT(u,y)._t},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Xy(u,h.resumeToken);const _=Wh(u,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(ge.min())>0){m.readTime=Kh(u,h.snapshotVersion.toTimestamp());const _=Wh(u,h.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=LT(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=ng(this.serializer),t.removeTarget=e,this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new oe(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Mo(e,Gh(t,s),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Q.UNKNOWN,u.toString())})}Lo(e,t,s,a,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Lo(e,Gh(t,s),a,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(Q.UNKNOWN,h.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class v1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Sr(t),this.D_=!1):se("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,t,s,a,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o(h=>{s.enqueueAndForget(async()=>{Va(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(y){const _=Pe(y);_.L_.add(4),await ba(_),_.q_.set("Unknown"),_.L_.delete(4),await Mu(_)}(this))})}),this.q_=new v1(s,a)}}async function Mu(i){if(Va(i))for(const e of i.B_)await e(!0)}async function ba(i){for(const e of i.B_)await e(!1)}function lv(i,e){const t=Pe(i);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),bd(t)?Dd(t):lo(t).r_()&&Nd(t,e))}function Pd(i,e){const t=Pe(i),s=lo(t);t.N_.delete(e),s.r_()&&uv(t,e),t.N_.size===0&&(s.r_()?s.o_():Va(t)&&t.q_.set("Unknown"))}function Nd(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}lo(i).A_(e)}function uv(i,e){i.Q_.xe(e),lo(i).R_(e)}function Dd(i){i.Q_=new AT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),lo(i).start(),i.q_.v_()}function bd(i){return Va(i)&&!lo(i).n_()&&i.N_.size>0}function Va(i){return Pe(i).L_.size===0}function cv(i){i.Q_=void 0}async function w1(i){i.q_.set("Online")}async function E1(i){i.N_.forEach((e,t)=>{Nd(i,e)})}async function I1(i,e){cv(i),bd(i)?(i.q_.M_(e),Dd(i)):i.q_.set("Unknown")}async function T1(i,e,t){if(i.q_.set("Online"),e instanceof Yy&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const m of u.targetIds)a.N_.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.N_.delete(m),a.Q_.removeTarget(m))}(i,e)}catch(s){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await og(i,s)}else if(e instanceof lu?i.Q_.Ke(e):e instanceof Qy?i.Q_.He(e):i.Q_.We(e),!t.isEqual(ge.min()))try{const s=await ov(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Q_.rt(h);return m.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const I=u.N_.get(_);I&&u.N_.set(_,I.withResumeToken(y.resumeToken,h))}}),m.targetMismatches.forEach((y,_)=>{const I=u.N_.get(y);if(!I)return;u.N_.set(y,I.withResumeToken(Ct.EMPTY_BYTE_STRING,I.snapshotVersion)),uv(u,y);const P=new ri(I.target,y,_,I.sequenceNumber);Nd(u,P)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){se("RemoteStore","Failed to raise snapshot:",s),await og(i,s)}}async function og(i,e,t){if(!Ra(e))throw e;i.L_.add(1),await ba(i),i.q_.set("Offline"),t||(t=()=>ov(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await t(),i.L_.delete(1),await Mu(i)})}async function ag(i,e){const t=Pe(i);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const s=Va(t);t.L_.add(3),await ba(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Mu(t)}async function S1(i,e){const t=Pe(i);e?(t.L_.delete(2),await Mu(t)):e||(t.L_.add(2),await ba(t),t.q_.set("Unknown"))}function lo(i){return i.K_||(i.K_=function(t,s,a){const u=Pe(t);return u.w_(),new g1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{Eo:w1.bind(null,i),Ro:E1.bind(null,i),mo:I1.bind(null,i),d_:T1.bind(null,i)}),i.B_.push(async e=>{e?(i.K_.s_(),bd(i)?Dd(i):i.q_.set("Unknown")):(await i.K_.stop(),cv(i))})),i.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t,s,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,u){const h=Date.now()+s,m=new Vd(e,t,h,a,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hv(i,e){if(Sr("AsyncQueue",`${e}: ${i}`),Ra(i))return new oe(Q.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.comparator=e?(t,s)=>e(t,s)||ce.comparator(t.key,s.key):(t,s)=>ce.comparator(t.key,s.key),this.keyedMap=la(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new Qs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qs)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Qs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.W_=new st(ce.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,s)=>{e.push(s)}),e}}class no{constructor(e,t,s,a,u,h,m,y,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,a,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new no(e,t,Qs.emptySet(t),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class A1{constructor(){this.queries=ug(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const a=Pe(t),u=a.queries;a.queries=ug(),u.forEach((h,m)=>{for(const y of m.j_)y.onError(s)})})(this,new oe(Q.ABORTED,"Firestore shutting down"))}}function ug(){return new ao(i=>jy(i),Nu)}async function k1(i,e){const t=Pe(i);let s=3;const a=e.query;let u=t.queries.get(a);u?!u.H_()&&e.J_()&&(s=2):(u=new x1,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await t.onListen(a,!0);break;case 1:u.z_=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const m=hv(h,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&Od(t)}async function C1(i,e){const t=Pe(i),s=e.query;let a=3;const u=t.queries.get(s);if(u){const h=u.j_.indexOf(e);h>=0&&(u.j_.splice(h,1),u.j_.length===0?a=e.J_()?0:1:!u.H_()&&e.J_()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function R1(i,e){const t=Pe(i);let s=!1;for(const a of e){const u=a.query,h=t.queries.get(u);if(h){for(const m of h.j_)m.X_(a)&&(s=!0);h.z_=a}}s&&Od(t)}function P1(i,e,t){const s=Pe(i),a=s.queries.get(e);if(a)for(const u of a.j_)u.onError(t);s.queries.delete(e)}function Od(i){i.Y_.forEach(e=>{e.next()})}var Yh,cg;(cg=Yh||(Yh={})).ea="default",cg.Cache="cache";class N1{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new no(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=no.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Yh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this.key=e}}class fv{constructor(e){this.key=e}}class D1{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=Fy(e),this.Ra=new Qs(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new lg,a=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,h=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((I,P)=>{const j=a.get(I),z=Du(this.query,P)?P:null,Y=!!j&&this.mutatedKeys.has(j.key),J=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let W=!1;j&&z?j.data.isEqual(z.data)?Y!==J&&(s.track({type:3,doc:z}),W=!0):this.ga(j,z)||(s.track({type:2,doc:z}),W=!0,(y&&this.Aa(z,y)>0||_&&this.Aa(z,_)<0)&&(m=!0)):!j&&z?(s.track({type:0,doc:z}),W=!0):j&&!z&&(s.track({type:1,doc:j}),W=!0,(y||_)&&(m=!0)),W&&(z?(h=h.add(z),u=J?u.add(I):u.delete(I)):(h=h.delete(I),u=u.delete(I)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const I=this.query.limitType==="F"?h.last():h.first();h=h.delete(I.key),u=u.delete(I.key),s.track({type:1,doc:I})}return{Ra:h,fa:s,ns:m,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort((I,P)=>function(z,Y){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return J(z)-J(Y)}(I.type,P.type)||this.Aa(I.doc,P.doc)),this.pa(s),a=a!=null&&a;const m=t&&!a?this.ya():[],y=this.da.size===0&&this.current&&!a?1:0,_=y!==this.Ea;return this.Ea=y,h.length!==0||_?{snapshot:new no(this.query,e.Ra,u,h,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=De(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const t=[];return e.forEach(s=>{this.da.has(s)||t.push(new fv(s))}),this.da.forEach(s=>{e.has(s)||t.push(new dv(s))}),t}ba(e){this.Ta=e.Ts,this.da=De();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return no.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class b1{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class V1{constructor(e){this.key=e,this.va=!1}}class O1{constructor(e,t,s,a,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new ao(m=>jy(m),Nu),this.Ma=new Map,this.xa=new Set,this.Oa=new st(ce.comparator),this.Na=new Map,this.La=new kd,this.Ba={},this.ka=new Map,this.qa=to.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function L1(i,e,t=!0){const s=vv(i);let a;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Da()):a=await pv(s,e,t,!0),a}async function M1(i,e){const t=vv(i);await pv(t,e,!0,!1)}async function pv(i,e,t,s){const a=await l1(i.localStore,Yn(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await j1(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&t&&lv(i.remoteStore,a),m}async function j1(i,e,t,s,a){i.Ka=(P,j,z)=>async function(J,W,we,me){let _e=W.view.ma(we);_e.ns&&(_e=await rg(J.localStore,W.query,!1).then(({documents:N})=>W.view.ma(N,_e)));const ye=me&&me.targetChanges.get(W.targetId),Ge=me&&me.targetMismatches.get(W.targetId)!=null,Se=W.view.applyChanges(_e,J.isPrimaryClient,ye,Ge);return dg(J,W.targetId,Se.wa),Se.snapshot}(i,P,j,z);const u=await rg(i.localStore,e,!0),h=new D1(e,u.Ts),m=h.ma(u.documents),y=Da.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",a),_=h.applyChanges(m,i.isPrimaryClient,y);dg(i,t,_.wa);const I=new b1(e,t,h);return i.Fa.set(e,I),i.Ma.has(t)?i.Ma.get(t).push(e):i.Ma.set(t,[e]),_.snapshot}async function F1(i,e,t){const s=Pe(i),a=s.Fa.get(e),u=s.Ma.get(a.targetId);if(u.length>1)return s.Ma.set(a.targetId,u.filter(h=>!Nu(h,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Qh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Pd(s.remoteStore,a.targetId),Xh(s,a.targetId)}).catch(md)):(Xh(s,a.targetId),await Qh(s.localStore,a.targetId,!0))}async function U1(i,e){const t=Pe(i),s=t.Fa.get(e),a=t.Ma.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Pd(t.remoteStore,s.targetId))}async function mv(i,e){const t=Pe(i);try{const s=await o1(t.localStore,e);e.targetChanges.forEach((a,u)=>{const h=t.Na.get(u);h&&(et(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.va=!0:a.modifiedDocuments.size>0?et(h.va):a.removedDocuments.size>0&&(et(h.va),h.va=!1))}),await yv(t,s,e)}catch(s){await md(s)}}function hg(i,e,t){const s=Pe(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Fa.forEach((u,h)=>{const m=h.view.Z_(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const y=Pe(h);y.onlineState=m;let _=!1;y.queries.forEach((I,P)=>{for(const j of P.j_)j.Z_(m)&&(_=!0)}),_&&Od(y)}(s.eventManager,e),a.length&&s.Ca.d_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function z1(i,e,t){const s=Pe(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Na.get(e),u=a&&a.key;if(u){let h=new st(ce.comparator);h=h.insert(u,Mt.newNoDocument(u,ge.min()));const m=De().add(u),y=new Ou(ge.min(),new Map,new st(Me),h,m);await mv(s,y),s.Oa=s.Oa.remove(u),s.Na.delete(e),Ld(s)}else await Qh(s.localStore,e,!1).then(()=>Xh(s,e,t)).catch(md)}function Xh(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Ma.get(e))i.Fa.delete(s),t&&i.Ca.$a(s,t);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach(s=>{i.La.containsKey(s)||gv(i,s)})}function gv(i,e){i.xa.delete(e.path.canonicalString());const t=i.Oa.get(e);t!==null&&(Pd(i.remoteStore,t),i.Oa=i.Oa.remove(e),i.Na.delete(t),Ld(i))}function dg(i,e,t){for(const s of t)s instanceof dv?(i.La.addReference(s.key,e),B1(i,s)):s instanceof fv?(se("SyncEngine","Document no longer in limbo: "+s.key),i.La.removeReference(s.key,e),i.La.containsKey(s.key)||gv(i,s.key)):ve()}function B1(i,e){const t=e.key,s=t.path.canonicalString();i.Oa.get(t)||i.xa.has(s)||(se("SyncEngine","New document in limbo: "+t),i.xa.add(s),Ld(i))}function Ld(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const t=new ce(Ke.fromString(e)),s=i.qa.next();i.Na.set(s,new V1(t)),i.Oa=i.Oa.insert(t,s),lv(i.remoteStore,new ri(Yn(Id(t.path)),s,"TargetPurposeLimboResolution",gd.oe))}}async function yv(i,e,t){const s=Pe(i),a=[],u=[],h=[];s.Fa.isEmpty()||(s.Fa.forEach((m,y)=>{h.push(s.Ka(y,e,t).then(_=>{var I;if((_||t)&&s.isPrimaryClient){const P=_?!_.fromCache:(I=t?.targetChanges.get(y.targetId))===null||I===void 0?void 0:I.current;s.sharedClientState.updateQueryState(y.targetId,P?"current":"not-current")}if(_){a.push(_);const P=Rd.Wi(y.targetId,_);u.push(P)}}))}),await Promise.all(h),s.Ca.d_(a),await async function(y,_){const I=Pe(y);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>H.forEach(_,j=>H.forEach(j.$i,z=>I.persistence.referenceDelegate.addReference(P,j.targetId,z)).next(()=>H.forEach(j.Ui,z=>I.persistence.referenceDelegate.removeReference(P,j.targetId,z)))))}catch(P){if(!Ra(P))throw P;se("LocalStore","Failed to update sequence numbers: "+P)}for(const P of _){const j=P.targetId;if(!P.fromCache){const z=I.os.get(j),Y=z.snapshotVersion,J=z.withLastLimboFreeSnapshotVersion(Y);I.os=I.os.insert(j,J)}}}(s.localStore,u))}async function $1(i,e){const t=Pe(i);if(!t.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const s=await sv(t.localStore,e);t.currentUser=e,function(u,h){u.ka.forEach(m=>{m.forEach(y=>{y.reject(new oe(Q.CANCELLED,h))})}),u.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yv(t,s.hs)}}function q1(i,e){const t=Pe(i),s=t.Na.get(e);if(s&&s.va)return De().add(s.key);{let a=De();const u=t.Ma.get(e);if(!u)return a;for(const h of u){const m=t.Fa.get(h);a=a.unionWith(m.view.Va)}return a}}function vv(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=mv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z1.bind(null,e),e.Ca.d_=R1.bind(null,e.eventManager),e.Ca.$a=P1.bind(null,e.eventManager),e}class Su{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return s1(this.persistence,new r1,e.initialUser,this.serializer)}Ga(e){return new e1(Cd.Zr,this.serializer)}Wa(e){return new c1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Su.provider={build:()=>new Su};class Jh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$1.bind(null,this.syncEngine),await S1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A1}()}createDatastore(e){const t=Lu(e.databaseInfo.databaseId),s=function(u){return new p1(u)}(e.databaseInfo);return function(u,h,m,y){return new y1(u,h,m,y)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,u,h,m){return new _1(s,a,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>hg(this.syncEngine,t,0),function(){return sg.D()?new sg:new h1}())}createSyncEngine(e,t){return function(a,u,h,m,y,_,I){const P=new O1(a,u,h,m,y,_);return I&&(P.Qa=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const u=Pe(a);se("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await ba(u),u.k_.shutdown(),u.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Jh.provider={build:()=>new Jh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t,s,a,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=Cy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{se("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(se("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=hv(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ch(i,e){i.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await sv(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function fg(i,e){i.asyncQueue.verifyOperationInProgress();const t=await K1(i);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>ag(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>ag(e.remoteStore,a)),i._onlineComponents=e}async function K1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ch(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===Q.FAILED_PRECONDITION||a.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Xs("Error using user provided cache. Falling back to memory cache: "+t),await Ch(i,new Su)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await Ch(i,new Su);return i._offlineComponents}async function G1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await fg(i,i._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await fg(i,new Jh))),i._onlineComponents}async function pg(i){const e=await G1(i),t=e.eventManager;return t.onListen=L1.bind(null,e.syncEngine),t.onUnlisten=F1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=M1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=U1.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(i,e,t){if(!t)throw new oe(Q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Q1(i,e,t,s){if(e===!0&&s===!0)throw new oe(Q.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function gg(i){if(!ce.isDocumentKey(i))throw new oe(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function yg(i){if(ce.isDocumentKey(i))throw new oe(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ju(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve()}function uu(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ju(i);throw new oe(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_v((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new oe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new oe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new oe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fu{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new RI;switch(s.type){case"firstParty":return new bI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=mg.get(t);s&&(se("ComponentProvider","Removing Datastore"),mg.delete(t),s.terminate())}(this),Promise.resolve()}}function Y1(i,e,t,s={}){var a;const u=(i=uu(i,Fu))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Lt.MOCK_USER;else{m=r0(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new oe(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Lt(_)}i._authCredentials=new PI(new ky(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class on{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class ai extends uo{constructor(e,t,s){super(e,t,Id(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ce(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function X1(i,e,...t){if(i=an(i),wv("collection","path",e),i instanceof Fu){const s=Ke.fromString(e,...t);return yg(s),new ai(i,null,s)}{if(!(i instanceof on||i instanceof ai))throw new oe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ke.fromString(e,...t));return yg(s),new ai(i.firestore,null,s)}}function J1(i,e,...t){if(i=an(i),arguments.length===1&&(e=Cy.newId()),wv("doc","path",e),i instanceof Fu){const s=Ke.fromString(e,...t);return gg(s),new on(i,null,new ce(s))}{if(!(i instanceof on||i instanceof ai))throw new oe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ke.fromString(e,...t));return gg(s),new on(i.firestore,i instanceof ai?i.converter:null,new ce(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new av(this,"async_queue_retry"),this.Vu=()=>{const s=kh();s&&se("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=kh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=kh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Ks;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ra(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const a=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw Sr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.du=!1,s))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const a=Vd.createAndSchedule(this,e,t,s,u=>this.yu(u));return this.Tu.push(a),a}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function wg(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const u of s)if(u in a&&typeof a[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Zh extends Fu{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new _g,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _g(e),this._firestoreClient=void 0,await e}}}function Z1(i,e){const t=typeof i=="object"?i:Ug(),s=typeof i=="string"?i:"(default)",a=id(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=t0("firestore");u&&Y1(a,...u)}return a}function eS(i){if(i._terminated)throw new oe(Q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||tS(i),i._firestoreClient}function tS(i){var e,t,s;const a=i._freezeSettings(),u=function(m,y,_,I){return new WI(m,y,_,I.host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,_v(I.experimentalLongPollingOptions),I.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new W1(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const y=m?._online.build();return{_offline:m?._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ro(Ct.fromBase64String(e))}catch(t){throw new oe(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ro(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=/^__.*__$/;function Tv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class Fd{constructor(e,t,s,a,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Fd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Fu({path:s,xu:!1});return a.Ou(e),a}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Fu({path:s,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ed(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Tv(this.Cu)&&nS.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class rS{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Lu(e)}Qu(e,t,s,a=!1){return new Fd({Cu:e,methodName:t,qu:s,path:jt.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iS(i){const e=i._freezeSettings(),t=Lu(i._databaseId);return new rS(i._databaseId,!!e.ignoreUndefinedProperties,t)}function sS(i,e,t,s=!1){return Ud(t,i.Qu(s?4:3,e))}function Ud(i,e){if(Sv(i=an(i)))return aS("Unsupported field value:",e,i),oS(i,e);if(i instanceof Iv)return function(s,a){if(!Tv(a.Cu))throw a.Bu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,a){const u=[];let h=0;for(const m of s){let y=Ud(m,a.Lu(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,a){if((s=an(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pT(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Et.fromDate(s);return{timestampValue:Kh(a.serializer,u)}}if(s instanceof Et){const u=new Et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kh(a.serializer,u)}}if(s instanceof Md)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ro)return{bytesValue:Xy(a.serializer,s._byteString)};if(s instanceof on){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof jd)return function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.Bu("VectorValues must only contain numeric values.");return Td(m.serializer,y)})}}}}}}(s,a);throw a.Bu(`Unsupported field value: ${ju(s)}`)}(i,e)}function oS(i,e){const t={};return Ry(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(i,(s,a)=>{const u=Ud(a,e.Mu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Sv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Et||i instanceof Md||i instanceof ro||i instanceof on||i instanceof Iv||i instanceof jd)}function aS(i,e,t){if(!Sv(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=ju(t);throw s==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+s)}}const lS=new RegExp("[~\\*/\\[\\]]");function uS(i,e,t){if(e.search(lS)>=0)throw ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ev(...e.split("."))._internalPath}catch{throw ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ed(i,e,t,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${s}`),h&&(y+=` in document ${a}`),y+=")"),new oe(Q.INVALID_ARGUMENT,m+i+y)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t,s,a,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Av("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class cS extends xv{data(){return super.data()}}function Av(i,e){return typeof e=="string"?uS(i,e):e instanceof Ev?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zd{}class dS extends zd{}function fS(i,e,...t){let s=[];e instanceof zd&&s.push(e),s=s.concat(t),function(u){const h=u.filter(y=>y instanceof $d).length,m=u.filter(y=>y instanceof Bd).length;if(h>1||h>0&&m>0)throw new oe(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class Bd extends dS{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Bd(e,t,s)}_apply(e){const t=this._parse(e);return kv(e._query,t),new uo(e.firestore,e.converter,Bh(e._query,t))}_parse(e){const t=iS(e.firestore);return function(u,h,m,y,_,I,P){let j;if(_.isKeyField()){if(I==="array-contains"||I==="array-contains-any")throw new oe(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if(I==="in"||I==="not-in"){Ig(P,I);const z=[];for(const Y of P)z.push(Eg(y,u,Y));j={arrayValue:{values:z}}}else j=Eg(y,u,P)}else I!=="in"&&I!=="not-in"&&I!=="array-contains-any"||Ig(P,I),j=sS(m,h,P,I==="in"||I==="not-in");return ut.create(_,I,j)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class $d extends zd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $d(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:bn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,u){let h=a;const m=u.getFlattenedFilters();for(const y of m)kv(h,y),h=Bh(h,y)}(e._query,t),new uo(e.firestore,e.converter,Bh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Eg(i,e,t){if(typeof(t=an(t))=="string"){if(t==="")throw new oe(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!My(e)&&t.indexOf("/")!==-1)throw new oe(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ke.fromString(t));if(!ce.isDocumentKey(s))throw new oe(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Um(i,new ce(s))}if(t instanceof on)return Um(i,t._key);throw new oe(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ju(t)}.`)}function Ig(i,e){if(!Array.isArray(i)||i.length===0)throw new oe(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kv(i,e){const t=function(a,u){for(const h of a)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new oe(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class pS{convertValue(e,t="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Pa(e,(a,u)=>{s[a]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,a;const u=(a=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>it(h.doubleValue));return new jd(u)}convertGeoPoint(e){return new Md(it(e.latitude),it(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=vd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(_a(e));default:return null}}convertTimestamp(e){const t=ui(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ke.fromString(e);et(iv(s));const a=new wa(s.get(1),s.get(3)),u=new ce(s.popFirst(5));return a.isEqual(t)||Sr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cv extends xv{constructor(e,t,s,a,u,h){super(e,t,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Av("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class cu extends Cv{data(e={}){return super.data(e)}}class mS{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ca(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new cu(this._firestore,this._userDataWriter,s.key,s,new ca(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const y=new cu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new ca(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new cu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new ca(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,I=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),I=h.indexOf(m.doc.key)),{type:gS(m.type),doc:y,oldIndex:_,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class Rv extends pS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ro(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,t)}}function Pv(i,...e){var t,s,a;i=an(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||wg(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(wg(e[h])){const P=e[h];e[h]=(t=P.next)===null||t===void 0?void 0:t.bind(P),e[h+1]=(s=P.error)===null||s===void 0?void 0:s.bind(P),e[h+2]=(a=P.complete)===null||a===void 0?void 0:a.bind(P)}let y,_,I;if(i instanceof on)_=uu(i.firestore,Zh),I=Id(i._key.path),y={next:P=>{e[h]&&e[h](yS(_,i,P))},error:e[h+1],complete:e[h+2]};else{const P=uu(i,uo);_=uu(P.firestore,Zh),I=P._query;const j=new Rv(_);y={next:z=>{e[h]&&e[h](new mS(_,j,P,z))},error:e[h+1],complete:e[h+2]},hS(i._query)}return function(j,z,Y,J){const W=new H1(J),we=new N1(z,W,Y);return j.asyncQueue.enqueueAndForget(async()=>k1(await pg(j),we)),()=>{W.Za(),j.asyncQueue.enqueueAndForget(async()=>C1(await pg(j),we))}}(eS(_),I,m,y)}function yS(i,e,t){const s=t.docs.get(e._key),a=new Rv(i);return new Cv(i,a,e._key,s,new ca(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){oo=a})(io),Ys(new $i("firestore",(s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Zh(new NI(s.getProvider("auth-internal")),new OI(s.getProvider("app-check-internal")),function(_,I){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new oe(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(_.options.projectId,I)}(h,a),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),oi(Om,"4.7.3",e),oi(Om,"4.7.3","esm2017")})();const Tg=i=>w.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-home",children:[w.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),w.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Sg=i=>w.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucude-user",children:[w.jsx("circle",{cx:"12",cy:"7",r:"4"}),w.jsx("path",{d:"M12 16v6"}),w.jsx("path",{d:"M8 20l-1-1"}),w.jsx("path",{d:"M16 20l1-1"}),w.jsx("path",{d:"M6 14L4 12"}),w.jsx("path",{d:"M18 14l2-2"}),w.jsx("path",{d:"M3 3l-.5-.5"}),w.jsx("path",{d:"M21 3l.5-.5"})]}),xg=i=>w.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-mail",children:[w.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),w.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),Nv=i=>w.jsx("svg",{...i,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.082-.746.084-.729.084-.729 1.192.086 1.815 1.291 1.815 1.291 1.053 1.814 2.91.086 3.61-.007.104-.67.412-1.291.79-1.729-2.766-.318-5.645-1.379-5.645-6.159 0-1.309.465-2.387 1.235-3.221-.103-.318-.421-1.507.098-3.149 0 0 1.004-.322 3.286 1.267.959-.266 1.983-.399 3.004-.404 1.02.005 2.044.138 3.003.404 2.283-1.587 3.286-1.267 3.286-1.267.522 1.643.205 2.831.098 3.149.77.835 1.234 1.911 1.234 3.221 0 4.795-2.883 5.836-5.65.659.429.369.812 1.103.812 2.221v3.293c0 .319.192.694.801.576C20.562 22.181 24 17.6 24 12 24 5.373 18.627 0 12 0Z"})}),Dv=i=>w.jsx("svg",{...i,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),bv=i=>w.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M20.25 0H3.75C1.678 0 0 1.678 0 3.75V20.25C0 22.322 1.678 24 3.75 24H20.25C22.322 24 24 22.322 24 20.25V3.75C24 1.678 22.322 0 20.25 0ZM18.75 8.25C18.75 7.146 17.854 6.25 16.75 6.25C15.646 6.25 14.75 7.146 14.75 8.25C14.75 9.354 15.646 10.25 16.75 10.25C17.854 10.25 18.75 9.354 18.75 8.25ZM5.25 8.25C5.25 7.146 6.146 6.25 7.25 6.25C8.354 6.25 9.25 7.146 9.25 8.25C9.25 9.354 8.354 10.25 7.25 10.25C6.146 10.25 5.25 9.354 5.25 8.25ZM18.75 15C18.75 16.104 17.854 17 16.75 17C15.646 17 14.75 16.104 14.75 15C14.75 13.896 15.646 13 16.75 13C17.854 13 18.75 13.896 18.75 15ZM5.25 15C5.25 16.104 6.146 17 7.25 17C8.354 17 9.25 16.104 9.25 15C9.25 13.896 8.354 13 7.25 13C6.146 13 5.25 13.896 5.25 15Z"})}),Vv=i=>w.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("path",{d:"M3 16L7 8L12 16L17 8L21 16"}),w.jsx("path",{d:"M12 16V22"}),w.jsx("path",{d:"M12 2L12 8"})]}),xu=i=>w.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-flask",children:[w.jsx("path",{d:"M14.4 14.4 17 21l-7-3-2.6-6.6a2 2 0 0 0-1.8-1.3l-6.4-.7a2 2 0 0 0-1.6 3.4l6.4 6.4"}),w.jsx("path",{d:"M17 21h-2l-2-2m2-2h2m-2 0 2-2m-2 0v-2m-2-2v-2"}),w.jsx("path",{d:"M11 2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H13a2 2 0 0 1-2-2z"})]}),vS=i=>w.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users",children:[w.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),w.jsx("circle",{cx:"9",cy:"7",r:"4"}),w.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),w.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Ov=i=>w.jsxs("svg",{...i,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"4",ry:"4",fill:"none",stroke:"currentColor",strokeWidth:"2"}),w.jsx("path",{d:"M10 7h4c1.1 0 2 .9 2 2s-.9 2-2 2h-2v2h4v2h-4c-1.1 0-2-.9-2-2s.9-2 2-2h2V9H8V7z"})]}),Ag=i=>w.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-graduation-cap",children:[w.jsx("path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.01 2.983a1 1 0 0 0-.99 0L2.6 9.084a1 1 0 0 0-.019 1.838l8.89 4.444a1 1 0 0 0 1.01 0l8.89-4.444Z"}),w.jsx("path",{d:"M12 19.5v-7.5"}),w.jsx("path",{d:"M6 16.5l-3.5 2"}),w.jsx("path",{d:"M18 16.5l3.5 2"})]}),kg=i=>w.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-award",children:[w.jsx("circle",{cx:"12",cy:"8",r:"7"}),w.jsx("path",{d:"M8.21 13.89 7 22l5-3 5 3-1.21-8.11"})]}),Cg=i=>w.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-book-open",children:[w.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),w.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),Rg=i=>w.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-calendar",children:[w.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),w.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),w.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),w.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),Au=i=>w.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-text",children:[w.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),w.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),w.jsx("path",{d:"M10 9H8"}),w.jsx("path",{d:"M16 13H8"}),w.jsx("path",{d:"M16 17H8"})]}),_S=i=>w.jsx("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-laptop",children:w.jsx("path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.91 1.45H3.63a1 1 0 0 1-.91-1.45L4 16m16 0a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16Z"})}),wS=i=>w.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-wrench",children:[w.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-2.53 2.53a1 1 0 0 0-1.4 0L6.3 14.7a1 1 0 0 0 0-1.4l1.6-1.6a6 6 0 0 1 7.94-7.94l-2.53-2.53z"}),w.jsx("path",{d:"M12.6 12.6 9 16.2"}),w.jsx("path",{d:"M18.2 18.2 14.6 14.6"})]}),ES=i=>w.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-microscope",children:[w.jsx("path",{d:"M6 18h4"}),w.jsx("path",{d:"M10 21v-3"}),w.jsx("path",{d:"M10 3v5"}),w.jsx("path",{d:"M14 3v5"}),w.jsx("path",{d:"M18 18h-4"}),w.jsx("path",{d:"M14 21v-3"}),w.jsx("path",{d:"M18 9h-4"}),w.jsx("path",{d:"M14 12h-4"}),w.jsx("path",{d:"M10 15v-3"}),w.jsx("path",{d:"M6 9h4"}),w.jsx("path",{d:"M12 2v20"}),w.jsx("path",{d:"M12 18a6 6 0 0 0 6-6V9a6 6 0 0 0-6-6Z"})]}),Le=({children:i,delay:e=0,className:t=""})=>{const[s,a]=ze.useState(!1);return ze.useEffect(()=>{const u=setTimeout(()=>{a(!0)},e);return()=>clearTimeout(u)},[e]),w.jsx("div",{className:`${t} transition-all duration-700 ease-out ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-20"}`,children:i})},IS=({setCurrentPage:i})=>{const[e,t]=ze.useState(!1),s=a=>{i(a),t(!1),window.scrollTo(0,0)};return w.jsxs("nav",{className:"fixed w-full z-50 bg-gray-900 bg-opacity-95 shadow-lg py-4 px-6 md:px-12 rounded-b-xl",children:[w.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[w.jsx("button",{className:"focus:outline-none text-white text-2xl font-bold font-inter",onClick:()=>s("home"),children:"GG"}),w.jsxs("div",{className:"hidden md:flex flex-grow justify-center space-x-8",children:[" ",w.jsx(Hn,{icon:w.jsx(Tg,{className:"w-5 h-5 mr-1"}),text:"Home",pageId:"home",onClick:s}),w.jsx(Hn,{icon:w.jsx(Sg,{className:"w-5 h-5 mr-1"}),text:"About",pageId:"about",onClick:s}),w.jsx(Hn,{icon:w.jsx(xu,{className:"w-5 h-5 mr-1"}),text:"Expertise",pageId:"skills",onClick:s}),w.jsx(Hn,{icon:w.jsx(Au,{className:"w-5 h-5 mr-1"}),text:"Publications",pageId:"publications",onClick:s}),w.jsx(Hn,{icon:w.jsx(xg,{className:"w-5 h-5 mr-1"}),text:"Contact",pageId:"contact",onClick:s})]}),w.jsx("div",{className:"md:hidden",children:w.jsx("button",{onClick:()=>t(!e),className:"text-gray-200 focus:outline-none",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e?w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]}),e&&w.jsxs("div",{className:"md:hidden mt-4 space-y-2 bg-gray-800",children:[w.jsx(Hn,{icon:w.jsx(Tg,{className:"w-5 h-5 mr-1"}),text:"Home",pageId:"home",isMobile:!0,onClick:s}),w.jsx(Hn,{icon:w.jsx(Sg,{className:"w-5 h-5 mr-1"}),text:"About",pageId:"about",isMobile:!0,onClick:s}),w.jsx(Hn,{icon:w.jsx(xu,{className:"w-5 h-5 mr-1"}),text:"Expertise",pageId:"skills",isMobile:!0,onClick:s}),w.jsx(Hn,{icon:w.jsx(Au,{className:"w-5 h-5 mr-1"}),text:"Publications",pageId:"publications",isMobile:!0,onClick:s}),w.jsx(Hn,{icon:w.jsx(xg,{className:"w-5 h-5 mr-1"}),text:"Contact",pageId:"contact",isMobile:!0,onClick:s})]})]})},Hn=({icon:i,text:e,pageId:t,isMobile:s,onClick:a})=>w.jsxs("button",{className:`flex items-center text-gray-200 hover:text-blue-400 transition duration-300 font-semibold focus:outline-none ${s?"block w-full text-left py-2 px-4 rounded-lg hover:bg-gray-700":""}`,onClick:()=>a(t),children:[i,e]}),TS=({images:i,currentIndex:e})=>{const[t,s]=ze.useState(!1);return i.length===0?w.jsx("div",{className:"relative w-full h-full bg-gray-900 flex items-center justify-center text-gray-400 font-bold text-2xl"}):w.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[w.jsx("div",{className:"flex h-full transition-transform duration-1000 ease-in-out",style:{transform:`translateX(-${e*100}%)`},children:i.map((a,u)=>w.jsx("img",{src:a,alt:`Materials Engineer Image ${u+1}`,className:"flex-shrink-0 w-full h-full object-cover object-center",onError:h=>{h.target.onerror=null,h.target.src="https://placehold.co/1920x1080/FF0000/FFFFFF?text=Error",s(!0),console.warn(`Error loading image ${a}. This often happens if the image is temporarily unavailable or there's a network issue. Error type: ${h.type||"unknown"}`)}},u))}),t&&w.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-70 flex flex-col items-center justify-center text-white text-center p-4 z-20",children:[w.jsx("p",{className:"text-xl font-bold mb-2",children:"Some Background Images Failed to Load"}),w.jsx("p",{className:"text-md",children:"This might be due to temporary network issues or the image host being unavailable. The carousel will continue to try loading the next available images."})]})]})},Pg=({setCurrentPage:i})=>{const[e,t]=ze.useState(0),s=ze.useRef(null),a=["https://d14k1d0ecj3g0p.cloudfront.net/wp-content/uploads/2021/06/IISc3-1.jpg","https://upload.wikimedia.org/wikipedia/commons/thumb/b/ba/IISc_Materials_Engineering_dept.JPG/1200px-IISc_Materials_Engineering_dept.JPG?20090909040957"],u=ze.useCallback(()=>{s.current&&clearInterval(s.current),s.current=setInterval(()=>{t(_=>(_+1)%a.length)},4e3)},[a.length]);ze.useEffect(()=>(u(),()=>{s.current&&clearInterval(s.current)}),[u]);const h=_=>{s.current&&clearInterval(s.current),t(_),setTimeout(()=>{u()},500)},m=()=>{h((e+1)%a.length)},y=()=>{h((e-1+a.length)%a.length)};return w.jsxs("section",{id:"hero",className:"relative w-full min-h-screen bg-gray-950",children:[w.jsxs("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:[w.jsx("div",{className:"absolute inset-0 z-0",children:w.jsx(TS,{images:a,currentIndex:e})}),w.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center z-20 px-4",children:w.jsx("button",{onClick:y,className:"bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-75 transition duration-300 focus:outline-none","aria-label":"Previous image",children:""})}),w.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-20 px-4",children:w.jsx("button",{onClick:m,className:"bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-75 transition duration-300 focus:outline-none","aria-label":"Next image",children:""})}),w.jsxs(Le,{delay:0,className:"w-full relative z-10",children:[" ",w.jsxs("div",{className:"bg-gray-800 bg-opacity-80 p-8 md:p-12 rounded-xl max-w-5xl mx-auto shadow-2xl backdrop-blur-sm text-white text-center border border-gray-700",children:[w.jsx(Le,{delay:100,children:w.jsx("p",{className:"text-lg text-blue-300 font-semibold mb-2 font-inter",children:"Materials Sciences PhD student"})}),w.jsx(Le,{delay:200,children:w.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold leading-tight mb-4 font-inter text-white",children:["Innovating at the ",w.jsx("span",{className:"text-blue-200",children:"Atomic Scale"})]})}),w.jsx(Le,{delay:300,children:w.jsxs("p",{className:"text-xl md:text-2xl mb-8 font-inter text-gray-200",children:["I am ",w.jsx("span",{className:"font-semibold text-white",children:"Golu Gehlot"}),", passionate about developing and characterizing advanced materials for a sustainable future."]})}),w.jsx(Le,{delay:400,children:w.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 justify-center",children:[w.jsx("button",{className:"px-8 py-3 bg-blue-600 text-white font-bold rounded-full shadow-lg hover:bg-blue-700 transition duration-300 transform hover:scale-105",onClick:()=>i("publications"),children:"Explore My Publications"}),w.jsx("button",{className:"px-8 py-3 bg-gray-200 text-gray-800 font-bold rounded-full shadow-lg hover:bg-gray-300 transition duration-300 transform hover:scale-105",onClick:()=>i("contact"),children:"Connect With Me"})]})})]})]})]}),w.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4 bg-gray-950",children:w.jsx(Le,{delay:0,className:"w-full",children:w.jsxs("div",{className:"p-6 max-w-6xl mx-auto rounded-xl shadow-2xl bg-gray-800 bg-opacity-95 backdrop-blur-md border border-gray-700",children:[w.jsx(Le,{delay:100,children:w.jsx("h2",{className:"text-4xl font-bold text-gray-100 mb-8 font-inter",children:"My Core Focus"})}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 text-left",children:[w.jsx(Le,{delay:200,children:w.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer",onClick:()=>i("publications"),children:[w.jsxs("h3",{className:"text-2xl font-bold text-blue-400 mb-3 font-inter flex items-center",children:[w.jsx(Au,{className:"w-6 h-6 mr-2"})," Latest Publications"]}),w.jsx("p",{className:"text-gray-200 mb-4 font-inter",children:"Discover my contributions to the field through my published research papers and articles."}),w.jsx("button",{className:"inline-flex items-center text-blue-400 hover:text-blue-300 transition-colors duration-200 font-semibold",children:"View All Publications "})]})}),w.jsx(Le,{delay:300,children:w.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer",onClick:()=>i("skills"),children:[w.jsxs("h3",{className:"text-2xl font-bold text-green-400 mb-3 font-inter flex items-center",children:[w.jsx(xu,{className:"w-6 h-6 mr-2"})," Key Expertise"]}),w.jsxs("p",{className:"text-gray-200 mb-4 font-inter",children:["Proficient in ",w.jsx("span",{className:"font-semibold",children:"characterization techniques"})," (SEM, TEM, FTIR, Raman Spectroscopy, XRD, EBSD, EDS, Mechanical testing (Tensile, Creep, and Fatigue), Optical microscopy, DSC) and ",w.jsx("span",{className:"font-semibold",children:"computational modeling"})," (Python) to predict and analyze material behavior."]}),w.jsx("button",{className:"inline-flex items-center text-green-400 hover:text-green-300 transition-colors duration-200 font-semibold",children:"See Full Expertise "})]})})]})]})})}),w.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4 bg-gray-950",children:w.jsx(Le,{delay:0,className:"w-full",children:w.jsxs("div",{className:"p-6 max-w-6xl mx-auto rounded-xl shadow-2xl bg-gray-800 bg-opacity-95 backdrop-blur-md border border-gray-700",children:[w.jsx(Le,{delay:100,children:w.jsx("h2",{className:"text-4xl font-bold text-gray-100 mb-8 font-inter",children:"A Little About Me"})}),w.jsxs("div",{className:"flex flex-col md:flex-row items-center md:space-x-8",children:[w.jsx(Le,{delay:200,className:"md:w-1/2 mb-8 md:mb-0",children:w.jsx("img",{src:"https://placehold.co/400x300/334155/E2E8F0?text=Your+Photo",alt:"Your Photo",className:"rounded-lg shadow-md w-full h-auto object-cover",onError:_=>{_.target.onerror=null,_.target.src="https://placehold.co/400x300/334155/E2E8F0?text=Materials+Engineer"}})}),w.jsxs(Le,{delay:300,className:"md:w-1/2 text-lg text-gray-200 font-inter space-y-3",children:[w.jsx("p",{children:"Hello! I'm Golu Gehlot, a dedicated Materials Sciences PhD student, at IISc Bangalore. I have done my B.tech from MANIT bhopal,2024. My work focuses on understanding the fundamental properties of materials and designing novel ones for advanced applications."}),w.jsxs("p",{children:["My expertise lies in areas such as ",w.jsx("span",{className:"font-semibold text-indigo-300",children:"Deformation mechanism, Damage mechanism, Microstructural studies, Mechanical testing (Tensile, creep, and fatigue), and High temperature testing "}),"."]}),w.jsx("p",{children:"Beyond the lab, I enjoy exploring new hiking trails, reading sci-fi and fantasy novels, computer gaing, football and contributing to open-source science projects."}),w.jsx("button",{className:"inline-flex items-center text-purple-400 hover:text-purple-300 transition-colors duration-200 font-semibold mt-4",onClick:()=>i("about"),children:"Read My Full Bio "})]})]})]})})})]})},SS=({db:i,currentAppId:e,userId:t})=>{const[s,a]=ze.useState(null),[u,h]=ze.useState(!0),[m,y]=ze.useState(null);return ze.useEffect(()=>{if(!i||!e||!t){console.log("About: Waiting for Firebase init or userId. db:",!!i,"appId:",!!e,"userId:",!!t),h(!1);return}console.log("About: Attempting to fetch data for appId:",e,"userId:",t);const _=J1(i,`artifacts/${e}/public/data/aboutContent/aboutData`),I=Pv(_,P=>{P.exists()?a(P.data()):(console.warn("No 'aboutData' document found in Firestore. Please add data via Firebase console."),a({qualifications:[],awards:[],publications:[],conferences:[]})),h(!1)},P=>{console.error("Error fetching about content:",P),P.code==="permission-denied"?y("Failed to load about content due to insufficient permissions. Please ensure your Firestore Security Rules are correctly set up to allow read access to 'artifacts/{appId}/public/data/aboutContent/aboutData' (replace {appId} with your actual app ID). Refer to the Firebase console under 'Firestore Database' -> 'Rules' tab. Your current App ID is: "+e+". Current User ID: "+t):y("Failed to load about content. Error: "+P.message),h(!1)});return()=>I()},[i,e,t]),u?w.jsx("section",{id:"about",className:"py-20 px-6 bg-gray-900 min-h-screen pt-20 flex items-center justify-center",children:w.jsx("div",{className:"text-gray-400 text-xl",children:"Loading About Me content..."})}):m?w.jsx("section",{id:"about",className:"py-20 px-6 bg-gray-900 min-h-screen pt-20 flex items-center justify-center",children:w.jsx("div",{className:"text-red-400 text-xl text-center",children:m})}):w.jsx("section",{id:"about",className:"py-20 px-6 bg-gray-900 min-h-screen pt-20",children:w.jsxs("div",{className:"container mx-auto max-w-4xl",children:[w.jsx(Le,{delay:100,children:w.jsx("h2",{className:"text-4xl font-bold text-center text-gray-100 mb-12 font-inter",children:"About Me"})}),w.jsxs("div",{className:"flex flex-col md:flex-row items-center md:space-x-12",children:[w.jsx(Le,{delay:200,className:"md:w-1/2 mb-8 md:mb-0",children:w.jsx("img",{src:"https://placehold.co/400x300/334155/E2E8F0?text=Materials+Engineer",alt:"About Me",className:"rounded-xl shadow-lg w-full h-auto transform hover:scale-105 transition-transform duration-500",onError:_=>{_.target.onerror=null,_.target.src="https://placehold.co/400x300/334155/E2E8F0?text=Materials+Engineer"}})}),w.jsxs(Le,{delay:300,className:"md:w-1/2 text-lg text-gray-200 space-y-4 font-inter",children:[w.jsx("p",{children:"Hello! I'm Golu Gehlot, a dedicated Materials Sciences PhD student, at IISc Bangalore. I have done my B.tech from MANIT bhopal,2024. My work focuses on understanding the fundamental properties of materials and designing novel ones for advanced applications."}),w.jsxs("p",{children:["My expertise lies in areas such as ",w.jsx("span",{className:"font-semibold text-indigo-300",children:"Deformation mechanism, Damage mechanism, Microstructural studies, Mechanical testing (Tensile, creep, and fatigue), and High temperature testing "}),"."]}),w.jsx("p",{children:"Beyond the lab, I enjoy exploring new hiking trails, reading sci-fi and fantasy novels, computer gaing, football and contributing to open-source science projects."}),w.jsxs("div",{className:"pt-4 flex space-x-4",children:[w.jsx("a",{href:"https://github.com/ChronoShindou07",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors",children:w.jsx(Nv,{className:"w-8 h-8"})}),w.jsx("a",{href:"https://www.linkedin.com/in/golu-gehlot-a16b70216/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors",children:w.jsx(Dv,{className:"w-8 h-8"})}),w.jsx("a",{href:"https://discord.gg/zADYUgB5",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors",children:w.jsx(bv,{className:"w-8 h-8"})}),w.jsx("a",{href:"https://www.webnovel.com/profile/4320276697",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:w.jsx(Vv,{className:"w-8 h-8"})}),w.jsx("a",{href:"https://www.superprof.co.in/dashboard.html/my-listings/listing/10380797",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors",children:w.jsx(Ov,{className:"w-8 h-8"})})]})]})]}),w.jsx("div",{className:"mt-16 pt-8 border-t border-gray-700",children:w.jsxs(Le,{delay:350,children:[w.jsxs("h3",{className:"text-3xl font-bold text-gray-100 mb-6 font-inter text-center flex items-center justify-center",children:[w.jsx(vS,{className:"w-7 h-7 mr-2 text-blue-400"})," Lab Affiliation"]}),w.jsxs("p",{className:"text-lg text-gray-200 text-center font-inter",children:["I am currently a PhD researcher at the ",w.jsx("span",{className:"font-semibold text-blue-300",children:"Advanced Materials Lab"})," at University Name. You can learn more about our research and projects here:"]}),w.jsx("div",{className:"flex justify-center mt-4",children:w.jsxs("a",{href:"https://sites.google.com/view/ankurskchauhan",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-bold rounded-full shadow-lg hover:bg-blue-700 transition duration-300 transform hover:scale-105",children:["Visit Our Lab Website ",w.jsx("span",{className:"ml-2",children:""})]})})]})}),s?.qualifications&&s.qualifications.length>0?w.jsx("div",{className:"mt-16 pt-8 border-t border-gray-700",children:w.jsxs(Le,{delay:400,children:[w.jsxs("h3",{className:"text-3xl font-bold text-gray-100 mb-6 font-inter text-center flex items-center justify-center",children:[w.jsx(Ag,{className:"w-8 h-8 mr-2 text-blue-300"})," Qualifications"]}),w.jsx("ul",{className:"list-disc list-inside text-lg text-gray-200 space-y-2 font-inter pl-4",children:s.qualifications.map((_,I)=>w.jsx("li",{children:_},I))})]})}):w.jsx("div",{className:"mt-16 pt-8 border-t border-gray-700 text-center text-gray-400",children:w.jsxs(Le,{delay:400,children:[w.jsxs("h3",{className:"text-3xl font-bold text-gray-100 mb-6 font-inter text-center flex items-center justify-center",children:[w.jsx(Ag,{className:"w-8 h-8 mr-2 text-blue-300"})," Qualifications"]}),"No qualifications added yet. Add them in Firestore under `aboutContent/aboutData` with a `qualifications` array."]})}),s?.awards&&s.awards.length>0?w.jsx("div",{className:"mt-8 pt-8 border-t border-gray-700",children:w.jsxs(Le,{delay:500,children:[w.jsxs("h3",{className:"text-3xl font-bold text-gray-100 mb-6 font-inter text-center flex items-center justify-center",children:[w.jsx(kg,{className:"w-8 h-8 mr-2 text-yellow-300"})," Awards & Recognition"]}),w.jsx("ul",{className:"list-disc list-inside text-lg text-gray-200 space-y-2 font-inter pl-4",children:s.awards.map((_,I)=>w.jsx("li",{children:_},I))})]})}):w.jsx("div",{className:"mt-8 pt-8 border-t border-gray-700 text-center text-gray-400",children:w.jsxs(Le,{delay:500,children:[w.jsxs("h3",{className:"text-3xl font-bold text-gray-100 mb-6 font-inter text-center flex items-center justify-center",children:[w.jsx(kg,{className:"w-8 h-8 mr-2 text-yellow-300"})," Awards & Recognition"]}),"No awards added yet. Add them in Firestore under `aboutContent/aboutData` with an `awards` array."]})}),s?.publications&&s.publications.length>0?w.jsx("div",{className:"mt-8 pt-8 border-t border-gray-700",children:w.jsxs(Le,{delay:600,children:[w.jsxs("h3",{className:"text-3xl font-bold text-gray-100 mb-6 font-inter text-center flex items-center justify-center",children:[w.jsx(Cg,{className:"w-8 h-8 mr-2 text-purple-300"})," Selected Publications"]}),w.jsx("ul",{className:"list-disc list-inside text-lg text-gray-200 space-y-3 font-inter pl-4",children:s.publications.map((_,I)=>w.jsxs("li",{children:[w.jsxs("span",{className:"font-semibold",children:['"',_.title,',"']})," ",_.journal,", ",_.volume&&`Vol. ${_.volume}, `,_.number&&`No. ${_.number}, `,"pp. ",_.pages,", (",_.year,")."]},I))})]})}):w.jsx("div",{className:"mt-8 pt-8 border-t border-gray-700 text-center text-gray-400",children:w.jsxs(Le,{delay:600,children:[w.jsxs("h3",{className:"text-3xl font-bold text-gray-100 mb-6 font-inter text-center flex items-center justify-center",children:[w.jsx(Cg,{className:"w-8 h-8 mr-2 text-purple-300"})," Selected Publications"]}),"No publications added yet. Add them in Firestore under `aboutContent/aboutData` with a `publications` array (objects with `title`, `journal`, `volume`, `number`, `pages`, `year`)."]})}),s?.conferences&&s.conferences.length>0?w.jsx("div",{className:"mt-8 pt-8 border-t border-gray-700",children:w.jsxs(Le,{delay:700,children:[w.jsxs("h3",{className:"text-3xl font-bold text-gray-100 mb-6 font-inter text-center flex items-center justify-center",children:[w.jsx(Rg,{className:"w-8 h-8 mr-2 text-green-300"})," Conferences & Workshops"]}),w.jsx("ul",{className:"list-disc list-inside text-lg text-gray-200 space-y-2 font-inter pl-4",children:s.conferences.map((_,I)=>w.jsx("li",{children:_},I))})]})}):w.jsx("div",{className:"mt-8 pt-8 border-t border-gray-700 text-center text-gray-400",children:w.jsxs(Le,{delay:700,children:[w.jsxs("h3",{className:"text-3xl font-bold text-gray-100 mb-6 font-inter text-center flex items-center justify-center",children:[w.jsx(Rg,{className:"w-8 h-8 mr-2 text-green-300"})," Conferences & Workshops"]}),"No conferences or workshops added yet. Add them in Firestore under `aboutContent/aboutData` with a `conferences` array."]})})]})})},xS=()=>{const i=[{name:"Material Synthesis",skills:["Powder Metallurgy","Casting","Heat Treatment"],icon:w.jsx(xu,{className:"w-20 h-20 text-blue-400"}),alt:"Material Synthesis Icon"},{name:"Characterization",skills:["SEM","TEM","FTIR","Raman Spectroscopy","XRD","EBSD","EDS","Mechanical testing (Tensile, Creep, and Fatigue)","Optical microscopy, DSC"],icon:w.jsx(ES,{className:"w-20 h-20 text-green-400"}),alt:"Characterization Icon"},{name:"Computational Materials",skills:["Python"],icon:w.jsx(_S,{className:"w-20 h-20 text-purple-400"}),alt:"Computational Materials Icon"},{name:"Software & Tools",skills:["MATLAB","OriginLab","LaTeX","ImageJ","OIM analysis","Git/GitHub","Profex"],icon:w.jsx(wS,{className:"w-20 h-20 text-yellow-400"}),alt:"Software & Tools Icon"}];return w.jsx("section",{id:"skills",className:"py-20 px-6 bg-gray-800 min-h-screen pt-20",children:w.jsxs("div",{className:"container mx-auto max-w-5xl",children:[w.jsx(Le,{delay:100,children:w.jsx("h2",{className:"text-4xl font-bold text-center text-gray-100 mb-12 font-inter",children:"My Expertise"})}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:i.map((e,t)=>w.jsx(Le,{delay:200+t*100,children:w.jsxs("div",{className:"bg-gray-900 p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:scale-105 border border-gray-700",children:[w.jsxs("div",{className:"flex flex-col items-center mb-6",children:[" ",w.jsxs("div",{className:"bg-gray-700 p-4 rounded-full mb-4 flex items-center justify-center",children:[e.icon," "]}),w.jsx("h3",{className:"text-2xl font-semibold text-gray-100 mt-4 font-inter",children:e.name})," "]}),w.jsx("ul",{className:"space-y-3 text-lg text-gray-200 font-inter",children:e.skills.map((s,a)=>w.jsxs("li",{className:"flex items-start break-words",children:[w.jsx("span",{className:"mr-2 text-blue-400 flex-shrink-0",children:""}),s]},a))})]})},t))})]})})},AS=({db:i,currentAppId:e,userId:t})=>{const[s,a]=ze.useState([]),[u,h]=ze.useState(!0),[m,y]=ze.useState(null);return ze.useEffect(()=>{if(!i||!e||!t){console.log("Publications: Waiting for Firebase init or userId. db:",!!i,"appId:",!!e,"userId:",!!t),h(!1);return}console.log("Publications: Attempting to fetch data for appId:",e,"userId:",t);const _=X1(i,`artifacts/${e}/public/data/publications`),I=fS(_),P=Pv(I,j=>{const z=j.docs.map(Y=>({id:Y.id,...Y.data()}));z.sort((Y,J)=>J.year!==Y.year?J.year-Y.year:Y.title.localeCompare(J.title)),a(z),h(!1)},j=>{console.error("Error fetching publications:",j),j.code==="permission-denied"?y("Failed to load publications due to insufficient permissions. Please ensure your Firestore Security Rules are correctly set up to allow read access to 'artifacts/{appId}/public/data/publications' (replace {appId} with your actual app ID). Refer to the Firebase console under 'Firestore Database' -> 'Rules' tab. Your current App ID is: "+e+". Current User ID: "+t):y("Failed to load publications. Error: "+j.message),h(!1)});return()=>P()},[i,e,t]),u?w.jsx("section",{id:"publications",className:"py-20 px-6 bg-gray-900 min-h-screen pt-20 flex items-center justify-center",children:w.jsx("div",{className:"text-gray-400 text-xl",children:"Loading Publications..."})}):m?w.jsx("section",{id:"publications",className:"py-20 px-6 bg-gray-900 min-h-screen pt-20 flex items-center justify-center",children:w.jsx("div",{className:"text-red-400 text-xl text-center",children:m})}):s.length===0?w.jsx("section",{id:"publications",className:"py-20 px-6 bg-gray-900 min-h-screen pt-20 flex items-center justify-center",children:w.jsxs("div",{className:"text-gray-400 text-xl text-center",children:["No publications found. Please add them via Firebase console under `artifacts/",e,"/public/data/publications`."]})}):w.jsx("section",{id:"publications",className:"py-20 px-6 bg-gray-900 min-h-screen pt-20",children:w.jsxs("div",{className:"container mx-auto max-w-4xl",children:[w.jsx(Le,{delay:100,children:w.jsxs("h2",{className:"text-4xl font-bold text-center text-gray-100 mb-12 font-inter flex items-center justify-center",children:[w.jsx(Au,{className:"w-9 h-9 mr-3 text-cyan-300"})," My Publications"]})}),w.jsx("div",{className:"space-y-8",children:s.map((_,I)=>w.jsx(Le,{delay:200+I*100,children:w.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-700 hover:shadow-xl transition-shadow duration-300",children:[w.jsx("h3",{className:"text-xl font-semibold text-gray-100 mb-2 font-inter",children:w.jsx("a",{href:_.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:_.title})}),w.jsxs("p",{className:"text-gray-300 text-md mb-2 font-inter",children:[w.jsx("span",{className:"font-medium",children:_.authors}),". ",_.journal,", ",_.volume&&`Vol. ${_.volume}, `,_.number&&`No. ${_.number}, `,"pp. ",_.pages,", (",_.year,")."]}),_.abstract&&w.jsxs("p",{className:"text-gray-400 text-sm mt-3 font-inter",children:[w.jsx("span",{className:"font-semibold",children:"Abstract:"})," ",_.abstract]}),_.doi&&w.jsxs("p",{className:"text-gray-400 text-sm mt-2 font-inter",children:["DOI: ",w.jsx("a",{href:`https://doi.org/${_.doi}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:_.doi})]}),_.keywords&&_.keywords.length>0&&w.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:_.keywords.map((P,j)=>w.jsx("span",{className:"bg-gray-700 text-gray-300 text-xs px-2 py-1 rounded-full font-inter",children:P},j))})]})},I))})]})})},kS=()=>{const[i,e]=ze.useState({name:"",email:"",message:""}),[t,s]=ze.useState(""),a=h=>{e({...i,[h.target.name]:h.target.value})},u=async h=>{h.preventDefault(),s("Sending message..."),console.log("Form Data Submitted:",i);try{await new Promise(m=>setTimeout(m,1500)),s("Message sent successfully! Thank you for reaching out."),e({name:"",email:"",message:""}),setTimeout(()=>s(""),3e3)}catch(m){console.error("Error sending message:",m),s("Failed to send message. Please try again later."),setTimeout(()=>s(""),3e3)}};return w.jsx("section",{id:"contact",className:"py-20 px-6 bg-gray-800 min-h-screen pt-20",children:w.jsxs("div",{className:"container mx-auto max-w-3xl",children:[w.jsx(Le,{delay:100,children:w.jsx("h2",{className:"text-4xl font-bold text-center text-gray-100 mb-12 font-inter",children:"Get In Touch"})}),w.jsx(Le,{delay:200,className:"w-full",children:w.jsxs("div",{className:"bg-gray-900 p-8 rounded-xl shadow-lg border border-gray-700",children:[w.jsx("p",{className:"text-lg text-gray-200 text-center mb-8 font-inter",children:"Have a question, a collaboration idea, or want to discuss materials science? I'd love to hear from you!"}),w.jsxs("form",{onSubmit:u,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"name",className:"block text-gray-100 font-semibold mb-2 font-inter",children:"Name"}),w.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:a,required:!0,className:"w-full px-4 py-2 bg-gray-700 text-gray-100 border border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-200 font-inter",placeholder:"Your Name"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-gray-100 font-semibold mb-2 font-inter",children:"Email"}),w.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:a,required:!0,className:"w-full px-4 py-2 bg-gray-700 text-gray-100 border border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-200 font-inter",placeholder:"you@example.com"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"message",className:"block text-gray-100 font-semibold mb-2 font-inter",children:"Message"}),w.jsx("textarea",{id:"message",name:"message",value:i.message,onChange:a,rows:"6",required:!0,className:"w-full px-4 py-2 bg-gray-700 text-gray-100 border border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-200 font-inter",placeholder:"Your message..."})]}),w.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-full shadow-lg hover:bg-blue-700 transition duration-300 transform hover:scale-105",children:"Send Message"}),t&&w.jsx("p",{className:"text-center mt-4 text-md font-semibold text-gray-200 font-inter",children:t})]})]})})]})})},CS=()=>w.jsx("footer",{className:"bg-gray-900 text-white py-8 px-6 text-center rounded-t-xl",children:w.jsxs("div",{className:"container mx-auto",children:[w.jsxs("p",{className:"text-lg mb-4 font-inter",children:[" ",new Date().getFullYear()," Your Name. All rights reserved."]}),w.jsxs("div",{className:"flex justify-center space-x-6",children:[w.jsx("a",{href:"https://github.com/ChronoShindou07",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:w.jsx(Nv,{className:"w-7 h-7"})}),w.jsx("a",{href:"https://www.linkedin.com/in/golu-gehlot-a16b70216/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:w.jsx(Dv,{className:"w-7 h-7"})}),w.jsx("a",{href:"https://discord.gg/zADYUgB5",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:w.jsx(bv,{className:"w-7 h-7"})}),w.jsx("a",{href:"https://www.webnovel.com/profile/4320276697",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:w.jsx(Vv,{className:"w-7 h-7"})}),w.jsx("a",{href:"https://www.superprof.co.in/dashboard.html/my-listings/listing/10380797",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors",children:w.jsx(Ov,{className:"w-7 h-7"})})]})]})}),RS=()=>{const[i,e]=ze.useState("home"),[t,s]=ze.useState(null),[a,u]=ze.useState(null),[h,m]=ze.useState(null),[y,_]=ze.useState(!1),[I,P]=ze.useState(null);return ze.useEffect(()=>{(async()=>{try{let z;if(typeof __firebase_config<"u"&&__firebase_config)try{z=JSON.parse(__firebase_config),console.log("Using Firebase config from __firebase_config global variable.")}catch(me){console.error("Error parsing __firebase_config:",me);const _e={apiKey:"AIzaSyC7WzyZ9GjVB7ckX4lv-r3GjAsfc9O3QQA",authDomain:"website-8f5e2.firebaseapp.com",projectId:"website-8f5e2",storageBucket:"website-8f5e2.firebasestorage.app",messagingSenderId:"902295170091",appId:"1:902295170091:web:2c379c9f13ffc161728e6e"};console.warn("Falling back to placeholder Firebase config. Please ensure __firebase_config is valid JSON.")}else{const me={apiKey:"AIzaSyC7WzyZ9GjVB7ckX4lv-r3GjAsfc9O3QQA",authDomain:"website-8f5e2.firebaseapp.com",projectId:"website-8f5e2",storageBucket:"website-8f5e2.firebasestorage.app",messagingSenderId:"902295170091",appId:"1:902295170091:web:2c379c9f13ffc161728e6e"};console.warn("The __firebase_config global variable was not found. Using hardcoded placeholder Firebase config. Please replace these values if deploying outside Canvas.")}if(console.log("Firebase Config being used:",z),!z||Object.keys(z).length===0||!z.apiKey||z.apiKey==="YOUR_API_KEY"){console.error("CRITICAL ERROR: Firebase config is missing or incomplete, or still contains placeholder values. If you are running this outside the Canvas environment, you MUST manually update 'apiKey', 'authDomain', 'projectId', 'storageBucket', 'messagingSenderId', and 'appId' in the 'firebaseConfig' object within the App.js file. Refer to your Firebase project settings -> 'Your apps' -> Web app -> Config for the correct values."),_(!0);return}P(z.appId);const Y=Fg(z),J=Z1(Y),W=kI(Y);s(J),u(W);const we=new Promise(me=>{const _e=gE(W,async ye=>{m(ye?.uid||crypto.randomUUID()),console.log("Firebase Auth State Changed. Current User ID:",ye?.uid||"Anonymous"),ye&&(_e(),me())})});if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await fE(W,__initial_auth_token),console.log("Signed in with custom token.")}catch(me){console.error("Error signing in with custom token, attempting anonymous sign-in:",me),await Sm(W),console.log("Signed in anonymously after custom token failure.")}else await Sm(W),console.log("Signed in anonymously.");await we,_(!0),console.log("Firebase initialization complete and authentication state confirmed.")}catch(z){console.error("Failed to initialize Firebase or authenticate:",z),_(!0)}})()},[]),w.jsxs("div",{className:"font-sans antialiased text-gray-100 bg-gray-950 min-h-screen",children:[" ",w.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        .font-inter { font-family: 'Inter', sans-serif; }
        html, body, #root { /* Ensure html, body, and the root div take full height and width */
            height: 100%;
            width: 100%; /* Added this line */
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }
        `}),w.jsx(IS,{setCurrentPage:e}),w.jsx("main",{className:"min-h-screen pt-24",children:y?w.jsx(ze.Suspense,{fallback:w.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400",children:"Loading content..."}),children:(()=>{switch(i){case"home":return w.jsx(Pg,{setCurrentPage:e});case"about":return w.jsx(SS,{db:t,currentAppId:I,userId:h});case"skills":return w.jsx(xS,{});case"publications":return w.jsx(AS,{db:t,currentAppId:I,userId:h});case"contact":return w.jsx(kS,{});default:return w.jsx(Pg,{setCurrentPage:e})}})()}):w.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400",children:"Initializing Firebase..."})}),w.jsx(CS,{})]})};K_.createRoot(document.getElementById("root")).render(w.jsx(ze.StrictMode,{children:w.jsx(RS,{})}));
